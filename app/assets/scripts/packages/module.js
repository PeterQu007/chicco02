function saveWidgetPref(n, t) {
  var i =
    postWidgetPrefUrl +
    "?cookieName=" +
    n +
    "&cookieValue=" +
    t +
    "&entityModule=" +
    widgetPrefModule;
  $.ajax({
    contentType: "application/json; charset=utf-8",
    dataType: "json",
    type: "POST",
    url: i,
    headers: {
      __RequestVerificationToken: $(
        'input[name="__RequestVerificationToken"]'
      ).val()
    }
  });
}
function generalFormSetupEvents() {
  $.jgrid != null &&
    $.extend($.jgrid.defaults, { altRows: !0, altclass: "altRow" });
  try {
    parent && (window.updateSession = parent.updateSession);
    $.isFunction(updateSession) && updateSession();
  } catch (n) {}
  $(".acfb-input, .custom-tooltip")
    .focus(function(n) {
      if (_currentAcfbFocus == n.currentTarget.id) {
        _currentAcfbFocus = n.currentTarget.id;
        return;
      }
      _currentAcfbFocus = n.currentTarget.id;
      var i = $("#" + n.currentTarget.id),
        t = 0,
        r = i.data("custom-tooltip-pos");
      if (
        (r != null && r.length != 0 && (t = parseInt(r, 10)),
        !window.top._noMoreToolTip[t]) &&
        n.currentTarget.id.length != 0
      ) {
        if (t == 0 && i.attr("url").length == 0) {
          _currentAcfbFocus = n.currentTarget.id;
          return;
        }
        var f = $("#" + n.currentTarget.id),
          e = f.offset().top,
          o = f.offset().left + 40,
          u =
            "Begin Typing the data you wish to select, or click on the magnifying glass to the right to use the look-up feature.";
        t > 0 && (u = i.attr("title"));
        $("#acfbTooltip").length == 0
          ? ($("body").append(
              "<div id='acfbTooltip' class='ui-state-active' style='width: 215px; display:none;position:absolute;left:" +
                o +
                "px;top:" +
                e +
                "px'><span style='float: left;'>" +
                u +
                "</span><em title='Hide Tooltip' class='ui-icon ui-icon-circle-close'></em></div>"
            ),
            $("#acfbTooltip em").click(function() {
              $("#acfbTooltipDialog").length == 0 &&
                $("body").append(
                  "<div id='acfbTooltipDialog' style='display: none;'>You have chosen to close the auto complete tool tip. Click the \"Ok\" button to hide this tool tip for this session. If you want to permanently disable this tool tip click on the \"Delete Tool Tip\" button below.</div>"
                );
              $("#acfbTooltipDialog").dialog({
                autoOpen: !0,
                draggable: !1,
                modal: !0,
                resizable: !1,
                title: "Delete Tooltip?",
                buttons: {
                  "Delete Tooltip": function() {
                    $.ajax({
                      url: window.top._disableAcTooltipUrl,
                      type: "POST",
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      data: JSON.stringify({ pos: t }),
                      success: function() {
                        $.jGrowl("Disabled tooltip", {
                          header: "SUCCESS",
                          group: "jgrowl-success"
                        });
                      },
                      error: function(n) {
                        this.ajaxRetryOnError(n, "Error disabling tooltip.");
                      }
                    });
                    $(this).dialog("close");
                  },
                  Ok: function() {
                    $(this).dialog("close");
                  }
                }
              });
              window.top._noMoreToolTip[t] = !0;
            }))
          : $("#acfbTooltip")
              .css({ left: o + "px", top: e + "px" })
              .find("span:first")
              .html(u);
        $("#acfbTooltip")
          .stop(!0, !0)
          .show("fast");
      }
    })
    .blur(function() {
      $("#acfbTooltip").fadeOut("slow");
    })
    .keypress(function() {
      $("#acfbTooltip").fadeOut("slow");
    });
  typeof superfish != "undefined" &&
    $(".sf-menu:not(.sf-js-enabled)").superfish();
  $("input.watermark").length > 0 && $("input.watermark").watermark();
  $(".placeholder-select").on("blur change select", function() {
    $(this)
      .find(":selected")
      .val().length == 0
      ? $(this).addClass("placeholderSelect")
      : $(this).removeClass("placeholderSelect");
  });
  $(".placeholder-select").click(function() {
    $(this).removeClass("placeholderSelect");
  });
  $(".placeholder-select").each(function() {
    $(this)
      .find(":selected")
      .val().length == 0 && $(this).addClass("placeholderSelect");
  });
  $(".placeholder-autocomplete").each(function() {
    placeholderAutocomplete($(this));
  });
  $(".placeholder-autocomplete").on("focus blur", function() {
    placeholderAutocomplete($(this));
  });
  isTabletDevice() &&
    $(".nativeScroll,.scroll,.ui-jqgrid").length > 0 &&
    window.setInterval(function() {
      $(".nativeScroll,div.ui-jqgrid-bdiv").each(function() {
        isTabHidden()
          ? $(this).hasClass("nativeScrollOn") &&
            $(this).removeClass("nativeScrollOn")
          : $(this).hasClass("nativeScrollOn") ||
            ($(this).addClass("nativeScrollOn"),
            $(window).height($(window).height()));
      });
    }, 1e3);
  $("input.f-form-zip").each(function() {
    $(this).mask(
      $(this)
        .data("mask")
        .toString()
    );
  });
}
function placeholderAutocomplete(n) {
  var t = n.attr("data-placeholder"),
    i;
  t &&
    ((i = n.closest("ul.acfb-holder")),
    i.find("li.acfb-data").length > 0
      ? n.removeAttr("placeholder")
      : n.attr("placeholder", t));
}
function isTabHidden() {
  var t = parent,
    n = window.frameElement.id;
  return t.$("#" + n).is(":visible")
    ? n == "divHomePageMessageIframe" ||
      n == "listingFrame" ||
      n == "ifSpreadsheet" ||
      n == "ifView"
      ? ((n = t.frameElement.id),
        (t = parent.parent),
        t.$("#" + n).is(":visible")
          ? window.top.$("#cboxOverlay").is(":visible")
          : !0)
      : !1
    : !0;
}
function isTabletDevice() {
  try {
    var n = navigator.userAgent.match(/iPad/i) != null;
    return _isTablet || n;
  } catch (t) {
    return !1;
  }
}
function isVoiceToTextSupported() {
  var n = navigator.userAgent.indexOf("Chrome") > -1,
    t = window.webkitSpeechRecognition || window.SpeechRecognition;
  return n && t;
}
function isUploadSupported() {
  try {
    return _isUploadSupported;
  } catch (n) {
    return !1;
  }
}
function isRteSupported() {
  try {
    return _isRteSupported;
  } catch (n) {
    return !1;
  }
}
function validateDateString(n) {
  if (n != "")
    try {
      var i = new Date(n),
        t = n.split("/");
      return t.length < 3
        ? !1
        : i.getMonth() != parseInt(t[0], 10) - 1 ||
          i.getDate() != parseInt(t[1], 10) ||
          i.getFullYear() != parseInt(t[2], 10)
        ? !1
        : !0;
    } catch (r) {
      return !1;
    }
  return !1;
}
function switchClassEx(n, t, i) {
  n.removeClass(i);
  n.addClass(t);
}
function loadSlideShow(n, t, i) {
  i = i || n;
  var f = "Listing #" + i,
    r = getSlideShowPhotoSize(),
    u = getSlideShowWindowDimensions(r),
    e = getPhotoPageSize(r.height),
    o =
      slideshowUrl +
      "/" +
      n +
      "/" +
      t +
      "?callingWindow=" +
      window.frameElement.id +
      "&height=" +
      r.height +
      "&width=" +
      r.width +
      "&photoPageSize=" +
      e +
      "&displayId=" +
      i;
  window.top.$.fn.colorbox({
    href: o,
    open: !0,
    iframe: !0,
    width: u.width,
    height: u.height,
    title: f,
    close:
      '<button id="ViewFullImage">View Full Image</button><button id="ToggleSS">Stop Slideshow</button><button id="Print">Print</button><button id="Close">Close</button>',
    onClosed: !1
  });
}
function loadUrlInPopup(n, t) {
  var r = getSlideShowPhotoSize(),
    i = getSlideShowWindowDimensions(r);
  window.top.$.fn.colorbox({
    href: n,
    open: !0,
    iframe: !0,
    width: i.width,
    height: i.height,
    title: t,
    close: '<button id="Close">Close</button>',
    onClosed: !1
  });
}
function getPhotoPageSize(n) {
  return Math.floor((n - 66) / 90);
}
function getSlideShowWindowDimensions(n) {
  return { height: n.height + 95, width: n.width + 215 };
}
function getSlideShowPhotoSize() {
  var n = { height: 480, width: 640 },
    t,
    i;
  return typeof window.top.$.focusFx.photoResolution.Resolutions == "undefined"
    ? n
    : ((t = window.top.getAppHeight() - 50),
      (i = window.top.getAppWidth()),
      $.each(window.top.$.focusFx.photoResolution.Resolutions, function(r, u) {
        if (t > u.Y && i > u.X) return (n.height = u.Y), (n.width = u.X), !1;
      }),
      n);
}
function DoPrintWithBrowserCheck(n) {
  n.document.queryCommandSupported("print")
    ? n.document.execCommand("print", !1, null)
    : ((n.name = n.document.URL), n.print());
}
function isInt(n) {
  return typeof n == "number" && n % 1 == 0;
}
function checkLoadMap() {
  var i, n, r, t;
  window._parcelStreamUrl
    ? ((i = document.getElementsByTagName("head")[0]),
      (n = document.createElement("script")),
      (n.type = "text/javascript"),
      (n.src = window._parcelStreamUrl),
      (n.onload = function() {
        typeof loadMap == "function" && loadMap(!1);
      }),
      (n.onerror = function() {
        typeof loadMap == "function" && loadMap(!0);
      }),
      i.appendChild(n))
    : typeof loadMap == "function" && loadMap(!0);
  window._infoBoxUrl &&
    ((r = document.getElementsByTagName("head")[0]),
    (t = document.createElement("script")),
    (t.type = "text/javascript"),
    (t.src = window._infoBoxUrl),
    r.appendChild(t));
}
function isIE() {
  ua = navigator.userAgent;
  return (
    ua.indexOf("MSIE ") > -1 ||
    ua.indexOf("Trident/") > -1 ||
    /Edge/.test(navigator.userAgent)
  );
}
function tableToGrid(n, t) {
  jQuery(n).each(function() {
    if (!this.grid) {
      jQuery(this).width("99%");
      var n = jQuery(this).width(),
        u = jQuery("input[type=checkbox]:first", jQuery(this)),
        i = jQuery("input[type=radio]:first", jQuery(this));
      u = u.length > 0;
      i = !u && i.length > 0;
      var h = u || i,
        r = [],
        e = [];
      jQuery("th", jQuery(this)).each(function() {
        r.length === 0 && h
          ? (r.push({
              name: "__selection__",
              index: "__selection__",
              width: 0,
              hidden: !0
            }),
            e.push("__selection__"))
          : (r.push({
              name:
                jQuery(this).attr("id") ||
                jQuery
                  .trim(jQuery.jgrid.stripHtml(jQuery(this).html()))
                  .split(" ")
                  .join("_"),
              index:
                jQuery(this).attr("id") ||
                jQuery
                  .trim(jQuery.jgrid.stripHtml(jQuery(this).html()))
                  .split(" ")
                  .join("_"),
              width: jQuery(this).width() || 150
            }),
            e.push(jQuery(this).html()));
      });
      var f = [],
        o = [],
        s = [];
      for (
        jQuery("tbody > tr", jQuery(this)).each(function() {
          var t = {},
            n = 0;
          jQuery("td", jQuery(this)).each(function() {
            if (n === 0 && h) {
              var i = jQuery("input", jQuery(this)),
                u = i.attr("value");
              o.push(u || f.length);
              i.prop("checked") && s.push(u);
              t[r[n].name] = i.attr("value");
            } else t[r[n].name] = jQuery(this).html();
            n++;
          });
          n > 0 && f.push(t);
        }),
          jQuery(this).empty(),
          jQuery(this).addClass("scroll"),
          jQuery(this).jqGrid(
            jQuery.extend(
              {
                datatype: "local",
                width: n,
                colNames: e,
                colModel: r,
                multiselect: u
              },
              t || {}
            )
          ),
          n = 0;
        n < f.length;
        n++
      )
        (i = null),
          o.length > 0 &&
            (i = o[n]) &&
            i.replace &&
            (i = encodeURIComponent(i).replace(/[.\-%]/g, "_")),
          i === null && (i = n + 1),
          jQuery(this).jqGrid("addRowData", i, f[n]);
      for (n = 0; n < s.length; n++) jQuery(this).jqGrid("setSelection", s[n]);
    }
  });
}
function blockUI(n, t) {
  t || (t = "125%");
  $.blockUI({
    message: n,
    fadeIn: 0,
    overlayCSS: { backgroundColor: "#000", opacity: 0.2 },
    css: {
      border: "none",
      padding: "15px",
      backgroundColor: "#000",
      "-webkit-border-radius": "10px",
      "-moz-border-radius": "10px",
      opacity: 0.85,
      color: "#fff",
      fontSize: t,
      fontWeight: "bold"
    }
  });
}
var _currentAcfbFocus, config;
jQuery.migrateMute === void 0 && (jQuery.migrateMute = !0),
  (function(n, t, i) {
    function r(i) {
      var r = t.console;
      o[i] ||
        ((o[i] = !0),
        n.migrateWarnings.push(i),
        r &&
          r.warn &&
          !n.migrateMute &&
          (r.warn("JQMIGRATE: " + i), n.migrateTrace && r.trace && r.trace()));
    }
    function e(t, u, f, e) {
      if (Object.defineProperty)
        try {
          return (
            Object.defineProperty(t, u, {
              configurable: !0,
              enumerable: !0,
              get: function() {
                return r(e), f;
              },
              set: function(n) {
                r(e);
                f = n;
              }
            }),
            i
          );
        } catch (o) {}
      n._definePropertyBroken = !0;
      t[u] = f;
    }
    var o = {},
      l,
      a,
      v;
    n.migrateWarnings = [];
    !n.migrateMute &&
      t.console &&
      t.console.log &&
      t.console.log("JQMIGRATE: Logging is active");
    n.migrateTrace === i && (n.migrateTrace = !0);
    n.migrateReset = function() {
      o = {};
      n.migrateWarnings.length = 0;
    };
    "BackCompat" === document.compatMode &&
      r("jQuery is not compatible with Quirks Mode");
    var s = n("<input/>", { size: 1 }).attr("size") && n.attrFn,
      h = n.attr,
      g =
        (n.attrHooks.value && n.attrHooks.value.get) ||
        function() {
          return null;
        },
      nt =
        (n.attrHooks.value && n.attrHooks.value.set) ||
        function() {
          return i;
        },
      tt = /^(?:input|button)$/i,
      it = /^[238]$/,
      rt = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
      ut = /^(?:checked|selected)$/i;
    e(n, "attrFn", s || {}, "jQuery.attrFn is deprecated");
    n.attr = function(t, u, f, e) {
      var o = u.toLowerCase(),
        c = t && t.nodeType;
      return e &&
        (4 > h.length && r("jQuery.fn.attr( props, pass ) is deprecated"),
        t && !it.test(c) && (s ? u in s : n.isFunction(n.fn[u])))
        ? n(t)[u](f)
        : ("type" === u &&
            f !== i &&
            tt.test(t.nodeName) &&
            t.parentNode &&
            r("Can't change the 'type' of an input or button in IE 6/7/8"),
          !n.attrHooks[o] &&
            rt.test(o) &&
            ((n.attrHooks[o] = {
              get: function(t, r) {
                var u,
                  f = n.prop(t, r);
                return f === !0 ||
                  ("boolean" != typeof f &&
                    (u = t.getAttributeNode(r)) &&
                    u.nodeValue !== !1)
                  ? r.toLowerCase()
                  : i;
              },
              set: function(t, i, r) {
                var u;
                return (
                  i === !1
                    ? n.removeAttr(t, r)
                    : ((u = n.propFix[r] || r),
                      u in t && (t[u] = !0),
                      t.setAttribute(r, r.toLowerCase())),
                  r
                );
              }
            }),
            ut.test(o) &&
              r(
                "jQuery.fn.attr('" +
                  o +
                  "') may use property instead of attribute"
              )),
          h.call(n, t, u, f));
    };
    n.attrHooks.value = {
      get: function(n, t) {
        var i = (n.nodeName || "").toLowerCase();
        return "button" === i
          ? g.apply(this, arguments)
          : ("input" !== i &&
              "option" !== i &&
              r("jQuery.fn.attr('value') no longer gets properties"),
            t in n ? n.value : null);
      },
      set: function(n, t) {
        var u = (n.nodeName || "").toLowerCase();
        return "button" === u
          ? nt.apply(this, arguments)
          : ("input" !== u &&
              "option" !== u &&
              r("jQuery.fn.attr('value', val) no longer sets properties"),
            (n.value = t),
            i);
      }
    };
    var f,
      u,
      c = n.fn.init,
      ft = n.parseJSON,
      et = /^([^<]*)(<[\w\W]+>)([^>]*)$/;
    n.fn.init = function(t, i, u) {
      var f;
      return t &&
        "string" == typeof t &&
        !n.isPlainObject(i) &&
        (f = et.exec(n.trim(t))) &&
        f[0] &&
        ("<" !== t.charAt(0) &&
          r("$(html) HTML strings must start with '<' character"),
        f[3] && r("$(html) HTML text after last tag is ignored"),
        "#" === f[0].charAt(0) &&
          (r("HTML string cannot start with a '#' character"),
          n.error("JQMIGRATE: Invalid selector string (XSS)")),
        i && i.context && (i = i.context),
        n.parseHTML)
        ? c.call(this, n.parseHTML(f[2], i, !0), i, u)
        : c.apply(this, arguments);
    };
    n.fn.init.prototype = n.fn;
    n.parseJSON = function(n) {
      return n || null === n
        ? ft.apply(this, arguments)
        : (r("jQuery.parseJSON requires a valid JSON string"), null);
    };
    n.uaMatch = function(n) {
      n = n.toLowerCase();
      var t =
        /(chrome)[ \/]([\w.]+)/.exec(n) ||
        /(webkit)[ \/]([\w.]+)/.exec(n) ||
        /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n) ||
        /(msie) ([\w.]+)/.exec(n) ||
        (0 > n.indexOf("compatible") &&
          /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)) ||
        [];
      return { browser: t[1] || "", version: t[2] || "0" };
    };
    n.browser ||
      ((f = n.uaMatch(navigator.userAgent)),
      (u = {}),
      f.browser && ((u[f.browser] = !0), (u.version = f.version)),
      u.chrome ? (u.webkit = !0) : u.webkit && (u.safari = !0),
      (n.browser = u));
    e(n, "browser", n.browser, "jQuery.browser is deprecated");
    n.sub = function() {
      function t(n, i) {
        return new t.fn.init(n, i);
      }
      n.extend(!0, t, this);
      t.superclass = this;
      t.fn = t.prototype = this();
      t.fn.constructor = t;
      t.sub = this.sub;
      t.fn.init = function(r, u) {
        return (
          u && u instanceof n && !(u instanceof t) && (u = t(u)),
          n.fn.init.call(this, r, u, i)
        );
      };
      t.fn.init.prototype = t.fn;
      var i = t(document);
      return r("jQuery.sub() is deprecated"), t;
    };
    n.ajaxSetup({ converters: { "text json": n.parseJSON } });
    l = n.fn.data;
    n.fn.data = function(t) {
      var f,
        u,
        e = this[0];
      return !e ||
        "events" !== t ||
        1 !== arguments.length ||
        ((f = n.data(e, t)),
        (u = n._data(e, t)),
        (f !== i && f !== u) || u === i)
        ? l.apply(this, arguments)
        : (r("Use of jQuery.fn.data('events') is deprecated"), u);
    };
    a = /\/(java|ecma)script/i;
    v = n.fn.andSelf || n.fn.addBack;
    n.fn.andSelf = function() {
      return (
        r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),
        v.apply(this, arguments)
      );
    };
    n.clean ||
      (n.clean = function(t, u, f, e) {
        u = u || document;
        u = (!u.nodeType && u[0]) || u;
        u = u.ownerDocument || u;
        r("jQuery.clean() is deprecated");
        var s,
          o,
          c,
          l,
          h = [];
        if ((n.merge(h, n.buildFragment(t, u).childNodes), f))
          for (
            c = function(n) {
              return !n.type || a.test(n.type)
                ? e
                  ? e.push(n.parentNode ? n.parentNode.removeChild(n) : n)
                  : f.appendChild(n)
                : i;
            },
              s = 0;
            null != (o = h[s]);
            s++
          )
            (n.nodeName(o, "script") && c(o)) ||
              (f.appendChild(o),
              o.getElementsByTagName !== i &&
                ((l = n.grep(n.merge([], o.getElementsByTagName("script")), c)),
                h.splice.apply(h, [s + 1, 0].concat(l)),
                (s += l.length)));
        return h;
      });
    var ot = n.event.add,
      st = n.event.remove,
      ht = n.event.trigger,
      ct = n.fn.toggle,
      y = n.fn.live,
      p = n.fn.die,
      w = "ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",
      b = RegExp("\\b(?:" + w + ")\\b"),
      k = /(?:^|\s)hover(\.\S+|)\b/,
      d = function(t) {
        return "string" != typeof t || n.event.special.hover
          ? t
          : (k.test(t) &&
              r(
                "'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"
              ),
            t && t.replace(k, "mouseenter$1 mouseleave$1"));
      };
    n.event.props &&
      "attrChange" !== n.event.props[0] &&
      n.event.props.unshift(
        "attrChange",
        "attrName",
        "relatedNode",
        "srcElement"
      );
    n.event.dispatch &&
      e(
        n.event,
        "handle",
        n.event.dispatch,
        "jQuery.event.handle is undocumented and deprecated"
      );
    n.event.add = function(n, t, i, u, f) {
      n !== document &&
        b.test(t) &&
        r("AJAX events should be attached to document: " + t);
      ot.call(this, n, d(t || ""), i, u, f);
    };
    n.event.remove = function(n, t, i, r, u) {
      st.call(this, n, d(t) || "", i, r, u);
    };
    n.fn.error = function() {
      var n = Array.prototype.slice.call(arguments, 0);
      return (
        r("jQuery.fn.error() is deprecated"),
        n.splice(0, 0, "error"),
        arguments.length
          ? this.bind.apply(this, n)
          : (this.triggerHandler.apply(this, n), this)
      );
    };
    n.fn.toggle = function(t, i) {
      if (!n.isFunction(t) || !n.isFunction(i))
        return ct.apply(this, arguments);
      r("jQuery.fn.toggle(handler, handler...) is deprecated");
      var u = arguments,
        e = t.guid || n.guid++,
        f = 0,
        o = function(i) {
          var r = (n._data(this, "lastToggle" + t.guid) || 0) % f;
          return (
            n._data(this, "lastToggle" + t.guid, r + 1),
            i.preventDefault(),
            u[r].apply(this, arguments) || !1
          );
        };
      for (o.guid = e; u.length > f; ) u[f++].guid = e;
      return this.click(o);
    };
    n.fn.live = function(t, i, u) {
      return (
        r("jQuery.fn.live() is deprecated"),
        y
          ? y.apply(this, arguments)
          : (n(this.context).on(t, this.selector, i, u), this)
      );
    };
    n.fn.die = function(t, i) {
      return (
        r("jQuery.fn.die() is deprecated"),
        p
          ? p.apply(this, arguments)
          : (n(this.context).off(t, this.selector || "**", i), this)
      );
    };
    n.event.trigger = function(n, t, i, u) {
      return (
        i || b.test(n) || r("Global events are undocumented and deprecated"),
        ht.call(this, n, t, i || document, u)
      );
    };
    n.each(w.split("|"), function(t, i) {
      n.event.special[i] = {
        setup: function() {
          var t = this;
          return (
            t !== document &&
              (n.event.add(document, i + "." + n.guid, function() {
                n.event.trigger(i, null, t, !0);
              }),
              n._data(this, i, n.guid++)),
            !1
          );
        },
        teardown: function() {
          return (
            this !== document &&
              n.event.remove(document, i + "." + n._data(this, i)),
            !1
          );
        }
      };
    });
  })(jQuery, window),
  (function(n, t) {
    function i(t, i) {
      var u = t.nodeName.toLowerCase(),
        f,
        e,
        o;
      return "area" === u
        ? ((f = t.parentNode),
          (e = f.name),
          !t.href || !e || f.nodeName.toLowerCase() !== "map")
          ? !1
          : ((o = n("img[usemap=#" + e + "]")[0]), !!o && r(o))
        : (/input|select|textarea|button|object/.test(u)
            ? !t.disabled
            : "a" == u
            ? t.href || i
            : i) && r(t);
    }
    function r(t) {
      return !n(t)
        .parents()
        .andSelf()
        .filter(function() {
          return (
            n.curCSS(this, "visibility") === "hidden" ||
            n.expr.filters.hidden(this)
          );
        }).length;
    }
    ((n.ui = n.ui || {}), n.ui.version) ||
      (n.extend(n.ui, {
        version: "1.8.24",
        keyCode: {
          ALT: 18,
          BACKSPACE: 8,
          CAPS_LOCK: 20,
          COMMA: 188,
          COMMAND: 91,
          COMMAND_LEFT: 91,
          COMMAND_RIGHT: 93,
          CONTROL: 17,
          DELETE: 46,
          DOWN: 40,
          END: 35,
          ENTER: 13,
          ESCAPE: 27,
          HOME: 36,
          INSERT: 45,
          LEFT: 37,
          MENU: 93,
          NUMPAD_ADD: 107,
          NUMPAD_DECIMAL: 110,
          NUMPAD_DIVIDE: 111,
          NUMPAD_ENTER: 108,
          NUMPAD_MULTIPLY: 106,
          NUMPAD_SUBTRACT: 109,
          PAGE_DOWN: 34,
          PAGE_UP: 33,
          PERIOD: 190,
          RIGHT: 39,
          SHIFT: 16,
          SPACE: 32,
          TAB: 9,
          UP: 38,
          WINDOWS: 91
        }
      }),
      n.fn.extend({
        propAttr: n.fn.prop || n.fn.attr,
        _focus: n.fn.focus,
        focus: function(t, i) {
          return typeof t == "number"
            ? this.each(function() {
                var r = this;
                setTimeout(function() {
                  n(r).focus();
                  i && i.call(r);
                }, t);
              })
            : this._focus.apply(this, arguments);
        },
        scrollParent: function() {
          var t;
          return (
            (t =
              (n.browser.msie &&
                /(static|relative)/.test(this.css("position"))) ||
              /absolute/.test(this.css("position"))
                ? this.parents()
                    .filter(function() {
                      return (
                        /(relative|absolute|fixed)/.test(
                          n.curCSS(this, "position", 1)
                        ) &&
                        /(auto|scroll)/.test(
                          n.curCSS(this, "overflow", 1) +
                            n.curCSS(this, "overflow-y", 1) +
                            n.curCSS(this, "overflow-x", 1)
                        )
                      );
                    })
                    .eq(0)
                : this.parents()
                    .filter(function() {
                      return /(auto|scroll)/.test(
                        n.curCSS(this, "overflow", 1) +
                          n.curCSS(this, "overflow-y", 1) +
                          n.curCSS(this, "overflow-x", 1)
                      );
                    })
                    .eq(0)),
            /fixed/.test(this.css("position")) || !t.length ? n(document) : t
          );
        },
        zIndex: function(i) {
          if (i !== t) return this.css("zIndex", i);
          if (this.length)
            for (var r = n(this[0]), u, f; r.length && r[0] !== document; ) {
              if (
                ((u = r.css("position")),
                (u === "absolute" || u === "relative" || u === "fixed") &&
                  ((f = parseInt(r.css("zIndex"), 10)), !isNaN(f) && f !== 0))
              )
                return f;
              r = r.parent();
            }
          return 0;
        },
        disableSelection: function() {
          return this.bind(
            (n.support.selectstart ? "selectstart" : "mousedown") +
              ".ui-disableSelection",
            function(n) {
              n.preventDefault();
            }
          );
        },
        enableSelection: function() {
          return this.unbind(".ui-disableSelection");
        }
      }),
      n("<a>").outerWidth(1).jquery ||
        n.each(["Width", "Height"], function(i, r) {
          function e(t, i, r, u) {
            return (
              n.each(o, function() {
                i -= parseFloat(n.curCSS(t, "padding" + this, !0)) || 0;
                r &&
                  (i -=
                    parseFloat(n.curCSS(t, "border" + this + "Width", !0)) ||
                    0);
                u && (i -= parseFloat(n.curCSS(t, "margin" + this, !0)) || 0);
              }),
              i
            );
          }
          var o = r === "Width" ? ["Left", "Right"] : ["Top", "Bottom"],
            u = r.toLowerCase(),
            f = {
              innerWidth: n.fn.innerWidth,
              innerHeight: n.fn.innerHeight,
              outerWidth: n.fn.outerWidth,
              outerHeight: n.fn.outerHeight
            };
          n.fn["inner" + r] = function(i) {
            return i === t
              ? f["inner" + r].call(this)
              : this.each(function() {
                  n(this).css(u, e(this, i) + "px");
                });
          };
          n.fn["outer" + r] = function(t, i) {
            return typeof t != "number"
              ? f["outer" + r].call(this, t)
              : this.each(function() {
                  n(this).css(u, e(this, t, !0, i) + "px");
                });
          };
        }),
      n.extend(n.expr[":"], {
        data: n.expr.createPseudo
          ? n.expr.createPseudo(function(t) {
              return function(i) {
                return !!n.data(i, t);
              };
            })
          : function(t, i, r) {
              return !!n.data(t, r[3]);
            },
        focusable: function(t) {
          return i(t, !isNaN(n.attr(t, "tabindex")));
        },
        tabbable: function(t) {
          var r = n.attr(t, "tabindex"),
            u = isNaN(r);
          return (u || r >= 0) && i(t, !u);
        }
      }),
      n(function() {
        var i = document.body,
          t = i.appendChild((t = document.createElement("div")));
        t.offsetHeight;
        n.extend(t.style, {
          minHeight: "100px",
          height: "auto",
          padding: 0,
          borderWidth: 0
        });
        n.support.minHeight = t.offsetHeight === 100;
        n.support.selectstart = "onselectstart" in t;
        i.removeChild(t).style.display = "none";
      }),
      n.curCSS || (n.curCSS = n.css),
      n.extend(n.ui, {
        plugin: {
          add: function(t, i, r) {
            var f = n.ui[t].prototype,
              u;
            for (u in r)
              (f.plugins[u] = f.plugins[u] || []), f.plugins[u].push([i, r[u]]);
          },
          call: function(n, t, i) {
            var u = n.plugins[t],
              r;
            if (u && n.element[0].parentNode)
              for (r = 0; r < u.length; r++)
                n.options[u[r][0]] && u[r][1].apply(n.element, i);
          }
        },
        contains: function(n, t) {
          return document.compareDocumentPosition
            ? n.compareDocumentPosition(t) & 16
            : n !== t && n.contains(t);
        },
        hasScroll: function(t, i) {
          if (n(t).css("overflow") === "hidden") return !1;
          var r = i && i === "left" ? "scrollLeft" : "scrollTop",
            u = !1;
          return t[r] > 0 ? !0 : ((t[r] = 1), (u = t[r] > 0), (t[r] = 0), u);
        },
        isOverAxis: function(n, t, i) {
          return n > t && n < t + i;
        },
        isOver: function(t, i, r, u, f, e) {
          return n.ui.isOverAxis(t, r, f) && n.ui.isOverAxis(i, u, e);
        }
      }));
  })(jQuery),
  (function(n, t) {
    var i, r;
    n.cleanData
      ? ((i = n.cleanData),
        (n.cleanData = function(t) {
          for (var r = 0, u; (u = t[r]) != null; r++)
            try {
              n(u).triggerHandler("remove");
            } catch (f) {}
          i(t);
        }))
      : ((r = n.fn.remove),
        (n.fn.remove = function(t, i) {
          return this.each(function() {
            return (
              i ||
                ((!t || n.filter(t, [this]).length) &&
                  n("*", this)
                    .add([this])
                    .each(function() {
                      try {
                        n(this).triggerHandler("remove");
                      } catch (t) {}
                    })),
              r.call(n(this), t, i)
            );
          });
        }));
    n.widget = function(t, i, r) {
      var u = t.split(".")[0],
        e,
        f;
      t = t.split(".")[1];
      e = u + "-" + t;
      r || ((r = i), (i = n.Widget));
      n.expr[":"][e] = function(i) {
        return !!n.data(i, t);
      };
      n[u] = n[u] || {};
      n[u][t] = function(n, t) {
        arguments.length && this._createWidget(n, t);
      };
      f = new i();
      f.options = n.extend(!0, {}, f.options);
      n[u][t].prototype = n.extend(
        !0,
        f,
        {
          namespace: u,
          widgetName: t,
          widgetEventPrefix: n[u][t].prototype.widgetEventPrefix || t,
          widgetBaseClass: e
        },
        r
      );
      n.widget.bridge(t, n[u][t]);
    };
    n.widget.bridge = function(i, r) {
      n.fn[i] = function(u) {
        var f = typeof u == "string",
          e = Array.prototype.slice.call(arguments, 1),
          o = this;
        return ((u =
          !f && e.length ? n.extend.apply(null, [!0, u].concat(e)) : u),
        f && u.charAt(0) === "_")
          ? o
          : (f
              ? this.each(function() {
                  var r = n.data(this, i),
                    f = r && n.isFunction(r[u]) ? r[u].apply(r, e) : r;
                  if (f !== r && f !== t) return (o = f), !1;
                })
              : this.each(function() {
                  var t = n.data(this, i);
                  t
                    ? t.option(u || {})._init()
                    : n.data(this, i, new r(u, this));
                }),
            o);
      };
    };
    n.Widget = function(n, t) {
      arguments.length && this._createWidget(n, t);
    };
    n.Widget.prototype = {
      widgetName: "widget",
      widgetEventPrefix: "",
      options: { disabled: !1 },
      _createWidget: function(t, i) {
        n.data(i, this.widgetName, this);
        this.element = n(i);
        this.options = n.extend(
          !0,
          {},
          this.options,
          this._getCreateOptions(),
          t
        );
        var r = this;
        this.element.bind("remove." + this.widgetName, function() {
          r.destroy();
        });
        this._create();
        this._trigger("create");
        this._init();
      },
      _getCreateOptions: function() {
        return n.metadata && n.metadata.get(this.element[0])[this.widgetName];
      },
      _create: function() {},
      _init: function() {},
      destroy: function() {
        this.element.unbind("." + this.widgetName).removeData(this.widgetName);
        this.widget()
          .unbind("." + this.widgetName)
          .removeAttr("aria-disabled")
          .removeClass(this.widgetBaseClass + "-disabled ui-state-disabled");
      },
      widget: function() {
        return this.element;
      },
      option: function(i, r) {
        var u = i;
        if (arguments.length === 0) return n.extend({}, this.options);
        if (typeof i == "string") {
          if (r === t) return this.options[i];
          u = {};
          u[i] = r;
        }
        return this._setOptions(u), this;
      },
      _setOptions: function(t) {
        var i = this;
        return (
          n.each(t, function(n, t) {
            i._setOption(n, t);
          }),
          this
        );
      },
      _setOption: function(n, t) {
        return (
          (this.options[n] = t),
          n === "disabled" &&
            this.widget()
              [t ? "addClass" : "removeClass"](
                this.widgetBaseClass + "-disabled ui-state-disabled"
              )
              .attr("aria-disabled", t),
          this
        );
      },
      enable: function() {
        return this._setOption("disabled", !1);
      },
      disable: function() {
        return this._setOption("disabled", !0);
      },
      _trigger: function(t, i, r) {
        var u,
          f,
          e = this.options[t];
        if (
          ((r = r || {}),
          (i = n.Event(i)),
          (i.type = (t === this.widgetEventPrefix
            ? t
            : this.widgetEventPrefix + t
          ).toLowerCase()),
          (i.target = this.element[0]),
          (f = i.originalEvent),
          f)
        )
          for (u in f) u in i || (i[u] = f[u]);
        return (
          this.element.trigger(i, r),
          !(
            (n.isFunction(e) && e.call(this.element[0], i, r) === !1) ||
            i.isDefaultPrevented()
          )
        );
      }
    };
  })(jQuery),
  (function(n) {
    var t = !1;
    n(document).mouseup(function() {
      t = !1;
    });
    n.widget("ui.mouse", {
      options: { cancel: ":input,option", distance: 1, delay: 0 },
      _mouseInit: function() {
        var t = this;
        this.element
          .bind("mousedown." + this.widgetName, function(n) {
            return t._mouseDown(n);
          })
          .bind("click." + this.widgetName, function(i) {
            if (!0 === n.data(i.target, t.widgetName + ".preventClickEvent"))
              return (
                n.removeData(i.target, t.widgetName + ".preventClickEvent"),
                i.stopImmediatePropagation(),
                !1
              );
          });
        this.started = !1;
      },
      _mouseDestroy: function() {
        this.element.unbind("." + this.widgetName);
        this._mouseMoveDelegate &&
          n(document)
            .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
            .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
      },
      _mouseDown: function(i) {
        if (!t) {
          this._mouseStarted && this._mouseUp(i);
          this._mouseDownEvent = i;
          var r = this,
            u = i.which == 1,
            f =
              typeof this.options.cancel == "string" && i.target.nodeName
                ? n(i.target).closest(this.options.cancel).length
                : !1;
          return !u || f || !this._mouseCapture(i)
            ? !0
            : ((this.mouseDelayMet = !this.options.delay),
              this.mouseDelayMet ||
                (this._mouseDelayTimer = setTimeout(function() {
                  r.mouseDelayMet = !0;
                }, this.options.delay)),
              this._mouseDistanceMet(i) &&
                this._mouseDelayMet(i) &&
                ((this._mouseStarted = this._mouseStart(i) !== !1),
                !this._mouseStarted))
            ? (i.preventDefault(), !0)
            : (!0 ===
                n.data(i.target, this.widgetName + ".preventClickEvent") &&
                n.removeData(i.target, this.widgetName + ".preventClickEvent"),
              (this._mouseMoveDelegate = function(n) {
                return r._mouseMove(n);
              }),
              (this._mouseUpDelegate = function(n) {
                return r._mouseUp(n);
              }),
              n(document)
                .bind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                .bind("mouseup." + this.widgetName, this._mouseUpDelegate),
              i.preventDefault(),
              (t = !0),
              !0);
        }
      },
      _mouseMove: function(t) {
        return n.browser.msie && !(document.documentMode >= 9) && !t.button
          ? this._mouseUp(t)
          : this._mouseStarted
          ? (this._mouseDrag(t), t.preventDefault())
          : (this._mouseDistanceMet(t) &&
              this._mouseDelayMet(t) &&
              ((this._mouseStarted =
                this._mouseStart(this._mouseDownEvent, t) !== !1),
              this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)),
            !this._mouseStarted);
      },
      _mouseUp: function(t) {
        return (
          n(document)
            .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
            .unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
          this._mouseStarted &&
            ((this._mouseStarted = !1),
            t.target == this._mouseDownEvent.target &&
              n.data(t.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(t)),
          !1
        );
      },
      _mouseDistanceMet: function(n) {
        return (
          Math.max(
            Math.abs(this._mouseDownEvent.pageX - n.pageX),
            Math.abs(this._mouseDownEvent.pageY - n.pageY)
          ) >= this.options.distance
        );
      },
      _mouseDelayMet: function() {
        return this.mouseDelayMet;
      },
      _mouseStart: function() {},
      _mouseDrag: function() {},
      _mouseStop: function() {},
      _mouseCapture: function() {
        return !0;
      }
    });
  })(jQuery),
  (function(n) {
    n.ui = n.ui || {};
    var i = /left|center|right/,
      r = /top|center|bottom/,
      t = "center",
      u = {},
      f = n.fn.position,
      e = n.fn.offset;
    n.fn.position = function(e) {
      if (!e || !e.of) return f.apply(this, arguments);
      e = n.extend({}, e);
      var s = n(e.of),
        v = s[0],
        a = (e.collision || "flip").split(" "),
        h = e.offset ? e.offset.split(" ") : [0, 0],
        c,
        l,
        o;
      return (
        v.nodeType === 9
          ? ((c = s.width()), (l = s.height()), (o = { top: 0, left: 0 }))
          : v.setTimeout
          ? ((c = s.width()),
            (l = s.height()),
            (o = { top: s.scrollTop(), left: s.scrollLeft() }))
          : v.preventDefault
          ? ((e.at = "left top"),
            (c = l = 0),
            (o = { top: e.of.pageY, left: e.of.pageX }))
          : ((c = s.outerWidth()), (l = s.outerHeight()), (o = s.offset())),
        n.each(["my", "at"], function() {
          var n = (e[this] || "").split(" ");
          n.length === 1 &&
            (n = i.test(n[0])
              ? n.concat([t])
              : r.test(n[0])
              ? [t].concat(n)
              : [t, t]);
          n[0] = i.test(n[0]) ? n[0] : t;
          n[1] = r.test(n[1]) ? n[1] : t;
          e[this] = n;
        }),
        a.length === 1 && (a[1] = a[0]),
        (h[0] = parseInt(h[0], 10) || 0),
        h.length === 1 && (h[1] = h[0]),
        (h[1] = parseInt(h[1], 10) || 0),
        e.at[0] === "right"
          ? (o.left += c)
          : e.at[0] === t && (o.left += c / 2),
        e.at[1] === "bottom" ? (o.top += l) : e.at[1] === t && (o.top += l / 2),
        (o.left += h[0]),
        (o.top += h[1]),
        this.each(function() {
          var r = n(this),
            f = r.outerWidth(),
            s = r.outerHeight(),
            v = parseInt(n.curCSS(this, "marginLeft", !0)) || 0,
            y = parseInt(n.curCSS(this, "marginTop", !0)) || 0,
            w = f + v + (parseInt(n.curCSS(this, "marginRight", !0)) || 0),
            b = s + y + (parseInt(n.curCSS(this, "marginBottom", !0)) || 0),
            i = n.extend({}, o),
            p;
          e.my[0] === "right"
            ? (i.left -= f)
            : e.my[0] === t && (i.left -= f / 2);
          e.my[1] === "bottom"
            ? (i.top -= s)
            : e.my[1] === t && (i.top -= s / 2);
          u.fractions ||
            ((i.left = Math.round(i.left)), (i.top = Math.round(i.top)));
          p = { left: i.left - v, top: i.top - y };
          n.each(["left", "top"], function(t, r) {
            n.ui.position[a[t]] &&
              n.ui.position[a[t]][r](i, {
                targetWidth: c,
                targetHeight: l,
                elemWidth: f,
                elemHeight: s,
                collisionPosition: p,
                collisionWidth: w,
                collisionHeight: b,
                offset: h,
                my: e.my,
                at: e.at
              });
          });
          n.fn.bgiframe && r.bgiframe();
          r.offset(n.extend(i, { using: e.using }));
        })
      );
    };
    n.ui.position = {
      fit: {
        left: function(t, i) {
          var r = n(window),
            u =
              i.collisionPosition.left +
              i.collisionWidth -
              r.width() -
              r.scrollLeft();
          t.left =
            u > 0
              ? t.left - u
              : Math.max(t.left - i.collisionPosition.left, t.left);
        },
        top: function(t, i) {
          var r = n(window),
            u =
              i.collisionPosition.top +
              i.collisionHeight -
              r.height() -
              r.scrollTop();
          t.top =
            u > 0
              ? t.top - u
              : Math.max(t.top - i.collisionPosition.top, t.top);
        }
      },
      flip: {
        left: function(i, r) {
          if (r.at[0] !== t) {
            var u = n(window),
              s =
                r.collisionPosition.left +
                r.collisionWidth -
                u.width() -
                u.scrollLeft(),
              f =
                r.my[0] === "left"
                  ? -r.elemWidth
                  : r.my[0] === "right"
                  ? r.elemWidth
                  : 0,
              e = r.at[0] === "left" ? r.targetWidth : -r.targetWidth,
              o = -2 * r.offset[0];
            i.left +=
              r.collisionPosition.left < 0 ? f + e + o : s > 0 ? f + e + o : 0;
          }
        },
        top: function(i, r) {
          if (r.at[1] !== t) {
            var u = n(window),
              s =
                r.collisionPosition.top +
                r.collisionHeight -
                u.height() -
                u.scrollTop(),
              f =
                r.my[1] === "top"
                  ? -r.elemHeight
                  : r.my[1] === "bottom"
                  ? r.elemHeight
                  : 0,
              e = r.at[1] === "top" ? r.targetHeight : -r.targetHeight,
              o = -2 * r.offset[1];
            i.top +=
              r.collisionPosition.top < 0 ? f + e + o : s > 0 ? f + e + o : 0;
          }
        }
      }
    };
    n.offset.setOffset ||
      ((n.offset.setOffset = function(t, i) {
        /static/.test(n.curCSS(t, "position")) &&
          (t.style.position = "relative");
        var r = n(t),
          u = r.offset(),
          e = parseInt(n.curCSS(t, "top", !0), 10) || 0,
          o = parseInt(n.curCSS(t, "left", !0), 10) || 0,
          f = { top: i.top - u.top + e, left: i.left - u.left + o };
        "using" in i ? i.using.call(t, f) : r.css(f);
      }),
      (n.fn.offset = function(t) {
        var i = this[0];
        return !i || !i.ownerDocument
          ? null
          : t
          ? n.isFunction(t)
            ? this.each(function(i) {
                n(this).offset(t.call(this, i, n(this).offset()));
              })
            : this.each(function() {
                n.offset.setOffset(this, t);
              })
          : e.call(this);
      }));
    n.curCSS || (n.curCSS = n.css),
      (function() {
        var i = document.getElementsByTagName("body")[0],
          e = document.createElement("div"),
          t,
          r,
          f,
          o,
          s,
          h;
        t = document.createElement(i ? "div" : "body");
        f = {
          visibility: "hidden",
          width: 0,
          height: 0,
          border: 0,
          margin: 0,
          background: "none"
        };
        i &&
          n.extend(f, {
            position: "absolute",
            left: "-1000px",
            top: "-1000px"
          });
        for (h in f) t.style[h] = f[h];
        t.appendChild(e);
        r = i || document.documentElement;
        r.insertBefore(t, r.firstChild);
        e.style.cssText =
          "position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";
        o = n(e)
          .offset(function(n, t) {
            return t;
          })
          .offset();
        t.innerHTML = "";
        r.removeChild(t);
        s = o.top + o.left + (i ? 2e3 : 0);
        u.fractions = s > 21 && s < 22;
      })();
  })(jQuery),
  (function(n) {
    n.widget("ui.draggable", n.ui.mouse, {
      widgetEventPrefix: "drag",
      options: {
        addClasses: !0,
        appendTo: "parent",
        axis: !1,
        connectToSortable: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        iframeFix: !1,
        opacity: !1,
        refreshPositions: !1,
        revert: !1,
        revertDuration: 500,
        scope: "default",
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        snap: !1,
        snapMode: "both",
        snapTolerance: 20,
        stack: !1,
        zIndex: !1
      },
      _create: function() {
        this.options.helper != "original" ||
          /^(?:r|a|f)/.test(this.element.css("position")) ||
          (this.element[0].style.position = "relative");
        this.options.addClasses && this.element.addClass("ui-draggable");
        this.options.disabled && this.element.addClass("ui-draggable-disabled");
        this._mouseInit();
      },
      destroy: function() {
        if (this.element.data("draggable"))
          return (
            this.element
              .removeData("draggable")
              .unbind(".draggable")
              .removeClass(
                "ui-draggable ui-draggable-dragging ui-draggable-disabled"
              ),
            this._mouseDestroy(),
            this
          );
      },
      _mouseCapture: function(t) {
        var i = this.options;
        return this.helper ||
          i.disabled ||
          n(t.target).is(".ui-resizable-handle")
          ? !1
          : ((this.handle = this._getHandle(t)), !this.handle)
          ? !1
          : (i.iframeFix &&
              n(i.iframeFix === !0 ? "iframe" : i.iframeFix).each(function() {
                n(
                  '<div class="ui-draggable-iframeFix" style="background: #fff;"></div>'
                )
                  .css({
                    width: this.offsetWidth + "px",
                    height: this.offsetHeight + "px",
                    position: "absolute",
                    opacity: "0.001",
                    zIndex: 1e3
                  })
                  .css(n(this).offset())
                  .appendTo("body");
              }),
            !0);
      },
      _mouseStart: function(t) {
        var i = this.options;
        return ((this.helper = this._createHelper(t)),
        this.helper.addClass("ui-draggable-dragging"),
        this._cacheHelperProportions(),
        n.ui.ddmanager && (n.ui.ddmanager.current = this),
        this._cacheMargins(),
        (this.cssPosition = this.helper.css("position")),
        (this.scrollParent = this.helper.scrollParent()),
        (this.offset = this.positionAbs = this.element.offset()),
        (this.offset = {
          top: this.offset.top - this.margins.top,
          left: this.offset.left - this.margins.left
        }),
        n.extend(this.offset, {
          click: {
            left: t.pageX - this.offset.left,
            top: t.pageY - this.offset.top
          },
          parent: this._getParentOffset(),
          relative: this._getRelativeOffset()
        }),
        (this.originalPosition = this.position = this._generatePosition(t)),
        (this.originalPageX = t.pageX),
        (this.originalPageY = t.pageY),
        i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
        i.containment && this._setContainment(),
        this._trigger("start", t) === !1)
          ? (this._clear(), !1)
          : (this._cacheHelperProportions(),
            n.ui.ddmanager &&
              !i.dropBehaviour &&
              n.ui.ddmanager.prepareOffsets(this, t),
            this._mouseDrag(t, !0),
            n.ui.ddmanager && n.ui.ddmanager.dragStart(this, t),
            !0);
      },
      _mouseDrag: function(t, i) {
        if (
          ((this.position = this._generatePosition(t)),
          (this.positionAbs = this._convertPositionTo("absolute")),
          !i)
        ) {
          var r = this._uiHash();
          if (this._trigger("drag", t, r) === !1) return this._mouseUp({}), !1;
          this.position = r.position;
        }
        return (
          (this.options.axis && this.options.axis == "y") ||
            (this.helper[0].style.left = this.position.left + "px"),
          (this.options.axis && this.options.axis == "x") ||
            (this.helper[0].style.top = this.position.top + "px"),
          n.ui.ddmanager && n.ui.ddmanager.drag(this, t),
          !1
        );
      },
      _mouseStop: function(t) {
        var i = !1,
          r,
          u,
          f;
        for (
          n.ui.ddmanager &&
            !this.options.dropBehaviour &&
            (i = n.ui.ddmanager.drop(this, t)),
            this.dropped && ((i = this.dropped), (this.dropped = !1)),
            r = this.element[0],
            u = !1;
          r && (r = r.parentNode);

        )
          r == document && (u = !0);
        return !u && this.options.helper === "original"
          ? !1
          : ((this.options.revert == "invalid" && !i) ||
            (this.options.revert == "valid" && i) ||
            this.options.revert === !0 ||
            (n.isFunction(this.options.revert) &&
              this.options.revert.call(this.element, i))
              ? ((f = this),
                n(this.helper).animate(
                  this.originalPosition,
                  parseInt(this.options.revertDuration, 10),
                  function() {
                    f._trigger("stop", t) !== !1 && f._clear();
                  }
                ))
              : this._trigger("stop", t) !== !1 && this._clear(),
            !1);
      },
      _mouseUp: function(t) {
        return (
          n("div.ui-draggable-iframeFix").each(function() {
            this.parentNode.removeChild(this);
          }),
          n.ui.ddmanager && n.ui.ddmanager.dragStop(this, t),
          n.ui.mouse.prototype._mouseUp.call(this, t)
        );
      },
      cancel: function() {
        return (
          this.helper.is(".ui-draggable-dragging")
            ? this._mouseUp({})
            : this._clear(),
          this
        );
      },
      _getHandle: function(t) {
        var i =
          !this.options.handle || !n(this.options.handle, this.element).length
            ? !0
            : !1;
        return (
          n(this.options.handle, this.element)
            .find("*")
            .andSelf()
            .each(function() {
              this == t.target && (i = !0);
            }),
          i
        );
      },
      _createHelper: function(t) {
        var r = this.options,
          i = n.isFunction(r.helper)
            ? n(r.helper.apply(this.element[0], [t]))
            : r.helper == "clone"
            ? this.element.clone().removeAttr("id")
            : this.element;
        return (
          i.parents("body").length ||
            i.appendTo(
              r.appendTo == "parent" ? this.element[0].parentNode : r.appendTo
            ),
          i[0] == this.element[0] ||
            /(fixed|absolute)/.test(i.css("position")) ||
            i.css("position", "absolute"),
          i
        );
      },
      _adjustOffsetFromHelper: function(t) {
        typeof t == "string" && (t = t.split(" "));
        n.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 });
        "left" in t && (this.offset.click.left = t.left + this.margins.left);
        "right" in t &&
          (this.offset.click.left =
            this.helperProportions.width - t.right + this.margins.left);
        "top" in t && (this.offset.click.top = t.top + this.margins.top);
        "bottom" in t &&
          (this.offset.click.top =
            this.helperProportions.height - t.bottom + this.margins.top);
      },
      _getParentOffset: function() {
        this.offsetParent = this.helper.offsetParent();
        var t = this.offsetParent.offset();
        return (
          this.cssPosition == "absolute" &&
            this.scrollParent[0] != document &&
            n.ui.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((t.left += this.scrollParent.scrollLeft()),
            (t.top += this.scrollParent.scrollTop())),
          (this.offsetParent[0] == document.body ||
            (this.offsetParent[0].tagName &&
              this.offsetParent[0].tagName.toLowerCase() == "html" &&
              n.browser.msie)) &&
            (t = { top: 0, left: 0 }),
          {
            top:
              t.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              t.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
          }
        );
      },
      _getRelativeOffset: function() {
        if (this.cssPosition == "relative") {
          var n = this.element.position();
          return {
            top:
              n.top -
              (parseInt(this.helper.css("top"), 10) || 0) +
              this.scrollParent.scrollTop(),
            left:
              n.left -
              (parseInt(this.helper.css("left"), 10) || 0) +
              this.scrollParent.scrollLeft()
          };
        }
        return { top: 0, left: 0 };
      },
      _cacheMargins: function() {
        this.margins = {
          left: parseInt(this.element.css("marginLeft"), 10) || 0,
          top: parseInt(this.element.css("marginTop"), 10) || 0,
          right: parseInt(this.element.css("marginRight"), 10) || 0,
          bottom: parseInt(this.element.css("marginBottom"), 10) || 0
        };
      },
      _cacheHelperProportions: function() {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight()
        };
      },
      _setContainment: function() {
        var i = this.options,
          r,
          t,
          f,
          u;
        if (
          (i.containment == "parent" &&
            (i.containment = this.helper[0].parentNode),
          (i.containment == "document" || i.containment == "window") &&
            (this.containment = [
              i.containment == "document"
                ? 0
                : n(window).scrollLeft() -
                  this.offset.relative.left -
                  this.offset.parent.left,
              i.containment == "document"
                ? 0
                : n(window).scrollTop() -
                  this.offset.relative.top -
                  this.offset.parent.top,
              (i.containment == "document" ? 0 : n(window).scrollLeft()) +
                n(i.containment == "document" ? document : window).width() -
                this.helperProportions.width -
                this.margins.left,
              (i.containment == "document" ? 0 : n(window).scrollTop()) +
                (n(i.containment == "document" ? document : window).height() ||
                  document.body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top
            ]),
          /^(document|window|parent)$/.test(i.containment) ||
            i.containment.constructor == Array)
        )
          i.containment.constructor == Array &&
            (this.containment = i.containment);
        else {
          if (((r = n(i.containment)), (t = r[0]), !t)) return;
          f = r.offset();
          u = n(t).css("overflow") != "hidden";
          this.containment = [
            (parseInt(n(t).css("borderLeftWidth"), 10) || 0) +
              (parseInt(n(t).css("paddingLeft"), 10) || 0),
            (parseInt(n(t).css("borderTopWidth"), 10) || 0) +
              (parseInt(n(t).css("paddingTop"), 10) || 0),
            (u ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) -
              (parseInt(n(t).css("borderLeftWidth"), 10) || 0) -
              (parseInt(n(t).css("paddingRight"), 10) || 0) -
              this.helperProportions.width -
              this.margins.left -
              this.margins.right,
            (u ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) -
              (parseInt(n(t).css("borderTopWidth"), 10) || 0) -
              (parseInt(n(t).css("paddingBottom"), 10) || 0) -
              this.helperProportions.height -
              this.margins.top -
              this.margins.bottom
          ];
          this.relative_container = r;
        }
      },
      _convertPositionTo: function(t, i) {
        i || (i = this.position);
        var r = t == "absolute" ? 1 : -1,
          e = this.options,
          u =
            this.cssPosition == "absolute" &&
            !(
              this.scrollParent[0] != document &&
              n.ui.contains(this.scrollParent[0], this.offsetParent[0])
            )
              ? this.offsetParent
              : this.scrollParent,
          f = /(html|body)/i.test(u[0].tagName);
        return {
          top:
            i.top +
            this.offset.relative.top * r +
            this.offset.parent.top * r -
            (n.browser.safari &&
            n.browser.version < 526 &&
            this.cssPosition == "fixed"
              ? 0
              : (this.cssPosition == "fixed"
                  ? -this.scrollParent.scrollTop()
                  : f
                  ? 0
                  : u.scrollTop()) * r),
          left:
            i.left +
            this.offset.relative.left * r +
            this.offset.parent.left * r -
            (n.browser.safari &&
            n.browser.version < 526 &&
            this.cssPosition == "fixed"
              ? 0
              : (this.cssPosition == "fixed"
                  ? -this.scrollParent.scrollLeft()
                  : f
                  ? 0
                  : u.scrollLeft()) * r)
        };
      },
      _generatePosition: function(t) {
        var r = this.options,
          h =
            this.cssPosition == "absolute" &&
            !(
              this.scrollParent[0] != document &&
              n.ui.contains(this.scrollParent[0], this.offsetParent[0])
            )
              ? this.offsetParent
              : this.scrollParent,
          c = /(html|body)/i.test(h[0].tagName),
          e = t.pageX,
          o = t.pageY,
          i,
          s,
          u,
          f;
        return (
          this.originalPosition &&
            (this.containment &&
              (this.relative_container
                ? ((s = this.relative_container.offset()),
                  (i = [
                    this.containment[0] + s.left,
                    this.containment[1] + s.top,
                    this.containment[2] + s.left,
                    this.containment[3] + s.top
                  ]))
                : (i = this.containment),
              t.pageX - this.offset.click.left < i[0] &&
                (e = i[0] + this.offset.click.left),
              t.pageY - this.offset.click.top < i[1] &&
                (o = i[1] + this.offset.click.top),
              t.pageX - this.offset.click.left > i[2] &&
                (e = i[2] + this.offset.click.left),
              t.pageY - this.offset.click.top > i[3] &&
                (o = i[3] + this.offset.click.top)),
            r.grid &&
              ((u = r.grid[1]
                ? this.originalPageY +
                  Math.round((o - this.originalPageY) / r.grid[1]) * r.grid[1]
                : this.originalPageY),
              (o = i
                ? u - this.offset.click.top < i[1] ||
                  u - this.offset.click.top > i[3]
                  ? u - this.offset.click.top < i[1]
                    ? u + r.grid[1]
                    : u - r.grid[1]
                  : u
                : u),
              (f = r.grid[0]
                ? this.originalPageX +
                  Math.round((e - this.originalPageX) / r.grid[0]) * r.grid[0]
                : this.originalPageX),
              (e = i
                ? f - this.offset.click.left < i[0] ||
                  f - this.offset.click.left > i[2]
                  ? f - this.offset.click.left < i[0]
                    ? f + r.grid[0]
                    : f - r.grid[0]
                  : f
                : f))),
          {
            top:
              o -
              this.offset.click.top -
              this.offset.relative.top -
              this.offset.parent.top +
              (n.browser.safari &&
              n.browser.version < 526 &&
              this.cssPosition == "fixed"
                ? 0
                : this.cssPosition == "fixed"
                ? -this.scrollParent.scrollTop()
                : c
                ? 0
                : h.scrollTop()),
            left:
              e -
              this.offset.click.left -
              this.offset.relative.left -
              this.offset.parent.left +
              (n.browser.safari &&
              n.browser.version < 526 &&
              this.cssPosition == "fixed"
                ? 0
                : this.cssPosition == "fixed"
                ? -this.scrollParent.scrollLeft()
                : c
                ? 0
                : h.scrollLeft())
          }
        );
      },
      _clear: function() {
        this.helper.removeClass("ui-draggable-dragging");
        this.helper[0] == this.element[0] ||
          this.cancelHelperRemoval ||
          this.helper.remove();
        this.helper = null;
        this.cancelHelperRemoval = !1;
      },
      _trigger: function(t, i, r) {
        return (
          (r = r || this._uiHash()),
          n.ui.plugin.call(this, t, [i, r]),
          t == "drag" &&
            (this.positionAbs = this._convertPositionTo("absolute")),
          n.Widget.prototype._trigger.call(this, t, i, r)
        );
      },
      plugins: {},
      _uiHash: function() {
        return {
          helper: this.helper,
          position: this.position,
          originalPosition: this.originalPosition,
          offset: this.positionAbs
        };
      }
    });
    n.extend(n.ui.draggable, { version: "1.8.24" });
    n.ui.plugin.add("draggable", "connectToSortable", {
      start: function(t, i) {
        var r = n(this).data("draggable"),
          u = r.options,
          f = n.extend({}, i, { item: r.element });
        r.sortables = [];
        n(u.connectToSortable).each(function() {
          var i = n.data(this, "sortable");
          i &&
            !i.options.disabled &&
            (r.sortables.push({ instance: i, shouldRevert: i.options.revert }),
            i.refreshPositions(),
            i._trigger("activate", t, f));
        });
      },
      stop: function(t, i) {
        var r = n(this).data("draggable"),
          u = n.extend({}, i, { item: r.element });
        n.each(r.sortables, function() {
          this.instance.isOver
            ? ((this.instance.isOver = 0),
              (r.cancelHelperRemoval = !0),
              (this.instance.cancelHelperRemoval = !1),
              this.shouldRevert && (this.instance.options.revert = !0),
              this.instance._mouseStop(t),
              (this.instance.options.helper = this.instance.options._helper),
              r.options.helper == "original" &&
                this.instance.currentItem.css({ top: "auto", left: "auto" }))
            : ((this.instance.cancelHelperRemoval = !1),
              this.instance._trigger("deactivate", t, u));
        });
      },
      drag: function(t, i) {
        var r = n(this).data("draggable"),
          u = this,
          f = function(t) {
            var i = this.offset.click.top,
              r = this.offset.click.left,
              u = this.positionAbs.top,
              f = this.positionAbs.left,
              e = t.height,
              o = t.width,
              s = t.top,
              h = t.left;
            return n.ui.isOver(u + i, f + r, s, h, e, o);
          };
        n.each(r.sortables, function() {
          this.instance.positionAbs = r.positionAbs;
          this.instance.helperProportions = r.helperProportions;
          this.instance.offset.click = r.offset.click;
          this.instance._intersectsWith(this.instance.containerCache)
            ? (this.instance.isOver ||
                ((this.instance.isOver = 1),
                (this.instance.currentItem = n(u)
                  .clone()
                  .removeAttr("id")
                  .appendTo(this.instance.element)
                  .data("sortable-item", !0)),
                (this.instance.options._helper = this.instance.options.helper),
                (this.instance.options.helper = function() {
                  return i.helper[0];
                }),
                (t.target = this.instance.currentItem[0]),
                this.instance._mouseCapture(t, !0),
                this.instance._mouseStart(t, !0, !0),
                (this.instance.offset.click.top = r.offset.click.top),
                (this.instance.offset.click.left = r.offset.click.left),
                (this.instance.offset.parent.left -=
                  r.offset.parent.left - this.instance.offset.parent.left),
                (this.instance.offset.parent.top -=
                  r.offset.parent.top - this.instance.offset.parent.top),
                r._trigger("toSortable", t),
                (r.dropped = this.instance.element),
                (r.currentItem = r.element),
                (this.instance.fromOutside = r)),
              this.instance.currentItem && this.instance._mouseDrag(t))
            : this.instance.isOver &&
              ((this.instance.isOver = 0),
              (this.instance.cancelHelperRemoval = !0),
              (this.instance.options.revert = !1),
              this.instance._trigger(
                "out",
                t,
                this.instance._uiHash(this.instance)
              ),
              this.instance._mouseStop(t, !0),
              (this.instance.options.helper = this.instance.options._helper),
              this.instance.currentItem.remove(),
              this.instance.placeholder && this.instance.placeholder.remove(),
              r._trigger("fromSortable", t),
              (r.dropped = !1));
        });
      }
    });
    n.ui.plugin.add("draggable", "cursor", {
      start: function() {
        var t = n("body"),
          i = n(this).data("draggable").options;
        t.css("cursor") && (i._cursor = t.css("cursor"));
        t.css("cursor", i.cursor);
      },
      stop: function() {
        var t = n(this).data("draggable").options;
        t._cursor && n("body").css("cursor", t._cursor);
      }
    });
    n.ui.plugin.add("draggable", "opacity", {
      start: function(t, i) {
        var r = n(i.helper),
          u = n(this).data("draggable").options;
        r.css("opacity") && (u._opacity = r.css("opacity"));
        r.css("opacity", u.opacity);
      },
      stop: function(t, i) {
        var r = n(this).data("draggable").options;
        r._opacity && n(i.helper).css("opacity", r._opacity);
      }
    });
    n.ui.plugin.add("draggable", "scroll", {
      start: function() {
        var t = n(this).data("draggable");
        t.scrollParent[0] != document &&
          t.scrollParent[0].tagName != "HTML" &&
          (t.overflowOffset = t.scrollParent.offset());
      },
      drag: function(t) {
        var r = n(this).data("draggable"),
          i = r.options,
          u = !1;
        r.scrollParent[0] != document && r.scrollParent[0].tagName != "HTML"
          ? ((i.axis && i.axis == "x") ||
              (r.overflowOffset.top + r.scrollParent[0].offsetHeight - t.pageY <
              i.scrollSensitivity
                ? (r.scrollParent[0].scrollTop = u =
                    r.scrollParent[0].scrollTop + i.scrollSpeed)
                : t.pageY - r.overflowOffset.top < i.scrollSensitivity &&
                  (r.scrollParent[0].scrollTop = u =
                    r.scrollParent[0].scrollTop - i.scrollSpeed)),
            (i.axis && i.axis == "y") ||
              (r.overflowOffset.left + r.scrollParent[0].offsetWidth - t.pageX <
              i.scrollSensitivity
                ? (r.scrollParent[0].scrollLeft = u =
                    r.scrollParent[0].scrollLeft + i.scrollSpeed)
                : t.pageX - r.overflowOffset.left < i.scrollSensitivity &&
                  (r.scrollParent[0].scrollLeft = u =
                    r.scrollParent[0].scrollLeft - i.scrollSpeed)))
          : ((i.axis && i.axis == "x") ||
              (t.pageY - n(document).scrollTop() < i.scrollSensitivity
                ? (u = n(document).scrollTop(
                    n(document).scrollTop() - i.scrollSpeed
                  ))
                : n(window).height() - (t.pageY - n(document).scrollTop()) <
                    i.scrollSensitivity &&
                  (u = n(document).scrollTop(
                    n(document).scrollTop() + i.scrollSpeed
                  ))),
            (i.axis && i.axis == "y") ||
              (t.pageX - n(document).scrollLeft() < i.scrollSensitivity
                ? (u = n(document).scrollLeft(
                    n(document).scrollLeft() - i.scrollSpeed
                  ))
                : n(window).width() - (t.pageX - n(document).scrollLeft()) <
                    i.scrollSensitivity &&
                  (u = n(document).scrollLeft(
                    n(document).scrollLeft() + i.scrollSpeed
                  ))));
        u !== !1 &&
          n.ui.ddmanager &&
          !i.dropBehaviour &&
          n.ui.ddmanager.prepareOffsets(r, t);
      }
    });
    n.ui.plugin.add("draggable", "snap", {
      start: function() {
        var t = n(this).data("draggable"),
          i = t.options;
        t.snapElements = [];
        n(
          i.snap.constructor != String
            ? i.snap.items || ":data(draggable)"
            : i.snap
        ).each(function() {
          var i = n(this),
            r = i.offset();
          this != t.element[0] &&
            t.snapElements.push({
              item: this,
              width: i.outerWidth(),
              height: i.outerHeight(),
              top: r.top,
              left: r.left
            });
        });
      },
      drag: function(t, i) {
        for (
          var r = n(this).data("draggable"),
            k = r.options,
            u = k.snapTolerance,
            c = i.offset.left,
            a = c + r.helperProportions.width,
            l = i.offset.top,
            v = l + r.helperProportions.height,
            d,
            f = r.snapElements.length - 1;
          f >= 0;
          f--
        ) {
          var e = r.snapElements[f].left,
            s = e + r.snapElements[f].width,
            o = r.snapElements[f].top,
            h = o + r.snapElements[f].height;
          if (
            !(
              (e - u < c && c < s + u && o - u < l && l < h + u) ||
              (e - u < c && c < s + u && o - u < v && v < h + u) ||
              (e - u < a && a < s + u && o - u < l && l < h + u) ||
              (e - u < a && a < s + u && o - u < v && v < h + u)
            )
          ) {
            r.snapElements[f].snapping &&
              r.options.snap.release &&
              r.options.snap.release.call(
                r.element,
                t,
                n.extend(r._uiHash(), { snapItem: r.snapElements[f].item })
              );
            r.snapElements[f].snapping = !1;
            continue;
          }
          if (k.snapMode != "inner") {
            var y = Math.abs(o - v) <= u,
              p = Math.abs(h - l) <= u,
              w = Math.abs(e - a) <= u,
              b = Math.abs(s - c) <= u;
            y &&
              (i.position.top =
                r._convertPositionTo("relative", {
                  top: o - r.helperProportions.height,
                  left: 0
                }).top - r.margins.top);
            p &&
              (i.position.top =
                r._convertPositionTo("relative", { top: h, left: 0 }).top -
                r.margins.top);
            w &&
              (i.position.left =
                r._convertPositionTo("relative", {
                  top: 0,
                  left: e - r.helperProportions.width
                }).left - r.margins.left);
            b &&
              (i.position.left =
                r._convertPositionTo("relative", { top: 0, left: s }).left -
                r.margins.left);
          }
          if (((d = y || p || w || b), k.snapMode != "outer")) {
            var y = Math.abs(o - l) <= u,
              p = Math.abs(h - v) <= u,
              w = Math.abs(e - c) <= u,
              b = Math.abs(s - a) <= u;
            y &&
              (i.position.top =
                r._convertPositionTo("relative", { top: o, left: 0 }).top -
                r.margins.top);
            p &&
              (i.position.top =
                r._convertPositionTo("relative", {
                  top: h - r.helperProportions.height,
                  left: 0
                }).top - r.margins.top);
            w &&
              (i.position.left =
                r._convertPositionTo("relative", { top: 0, left: e }).left -
                r.margins.left);
            b &&
              (i.position.left =
                r._convertPositionTo("relative", {
                  top: 0,
                  left: s - r.helperProportions.width
                }).left - r.margins.left);
          }
          !r.snapElements[f].snapping &&
            (y || p || w || b || d) &&
            r.options.snap.snap &&
            r.options.snap.snap.call(
              r.element,
              t,
              n.extend(r._uiHash(), { snapItem: r.snapElements[f].item })
            );
          r.snapElements[f].snapping = y || p || w || b || d;
        }
      }
    });
    n.ui.plugin.add("draggable", "stack", {
      start: function() {
        var r = n(this).data("draggable").options,
          t = n.makeArray(n(r.stack)).sort(function(t, i) {
            return (
              (parseInt(n(t).css("zIndex"), 10) || 0) -
              (parseInt(n(i).css("zIndex"), 10) || 0)
            );
          }),
          i;
        t.length &&
          ((i = parseInt(t[0].style.zIndex) || 0),
          n(t).each(function(n) {
            this.style.zIndex = i + n;
          }),
          (this[0].style.zIndex = i + t.length));
      }
    });
    n.ui.plugin.add("draggable", "zIndex", {
      start: function(t, i) {
        var r = n(i.helper),
          u = n(this).data("draggable").options;
        r.css("zIndex") && (u._zIndex = r.css("zIndex"));
        r.css("zIndex", u.zIndex);
      },
      stop: function(t, i) {
        var r = n(this).data("draggable").options;
        r._zIndex && n(i.helper).css("zIndex", r._zIndex);
      }
    });
  })(jQuery),
  (function(n) {
    n.widget("ui.droppable", {
      widgetEventPrefix: "drop",
      options: {
        accept: "*",
        activeClass: !1,
        addClasses: !0,
        greedy: !1,
        hoverClass: !1,
        scope: "default",
        tolerance: "intersect"
      },
      _create: function() {
        var t = this.options,
          i = t.accept;
        this.isover = 0;
        this.isout = 1;
        this.accept = n.isFunction(i)
          ? i
          : function(n) {
              return n.is(i);
            };
        this.proportions = {
          width: this.element[0].offsetWidth,
          height: this.element[0].offsetHeight
        };
        n.ui.ddmanager.droppables[t.scope] =
          n.ui.ddmanager.droppables[t.scope] || [];
        n.ui.ddmanager.droppables[t.scope].push(this);
        t.addClasses && this.element.addClass("ui-droppable");
      },
      destroy: function() {
        for (
          var i = n.ui.ddmanager.droppables[this.options.scope], t = 0;
          t < i.length;
          t++
        )
          i[t] == this && i.splice(t, 1);
        return (
          this.element
            .removeClass("ui-droppable ui-droppable-disabled")
            .removeData("droppable")
            .unbind(".droppable"),
          this
        );
      },
      _setOption: function(t, i) {
        t == "accept" &&
          (this.accept = n.isFunction(i)
            ? i
            : function(n) {
                return n.is(i);
              });
        n.Widget.prototype._setOption.apply(this, arguments);
      },
      _activate: function(t) {
        var i = n.ui.ddmanager.current;
        this.options.activeClass &&
          this.element.addClass(this.options.activeClass);
        i && this._trigger("activate", t, this.ui(i));
      },
      _deactivate: function(t) {
        var i = n.ui.ddmanager.current;
        this.options.activeClass &&
          this.element.removeClass(this.options.activeClass);
        i && this._trigger("deactivate", t, this.ui(i));
      },
      _over: function(t) {
        var i = n.ui.ddmanager.current;
        i &&
          (i.currentItem || i.element)[0] != this.element[0] &&
          this.accept.call(this.element[0], i.currentItem || i.element) &&
          (this.options.hoverClass &&
            this.element.addClass(this.options.hoverClass),
          this._trigger("over", t, this.ui(i)));
      },
      _out: function(t) {
        var i = n.ui.ddmanager.current;
        i &&
          (i.currentItem || i.element)[0] != this.element[0] &&
          this.accept.call(this.element[0], i.currentItem || i.element) &&
          (this.options.hoverClass &&
            this.element.removeClass(this.options.hoverClass),
          this._trigger("out", t, this.ui(i)));
      },
      _drop: function(t, i) {
        var r = i || n.ui.ddmanager.current,
          u;
        return !r || (r.currentItem || r.element)[0] == this.element[0]
          ? !1
          : ((u = !1),
            this.element
              .find(":data(droppable)")
              .not(".ui-draggable-dragging")
              .each(function() {
                var t = n.data(this, "droppable");
                if (
                  t.options.greedy &&
                  !t.options.disabled &&
                  t.options.scope == r.options.scope &&
                  t.accept.call(t.element[0], r.currentItem || r.element) &&
                  n.ui.intersect(
                    r,
                    n.extend(t, { offset: t.element.offset() }),
                    t.options.tolerance
                  )
                )
                  return (u = !0), !1;
              }),
            u)
          ? !1
          : this.accept.call(this.element[0], r.currentItem || r.element)
          ? (this.options.activeClass &&
              this.element.removeClass(this.options.activeClass),
            this.options.hoverClass &&
              this.element.removeClass(this.options.hoverClass),
            this._trigger("drop", t, this.ui(r)),
            this.element)
          : !1;
      },
      ui: function(n) {
        return {
          draggable: n.currentItem || n.element,
          helper: n.helper,
          position: n.position,
          offset: n.positionAbs
        };
      }
    });
    n.extend(n.ui.droppable, { version: "1.8.24" });
    n.ui.intersect = function(t, i, r) {
      if (!i.offset) return !1;
      var e = (t.positionAbs || t.position.absolute).left,
        s = e + t.helperProportions.width,
        o = (t.positionAbs || t.position.absolute).top,
        h = o + t.helperProportions.height,
        u = i.offset.left,
        c = u + i.proportions.width,
        f = i.offset.top,
        l = f + i.proportions.height;
      switch (r) {
        case "fit":
          return u <= e && s <= c && f <= o && h <= l;
        case "intersect":
          return (
            u < e + t.helperProportions.width / 2 &&
            s - t.helperProportions.width / 2 < c &&
            f < o + t.helperProportions.height / 2 &&
            h - t.helperProportions.height / 2 < l
          );
        case "pointer":
          var a =
              (t.positionAbs || t.position.absolute).left +
              (t.clickOffset || t.offset.click).left,
            v =
              (t.positionAbs || t.position.absolute).top +
              (t.clickOffset || t.offset.click).top;
          return n.ui.isOver(
            v,
            a,
            f,
            u,
            i.proportions.height,
            i.proportions.width
          );
        case "touch":
          return (
            ((o >= f && o <= l) || (h >= f && h <= l) || (o < f && h > l)) &&
            ((e >= u && e <= c) || (s >= u && s <= c) || (e < u && s > c))
          );
        default:
          return !1;
      }
    };
    n.ui.ddmanager = {
      current: null,
      droppables: { default: [] },
      prepareOffsets: function(t, i) {
        var u = n.ui.ddmanager.droppables[t.options.scope] || [],
          o = i ? i.type : null,
          e = (t.currentItem || t.element).find(":data(droppable)").andSelf(),
          r,
          f;
        n: for (r = 0; r < u.length; r++)
          if (
            !u[r].options.disabled &&
            (!t ||
              u[r].accept.call(u[r].element[0], t.currentItem || t.element))
          ) {
            for (f = 0; f < e.length; f++)
              if (e[f] == u[r].element[0]) {
                u[r].proportions.height = 0;
                continue n;
              }
            ((u[r].visible = u[r].element.css("display") != "none"),
            u[r].visible) &&
              (o == "mousedown" && u[r]._activate.call(u[r], i),
              (u[r].offset = u[r].element.offset()),
              (u[r].proportions = {
                width: u[r].element[0].offsetWidth,
                height: u[r].element[0].offsetHeight
              }));
          }
      },
      drop: function(t, i) {
        var r = !1;
        return (
          n.each(n.ui.ddmanager.droppables[t.options.scope] || [], function() {
            this.options &&
              (!this.options.disabled &&
                this.visible &&
                n.ui.intersect(t, this, this.options.tolerance) &&
                (r = this._drop.call(this, i) || r),
              !this.options.disabled &&
                this.visible &&
                this.accept.call(this.element[0], t.currentItem || t.element) &&
                ((this.isout = 1),
                (this.isover = 0),
                this._deactivate.call(this, i)));
          }),
          r
        );
      },
      dragStart: function(t, i) {
        t.element
          .parents(":not(body,html)")
          .bind("scroll.droppable", function() {
            t.options.refreshPositions || n.ui.ddmanager.prepareOffsets(t, i);
          });
      },
      drag: function(t, i) {
        t.options.refreshPositions && n.ui.ddmanager.prepareOffsets(t, i);
        n.each(n.ui.ddmanager.droppables[t.options.scope] || [], function() {
          var f, u, r, o, e;
          this.options.disabled ||
            this.greedyChild ||
            !this.visible ||
            (((f = n.ui.intersect(t, this, this.options.tolerance)),
            (u =
              !f && this.isover == 1
                ? "isout"
                : f && this.isover == 0
                ? "isover"
                : null),
            u) &&
              (this.options.greedy &&
                ((o = this.options.scope),
                (e = this.element
                  .parents(":data(droppable)")
                  .filter(function() {
                    return n.data(this, "droppable").options.scope === o;
                  })),
                e.length &&
                  ((r = n.data(e[0], "droppable")),
                  (r.greedyChild = u == "isover" ? 1 : 0))),
              r &&
                u == "isover" &&
                ((r.isover = 0), (r.isout = 1), r._out.call(r, i)),
              (this[u] = 1),
              (this[u == "isout" ? "isover" : "isout"] = 0),
              this[u == "isover" ? "_over" : "_out"].call(this, i),
              r &&
                u == "isout" &&
                ((r.isout = 0), (r.isover = 1), r._over.call(r, i))));
        });
      },
      dragStop: function(t, i) {
        t.element.parents(":not(body,html)").unbind("scroll.droppable");
        t.options.refreshPositions || n.ui.ddmanager.prepareOffsets(t, i);
      }
    };
  })(jQuery),
  (function(n) {
    n.widget("ui.resizable", n.ui.mouse, {
      widgetEventPrefix: "resize",
      options: {
        alsoResize: !1,
        animate: !1,
        animateDuration: "slow",
        animateEasing: "swing",
        aspectRatio: !1,
        autoHide: !1,
        containment: !1,
        ghost: !1,
        grid: !1,
        handles: "e,s,se",
        helper: !1,
        maxHeight: null,
        maxWidth: null,
        minHeight: 10,
        minWidth: 10,
        zIndex: 1e3
      },
      _create: function() {
        var i = this,
          t = this.options,
          f,
          r;
        if (
          (this.element.addClass("ui-resizable"),
          n.extend(this, {
            _aspectRatio: !!t.aspectRatio,
            aspectRatio: t.aspectRatio,
            originalElement: this.element,
            _proportionallyResizeElements: [],
            _helper:
              t.helper || t.ghost || t.animate
                ? t.helper || "ui-resizable-helper"
                : null
          }),
          this.element[0].nodeName.match(
            /canvas|textarea|input|select|button|img/i
          ) &&
            (this.element.wrap(
              n(
                '<div class="ui-wrapper" style="overflow: hidden;"></div>'
              ).css({
                position: this.element.css("position"),
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                top: this.element.css("top"),
                left: this.element.css("left")
              })
            ),
            (this.element = this.element
              .parent()
              .data("resizable", this.element.data("resizable"))),
            (this.elementIsWrapper = !0),
            this.element.css({
              marginLeft: this.originalElement.css("marginLeft"),
              marginTop: this.originalElement.css("marginTop"),
              marginRight: this.originalElement.css("marginRight"),
              marginBottom: this.originalElement.css("marginBottom")
            }),
            this.originalElement.css({
              marginLeft: 0,
              marginTop: 0,
              marginRight: 0,
              marginBottom: 0
            }),
            (this.originalResizeStyle = this.originalElement.css("resize")),
            this.originalElement.css("resize", "none"),
            this._proportionallyResizeElements.push(
              this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block"
              })
            ),
            this.originalElement.css({
              margin: this.originalElement.css("margin")
            }),
            this._proportionallyResize()),
          (this.handles =
            t.handles ||
            (n(".ui-resizable-handle", this.element).length
              ? {
                  n: ".ui-resizable-n",
                  e: ".ui-resizable-e",
                  s: ".ui-resizable-s",
                  w: ".ui-resizable-w",
                  se: ".ui-resizable-se",
                  sw: ".ui-resizable-sw",
                  ne: ".ui-resizable-ne",
                  nw: ".ui-resizable-nw"
                }
              : "e,s,se")),
          this.handles.constructor == String)
        )
          for (
            this.handles == "all" && (this.handles = "n,e,s,w,se,sw,ne,nw"),
              f = this.handles.split(","),
              this.handles = {},
              r = 0;
            r < f.length;
            r++
          ) {
            var u = n.trim(f[r]),
              o = "ui-resizable-" + u,
              e = n('<div class="ui-resizable-handle ' + o + '"></div>');
            e.css({ zIndex: t.zIndex });
            "se" == u && e.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
            this.handles[u] = ".ui-resizable-" + u;
            this.element.append(e);
          }
        this._renderAxis = function(t) {
          var i, r, u, f;
          t = t || this.element;
          for (i in this.handles)
            this.handles[i].constructor == String &&
              (this.handles[i] = n(this.handles[i], this.element).show()),
              this.elementIsWrapper &&
                this.originalElement[0].nodeName.match(
                  /textarea|input|select|button/i
                ) &&
                ((r = n(this.handles[i], this.element)),
                (u = 0),
                (u = /sw|ne|nw|se|n|s/.test(i)
                  ? r.outerHeight()
                  : r.outerWidth()),
                (f = [
                  "padding",
                  /ne|nw|n/.test(i)
                    ? "Top"
                    : /se|sw|s/.test(i)
                    ? "Bottom"
                    : /^e$/.test(i)
                    ? "Right"
                    : "Left"
                ].join("")),
                t.css(f, u),
                this._proportionallyResize()),
              !n(this.handles[i]).length;
        };
        this._renderAxis(this.element);
        this._handles = n(
          ".ui-resizable-handle",
          this.element
        ).disableSelection();
        this._handles.mouseover(function() {
          if (!i.resizing) {
            if (this.className)
              var n = this.className.match(
                /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i
              );
            i.axis = n && n[1] ? n[1] : "se";
          }
        });
        t.autoHide &&
          (this._handles.hide(),
          n(this.element)
            .addClass("ui-resizable-autohide")
            .hover(
              function() {
                t.disabled ||
                  (n(this).removeClass("ui-resizable-autohide"),
                  i._handles.show());
              },
              function() {
                t.disabled ||
                  i.resizing ||
                  (n(this).addClass("ui-resizable-autohide"),
                  i._handles.hide());
              }
            ));
        this._mouseInit();
      },
      destroy: function() {
        var i, t;
        return (
          this._mouseDestroy(),
          (i = function(t) {
            n(t)
              .removeClass(
                "ui-resizable ui-resizable-disabled ui-resizable-resizing"
              )
              .removeData("resizable")
              .unbind(".resizable")
              .find(".ui-resizable-handle")
              .remove();
          }),
          this.elementIsWrapper &&
            (i(this.element),
            (t = this.element),
            t
              .after(
                this.originalElement.css({
                  position: t.css("position"),
                  width: t.outerWidth(),
                  height: t.outerHeight(),
                  top: t.css("top"),
                  left: t.css("left")
                })
              )
              .remove()),
          this.originalElement.css("resize", this.originalResizeStyle),
          i(this.originalElement),
          this
        );
      },
      _mouseCapture: function(t) {
        var i = !1,
          r;
        for (r in this.handles) n(this.handles[r])[0] == t.target && (i = !0);
        return !this.options.disabled && i;
      },
      _mouseStart: function(t) {
        var u = this.options,
          s = this.element.position(),
          r = this.element,
          f,
          e,
          o;
        return (
          (this.resizing = !0),
          (this.documentScroll = {
            top: n(document).scrollTop(),
            left: n(document).scrollLeft()
          }),
          (r.is(".ui-draggable") || /absolute/.test(r.css("position"))) &&
            r.css({
              position: "absolute",
              top: parseInt(r.css("top"), 10),
              left: parseInt(r.css("left"), 10)
            }),
          this._renderProxy(),
          (f = i(this.helper.css("left"))),
          (e = i(this.helper.css("top"))),
          u.containment &&
            ((f += n(u.containment).scrollLeft() || 0),
            (e += n(u.containment).scrollTop() || 0)),
          (this.offset = this.helper.offset()),
          (this.position = { left: f, top: e }),
          (this.size = this._helper
            ? { width: r.outerWidth(), height: r.outerHeight() }
            : { width: r.width(), height: r.height() }),
          (this.originalSize = this._helper
            ? { width: r.outerWidth(), height: r.outerHeight() }
            : { width: r.width(), height: r.height() }),
          (this.originalPosition = { left: f, top: e }),
          (this.sizeDiff = {
            width: r.outerWidth() - r.width(),
            height: r.outerHeight() - r.height()
          }),
          (this.originalMousePosition = { left: t.pageX, top: t.pageY }),
          (this.aspectRatio =
            typeof u.aspectRatio == "number"
              ? u.aspectRatio
              : this.originalSize.width / this.originalSize.height || 1),
          (o = n(".ui-resizable-" + this.axis).css("cursor")),
          n("body").css("cursor", o == "auto" ? this.axis + "-resize" : o),
          r.addClass("ui-resizable-resizing"),
          this._propagate("start", t),
          !0
        );
      },
      _mouseDrag: function(t) {
        var f = this.helper,
          h = this.options,
          c = this,
          r = this.originalMousePosition,
          e = this.axis,
          o = t.pageX - r.left || 0,
          s = t.pageY - r.top || 0,
          u = this._change[e];
        if (!u) return !1;
        var i = u.apply(this, [t, o, s]),
          l = n.browser.msie && n.browser.version < 7,
          a = this.sizeDiff;
        return (
          this._updateVirtualBoundaries(t.shiftKey),
          (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)),
          (i = this._respectSize(i, t)),
          this._propagate("resize", t),
          f.css({
            top: this.position.top + "px",
            left: this.position.left + "px",
            width: this.size.width + "px",
            height: this.size.height + "px"
          }),
          !this._helper &&
            this._proportionallyResizeElements.length &&
            this._proportionallyResize(),
          this._updateCache(i),
          this._trigger("resize", t, this.ui()),
          !1
        );
      },
      _mouseStop: function(t) {
        var r, i;
        if (
          ((this.resizing = !1), (r = this.options), (i = this), this._helper)
        ) {
          var u = this._proportionallyResizeElements,
            f = u.length && /textarea/i.test(u[0].nodeName),
            e = f && n.ui.hasScroll(u[0], "left") ? 0 : i.sizeDiff.height,
            o = f ? 0 : i.sizeDiff.width,
            s = { width: i.helper.width() - o, height: i.helper.height() - e },
            h =
              parseInt(i.element.css("left"), 10) +
                (i.position.left - i.originalPosition.left) || null,
            c =
              parseInt(i.element.css("top"), 10) +
                (i.position.top - i.originalPosition.top) || null;
          r.animate || this.element.css(n.extend(s, { top: c, left: h }));
          i.helper.height(i.size.height);
          i.helper.width(i.size.width);
          this._helper && !r.animate && this._proportionallyResize();
        }
        return (
          n("body").css("cursor", "auto"),
          this.element.removeClass("ui-resizable-resizing"),
          this._propagate("stop", t),
          this._helper && this.helper.remove(),
          !1
        );
      },
      _updateVirtualBoundaries: function(n) {
        var r = this.options,
          u,
          f,
          e,
          o,
          i;
        i = {
          minWidth: t(r.minWidth) ? r.minWidth : 0,
          maxWidth: t(r.maxWidth) ? r.maxWidth : Infinity,
          minHeight: t(r.minHeight) ? r.minHeight : 0,
          maxHeight: t(r.maxHeight) ? r.maxHeight : Infinity
        };
        (this._aspectRatio || n) &&
          ((u = i.minHeight * this.aspectRatio),
          (e = i.minWidth / this.aspectRatio),
          (f = i.maxHeight * this.aspectRatio),
          (o = i.maxWidth / this.aspectRatio),
          u > i.minWidth && (i.minWidth = u),
          e > i.minHeight && (i.minHeight = e),
          f < i.maxWidth && (i.maxWidth = f),
          o < i.maxHeight && (i.maxHeight = o));
        this._vBoundaries = i;
      },
      _updateCache: function(n) {
        var i = this.options;
        this.offset = this.helper.offset();
        t(n.left) && (this.position.left = n.left);
        t(n.top) && (this.position.top = n.top);
        t(n.height) && (this.size.height = n.height);
        t(n.width) && (this.size.width = n.width);
      },
      _updateRatio: function(n) {
        var f = this.options,
          i = this.position,
          r = this.size,
          u = this.axis;
        return (
          t(n.height)
            ? (n.width = n.height * this.aspectRatio)
            : t(n.width) && (n.height = n.width / this.aspectRatio),
          u == "sw" &&
            ((n.left = i.left + (r.width - n.width)), (n.top = null)),
          u == "nw" &&
            ((n.top = i.top + (r.height - n.height)),
            (n.left = i.left + (r.width - n.width))),
          n
        );
      },
      _respectSize: function(n, i) {
        var y = this.helper,
          r = this._vBoundaries,
          p = this._aspectRatio || i.shiftKey,
          f = this.axis,
          e = t(n.width) && r.maxWidth && r.maxWidth < n.width,
          o = t(n.height) && r.maxHeight && r.maxHeight < n.height,
          s = t(n.width) && r.minWidth && r.minWidth > n.width,
          h = t(n.height) && r.minHeight && r.minHeight > n.height,
          u;
        s && (n.width = r.minWidth);
        h && (n.height = r.minHeight);
        e && (n.width = r.maxWidth);
        o && (n.height = r.maxHeight);
        var c = this.originalPosition.left + this.originalSize.width,
          l = this.position.top + this.size.height,
          a = /sw|nw|w/.test(f),
          v = /nw|ne|n/.test(f);
        return (
          s && a && (n.left = c - r.minWidth),
          e && a && (n.left = c - r.maxWidth),
          h && v && (n.top = l - r.minHeight),
          o && v && (n.top = l - r.maxHeight),
          (u = !n.width && !n.height),
          u && !n.left && n.top
            ? (n.top = null)
            : u && !n.top && n.left && (n.left = null),
          n
        );
      },
      _proportionallyResize: function() {
        var e = this.options,
          i,
          r,
          t,
          u,
          f;
        if (this._proportionallyResizeElements.length)
          for (
            i = this.helper || this.element, r = 0;
            r < this._proportionallyResizeElements.length;
            r++
          )
            ((t = this._proportionallyResizeElements[r]),
            this.borderDif ||
              ((u = [
                t.css("borderTopWidth"),
                t.css("borderRightWidth"),
                t.css("borderBottomWidth"),
                t.css("borderLeftWidth")
              ]),
              (f = [
                t.css("paddingTop"),
                t.css("paddingRight"),
                t.css("paddingBottom"),
                t.css("paddingLeft")
              ]),
              (this.borderDif = n.map(u, function(n, t) {
                var i = parseInt(n, 10) || 0,
                  r = parseInt(f[t], 10) || 0;
                return i + r;
              }))),
            n.browser.msie &&
              (n(i).is(":hidden") || n(i).parents(":hidden").length)) ||
              t.css({
                height: i.height() - this.borderDif[0] - this.borderDif[2] || 0,
                width: i.width() - this.borderDif[1] - this.borderDif[3] || 0
              });
      },
      _renderProxy: function() {
        var u = this.element,
          f = this.options;
        if (((this.elementOffset = u.offset()), this._helper)) {
          this.helper =
            this.helper || n('<div style="overflow:hidden;"></div>');
          var t = n.browser.msie && n.browser.version < 7,
            i = t ? 1 : 0,
            r = t ? 2 : -1;
          this.helper
            .addClass(this._helper)
            .css({
              width: this.element.outerWidth() + r,
              height: this.element.outerHeight() + r,
              position: "absolute",
              left: this.elementOffset.left - i + "px",
              top: this.elementOffset.top - i + "px",
              zIndex: ++f.zIndex
            });
          this.helper.appendTo("body").disableSelection();
        } else this.helper = this.element;
      },
      _change: {
        e: function(n, t) {
          return { width: this.originalSize.width + t };
        },
        w: function(n, t) {
          var u = this.options,
            i = this.originalSize,
            r = this.originalPosition;
          return { left: r.left + t, width: i.width - t };
        },
        n: function(n, t, i) {
          var f = this.options,
            r = this.originalSize,
            u = this.originalPosition;
          return { top: u.top + i, height: r.height - i };
        },
        s: function(n, t, i) {
          return { height: this.originalSize.height + i };
        },
        se: function(t, i, r) {
          return n.extend(
            this._change.s.apply(this, arguments),
            this._change.e.apply(this, [t, i, r])
          );
        },
        sw: function(t, i, r) {
          return n.extend(
            this._change.s.apply(this, arguments),
            this._change.w.apply(this, [t, i, r])
          );
        },
        ne: function(t, i, r) {
          return n.extend(
            this._change.n.apply(this, arguments),
            this._change.e.apply(this, [t, i, r])
          );
        },
        nw: function(t, i, r) {
          return n.extend(
            this._change.n.apply(this, arguments),
            this._change.w.apply(this, [t, i, r])
          );
        }
      },
      _propagate: function(t, i) {
        n.ui.plugin.call(this, t, [i, this.ui()]);
        t != "resize" && this._trigger(t, i, this.ui());
      },
      plugins: {},
      ui: function() {
        return {
          originalElement: this.originalElement,
          element: this.element,
          helper: this.helper,
          position: this.position,
          size: this.size,
          originalSize: this.originalSize,
          originalPosition: this.originalPosition
        };
      }
    });
    n.extend(n.ui.resizable, { version: "1.8.24" });
    n.ui.plugin.add("resizable", "alsoResize", {
      start: function() {
        var r = n(this).data("resizable"),
          t = r.options,
          i = function(t) {
            n(t).each(function() {
              var t = n(this);
              t.data("resizable-alsoresize", {
                width: parseInt(t.width(), 10),
                height: parseInt(t.height(), 10),
                left: parseInt(t.css("left"), 10),
                top: parseInt(t.css("top"), 10)
              });
            });
          };
        typeof t.alsoResize != "object" || t.alsoResize.parentNode
          ? i(t.alsoResize)
          : t.alsoResize.length
          ? ((t.alsoResize = t.alsoResize[0]), i(t.alsoResize))
          : n.each(t.alsoResize, function(n) {
              i(n);
            });
      },
      resize: function(t, i) {
        var r = n(this).data("resizable"),
          u = r.options,
          f = r.originalSize,
          e = r.originalPosition,
          s = {
            height: r.size.height - f.height || 0,
            width: r.size.width - f.width || 0,
            top: r.position.top - e.top || 0,
            left: r.position.left - e.left || 0
          },
          o = function(t, r) {
            n(t).each(function() {
              var t = n(this),
                f = n(this).data("resizable-alsoresize"),
                u = {},
                e =
                  r && r.length
                    ? r
                    : t.parents(i.originalElement[0]).length
                    ? ["width", "height"]
                    : ["width", "height", "top", "left"];
              n.each(e, function(n, t) {
                var i = (f[t] || 0) + (s[t] || 0);
                i && i >= 0 && (u[t] = i || null);
              });
              t.css(u);
            });
          };
        typeof u.alsoResize != "object" || u.alsoResize.nodeType
          ? o(u.alsoResize)
          : n.each(u.alsoResize, function(n, t) {
              o(n, t);
            });
      },
      stop: function() {
        n(this).removeData("resizable-alsoresize");
      }
    });
    n.ui.plugin.add("resizable", "animate", {
      stop: function(t) {
        var i = n(this).data("resizable"),
          u = i.options,
          r = i._proportionallyResizeElements,
          f = r.length && /textarea/i.test(r[0].nodeName),
          s = f && n.ui.hasScroll(r[0], "left") ? 0 : i.sizeDiff.height,
          h = f ? 0 : i.sizeDiff.width,
          c = { width: i.size.width - h, height: i.size.height - s },
          e =
            parseInt(i.element.css("left"), 10) +
              (i.position.left - i.originalPosition.left) || null,
          o =
            parseInt(i.element.css("top"), 10) +
              (i.position.top - i.originalPosition.top) || null;
        i.element.animate(n.extend(c, o && e ? { top: o, left: e } : {}), {
          duration: u.animateDuration,
          easing: u.animateEasing,
          step: function() {
            var u = {
              width: parseInt(i.element.css("width"), 10),
              height: parseInt(i.element.css("height"), 10),
              top: parseInt(i.element.css("top"), 10),
              left: parseInt(i.element.css("left"), 10)
            };
            r && r.length && n(r[0]).css({ width: u.width, height: u.height });
            i._updateCache(u);
            i._propagate("resize", t);
          }
        });
      }
    });
    n.ui.plugin.add("resizable", "containment", {
      start: function() {
        var t = n(this).data("resizable"),
          s = t.options,
          h = t.element,
          u = s.containment,
          r =
            u instanceof n
              ? u.get(0)
              : /parent/.test(u)
              ? h.parent().get(0)
              : u,
          f,
          e;
        if (r)
          if (
            ((t.containerElement = n(r)), /document/.test(u) || u == document)
          )
            (t.containerOffset = { left: 0, top: 0 }),
              (t.containerPosition = { left: 0, top: 0 }),
              (t.parentData = {
                element: n(document),
                left: 0,
                top: 0,
                width: n(document).width(),
                height:
                  n(document).height() || document.body.parentNode.scrollHeight
              });
          else {
            f = n(r);
            e = [];
            n(["Top", "Right", "Left", "Bottom"]).each(function(n, t) {
              e[n] = i(f.css("padding" + t));
            });
            t.containerOffset = f.offset();
            t.containerPosition = f.position();
            t.containerSize = {
              height: f.innerHeight() - e[3],
              width: f.innerWidth() - e[1]
            };
            var o = t.containerOffset,
              c = t.containerSize.height,
              l = t.containerSize.width,
              a = n.ui.hasScroll(r, "left") ? r.scrollWidth : l,
              v = n.ui.hasScroll(r) ? r.scrollHeight : c;
            t.parentData = {
              element: r,
              left: o.left,
              top: o.top,
              width: a,
              height: v
            };
          }
      },
      resize: function(t) {
        var i = n(this).data("resizable"),
          c = i.options,
          v = i.containerSize,
          r = i.containerOffset,
          y = i.size,
          o = i.position,
          f = i._aspectRatio || t.shiftKey,
          u = { top: 0, left: 0 },
          s = i.containerElement;
        s[0] != document && /static/.test(s.css("position")) && (u = r);
        o.left < (i._helper ? r.left : 0) &&
          ((i.size.width =
            i.size.width +
            (i._helper ? i.position.left - r.left : i.position.left - u.left)),
          f && (i.size.height = i.size.width / i.aspectRatio),
          (i.position.left = c.helper ? r.left : 0));
        o.top < (i._helper ? r.top : 0) &&
          ((i.size.height =
            i.size.height +
            (i._helper ? i.position.top - r.top : i.position.top)),
          f && (i.size.width = i.size.height * i.aspectRatio),
          (i.position.top = i._helper ? r.top : 0));
        i.offset.left = i.parentData.left + i.position.left;
        i.offset.top = i.parentData.top + i.position.top;
        var e = Math.abs(
            (i._helper ? i.offset.left - u.left : i.offset.left - u.left) +
              i.sizeDiff.width
          ),
          h = Math.abs(
            (i._helper ? i.offset.top - u.top : i.offset.top - r.top) +
              i.sizeDiff.height
          ),
          l = i.containerElement.get(0) == i.element.parent().get(0),
          a = /relative|absolute/.test(i.containerElement.css("position"));
        l && a && (e -= i.parentData.left);
        e + i.size.width >= i.parentData.width &&
          ((i.size.width = i.parentData.width - e),
          f && (i.size.height = i.size.width / i.aspectRatio));
        h + i.size.height >= i.parentData.height &&
          ((i.size.height = i.parentData.height - h),
          f && (i.size.width = i.size.height * i.aspectRatio));
      },
      stop: function() {
        var t = n(this).data("resizable"),
          r = t.options,
          c = t.position,
          u = t.containerOffset,
          f = t.containerPosition,
          e = t.containerElement,
          i = n(t.helper),
          o = i.offset(),
          s = i.outerWidth() - t.sizeDiff.width,
          h = i.outerHeight() - t.sizeDiff.height;
        t._helper &&
          !r.animate &&
          /relative/.test(e.css("position")) &&
          n(this).css({ left: o.left - f.left - u.left, width: s, height: h });
        t._helper &&
          !r.animate &&
          /static/.test(e.css("position")) &&
          n(this).css({ left: o.left - f.left - u.left, width: s, height: h });
      }
    });
    n.ui.plugin.add("resizable", "ghost", {
      start: function() {
        var t = n(this).data("resizable"),
          i = t.options,
          r = t.size;
        t.ghost = t.originalElement.clone();
        t.ghost
          .css({
            opacity: 0.25,
            display: "block",
            position: "relative",
            height: r.height,
            width: r.width,
            margin: 0,
            left: 0,
            top: 0
          })
          .addClass("ui-resizable-ghost")
          .addClass(typeof i.ghost == "string" ? i.ghost : "");
        t.ghost.appendTo(t.helper);
      },
      resize: function() {
        var t = n(this).data("resizable"),
          i = t.options;
        t.ghost &&
          t.ghost.css({
            position: "relative",
            height: t.size.height,
            width: t.size.width
          });
      },
      stop: function() {
        var t = n(this).data("resizable"),
          i = t.options;
        t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0));
      }
    });
    n.ui.plugin.add("resizable", "grid", {
      resize: function(t) {
        var i = n(this).data("resizable"),
          r = i.options,
          h = i.size,
          u = i.originalSize,
          o = i.originalPosition,
          s = i.axis,
          c = r._aspectRatio || t.shiftKey,
          f,
          e;
        r.grid = typeof r.grid == "number" ? [r.grid, r.grid] : r.grid;
        f =
          Math.round((h.width - u.width) / (r.grid[0] || 1)) * (r.grid[0] || 1);
        e =
          Math.round((h.height - u.height) / (r.grid[1] || 1)) *
          (r.grid[1] || 1);
        /^(se|s|e)$/.test(s)
          ? ((i.size.width = u.width + f), (i.size.height = u.height + e))
          : /^(ne)$/.test(s)
          ? ((i.size.width = u.width + f),
            (i.size.height = u.height + e),
            (i.position.top = o.top - e))
          : /^(sw)$/.test(s)
          ? ((i.size.width = u.width + f),
            (i.size.height = u.height + e),
            (i.position.left = o.left - f))
          : ((i.size.width = u.width + f),
            (i.size.height = u.height + e),
            (i.position.top = o.top - e),
            (i.position.left = o.left - f));
      }
    });
    var i = function(n) {
        return parseInt(n, 10) || 0;
      },
      t = function(n) {
        return !isNaN(parseInt(n, 10));
      };
  })(jQuery),
  (function(n) {
    n.widget("ui.selectable", n.ui.mouse, {
      options: {
        appendTo: "body",
        autoRefresh: !0,
        distance: 0,
        filter: "*",
        tolerance: "touch"
      },
      _create: function() {
        var t = this,
          i;
        this.element.addClass("ui-selectable");
        this.dragged = !1;
        this.refresh = function() {
          i = n(t.options.filter, t.element[0]);
          i.addClass("ui-selectee");
          i.each(function() {
            var t = n(this),
              i = t.offset();
            n.data(this, "selectable-item", {
              element: this,
              $element: t,
              left: i.left,
              top: i.top,
              right: i.left + t.outerWidth(),
              bottom: i.top + t.outerHeight(),
              startselected: !1,
              selected: t.hasClass("ui-selected"),
              selecting: t.hasClass("ui-selecting"),
              unselecting: t.hasClass("ui-unselecting")
            });
          });
        };
        this.refresh();
        this.selectees = i.addClass("ui-selectee");
        this._mouseInit();
        this.helper = n("<div class='ui-selectable-helper'></div>");
        this.element
          .bind("mousedown.selectable", function(i) {
            var r = t._targetIsSelectable(i.target),
              u;
            if (r) {
              if (
                ((u = n(".ui-selected").length),
                !i.ctrlKey &&
                  n(".ui-selected").length > 1 &&
                  n(r).hasClass("ui-selected"))
              )
                return (t._listenForMouseUp = 1);
              i.ctrlKey ||
                n(".ui-selected").each(function() {
                  t._removeSelection(this, i);
                });
              t._toggleSelection(r, i);
              i.preventDefault();
            }
          })
          .bind("mouseup.selectable", function(n) {
            if (t._listenForMouseUp) {
              t._listenForMouseUp = 0;
              var i = t._targetIsSelectable(n.target);
              if (!i) return;
              t._addSelection(i, n);
              n.preventDefault();
            }
          });
      },
      _addSelection: function(t, i) {
        n(t).addClass("ui-selecting");
        this._trigger("selecting", i, { selecting: t });
        n(t)
          .removeClass("ui-selecting")
          .addClass("ui-selected");
        this._trigger("selected", i, { selected: t });
      },
      _removeSelection: function(t, i) {
        n(t)
          .removeClass("ui-selected")
          .addClass("ui-unselecting");
        this._trigger("unselecting", i, { unselecting: t });
        n(t).removeClass("ui-unselecting");
        this._trigger("unselected", i, { unselected: t });
      },
      _toggleSelection: function(t, i) {
        n(t).hasClass("ui-selected")
          ? this._removeSelection(t, i)
          : this._addSelection(t, i);
      },
      _targetIsSelectable: function(t) {
        var i = n(t)
          .parents()
          .andSelf()
          .filter(".ui-selectee");
        return i.length && i;
      },
      destroy: function() {
        return (
          this.selectees
            .removeClass("ui-selectee")
            .removeData("selectable-item"),
          this.element
            .removeClass("ui-selectable ui-selectable-disabled")
            .removeData("selectable")
            .unbind(".selectable"),
          this._mouseDestroy(),
          this
        );
      },
      _mouseStart: function(t) {
        var r = this,
          i;
        ((this.opos = [t.pageX, t.pageY]), this.options.disabled) ||
          ((i = this.options),
          (this.selectees = n(i.filter, this.element[0])),
          this._trigger("start", t),
          n(i.appendTo).append(this.helper),
          this.helper.css({
            left: t.clientX,
            top: t.clientY,
            width: 0,
            height: 0
          }),
          i.autoRefresh && this.refresh(),
          this.selectees.filter(".ui-selected").each(function() {
            var i = n.data(this, "selectable-item");
            i.startselected = !0;
            t.metaKey ||
              t.ctrlKey ||
              (i.$element.removeClass("ui-selected"),
              (i.selected = !1),
              i.$element.addClass("ui-unselecting"),
              (i.unselecting = !0),
              r._trigger("unselecting", t, { unselecting: i.element }));
          }),
          n(t.target)
            .parents()
            .andSelf()
            .each(function() {
              var i = n.data(this, "selectable-item"),
                u;
              if (i)
                return (
                  (u =
                    (!t.metaKey && !t.ctrlKey) ||
                    !i.$element.hasClass("ui-selected")),
                  i.$element
                    .removeClass(u ? "ui-unselecting" : "ui-selected")
                    .addClass(u ? "ui-selecting" : "ui-unselecting"),
                  (i.unselecting = !u),
                  (i.selecting = u),
                  (i.selected = u),
                  u
                    ? r._trigger("selecting", t, { selecting: i.element })
                    : r._trigger("unselecting", t, { unselecting: i.element }),
                  !1
                );
            }));
      },
      _mouseDrag: function(t) {
        var o = this,
          e;
        if (((this.dragged = !0), !this.options.disabled)) {
          var s = this.options,
            i = this.opos[0],
            r = this.opos[1],
            u = t.pageX,
            f = t.pageY;
          return (
            i > u && ((e = u), (u = i), (i = e)),
            r > f && ((e = f), (f = r), (r = e)),
            this.helper.css({ left: i, top: r, width: u - i, height: f - r }),
            this.selectees.each(function() {
              var e = n.data(this, "selectable-item"),
                h;
              e &&
                e.element != o.element[0] &&
                ((h = !1),
                s.tolerance == "touch"
                  ? (h = !(
                      e.left > u ||
                      e.right < i ||
                      e.top > f ||
                      e.bottom < r
                    ))
                  : s.tolerance == "fit" &&
                    (h =
                      e.left > i && e.right < u && e.top > r && e.bottom < f),
                h
                  ? (e.selected &&
                      (e.$element.removeClass("ui-selected"),
                      (e.selected = !1)),
                    e.unselecting &&
                      (e.$element.removeClass("ui-unselecting"),
                      (e.unselecting = !1)),
                    e.selecting ||
                      (e.$element.addClass("ui-selecting"),
                      (e.selecting = !0),
                      o._trigger("selecting", t, { selecting: e.element })))
                  : (e.selecting &&
                      ((t.metaKey || t.ctrlKey) && e.startselected
                        ? (e.$element.removeClass("ui-selecting"),
                          (e.selecting = !1),
                          e.$element.addClass("ui-selected"),
                          (e.selected = !0))
                        : (e.$element.removeClass("ui-selecting"),
                          (e.selecting = !1),
                          e.startselected &&
                            (e.$element.addClass("ui-unselecting"),
                            (e.unselecting = !0)),
                          o._trigger("unselecting", t, {
                            unselecting: e.element
                          }))),
                    e.selected &&
                      (t.metaKey ||
                        t.ctrlKey ||
                        e.startselected ||
                        (e.$element.removeClass("ui-selected"),
                        (e.selected = !1),
                        e.$element.addClass("ui-unselecting"),
                        (e.unselecting = !0),
                        o._trigger("unselecting", t, {
                          unselecting: e.element
                        })))));
            }),
            !1
          );
        }
      },
      _mouseStop: function(t) {
        var i = this,
          r;
        return (
          (this.dragged = !1),
          (r = this.options),
          n(".ui-unselecting", this.element[0]).each(function() {
            var r = n.data(this, "selectable-item");
            r.$element.removeClass("ui-unselecting");
            r.unselecting = !1;
            r.startselected = !1;
            i._trigger("unselected", t, { unselected: r.element });
          }),
          n(".ui-selecting", this.element[0]).each(function() {
            var r = n.data(this, "selectable-item");
            r.$element.removeClass("ui-selecting").addClass("ui-selected");
            r.selecting = !1;
            r.selected = !0;
            r.startselected = !0;
            i._trigger("selected", t, { selected: r.element });
          }),
          this._trigger("stop", t),
          this.helper.remove(),
          !1
        );
      }
    });
    n.extend(n.ui.selectable, { version: "1.8.24" });
  })(jQuery),
  (function(n) {
    n.widget("ui.sortable", n.ui.mouse, {
      widgetEventPrefix: "sort",
      ready: !1,
      options: {
        appendTo: "parent",
        axis: !1,
        connectWith: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        dropOnEmpty: !0,
        forcePlaceholderSize: !1,
        forceHelperSize: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        items: "> *",
        opacity: !1,
        placeholder: !1,
        revert: !1,
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        scope: "default",
        tolerance: "intersect",
        zIndex: 1e3
      },
      _create: function() {
        var n = this.options;
        this.containerCache = {};
        this.element.addClass("ui-sortable");
        this.refresh();
        this.floating = this.items.length
          ? n.axis === "x" ||
            /left|right/.test(this.items[0].item.css("float")) ||
            /inline|table-cell/.test(this.items[0].item.css("display"))
          : !1;
        this.offset = this.element.offset();
        this._mouseInit();
        this.ready = !0;
      },
      destroy: function() {
        n.Widget.prototype.destroy.call(this);
        this.element.removeClass("ui-sortable ui-sortable-disabled");
        this._mouseDestroy();
        for (var t = this.items.length - 1; t >= 0; t--)
          this.items[t].item.removeData(this.widgetName + "-item");
        return this;
      },
      _setOption: function(t, i) {
        t === "disabled"
          ? ((this.options[t] = i),
            this.widget()[i ? "addClass" : "removeClass"](
              "ui-sortable-disabled"
            ))
          : n.Widget.prototype._setOption.apply(this, arguments);
      },
      _mouseCapture: function(t, i) {
        var f = this,
          u;
        if (
          this.reverting ||
          this.options.disabled ||
          this.options.type == "static"
        )
          return !1;
        this._refreshItems(t);
        var r = null,
          e = this,
          o = n(t.target)
            .parents()
            .each(function() {
              if (n.data(this, f.widgetName + "-item") == e)
                return (r = n(this)), !1;
            });
        return (n.data(t.target, f.widgetName + "-item") == e &&
          (r = n(t.target)),
        !r)
          ? !1
          : this.options.handle &&
            !i &&
            ((u = !1),
            n(this.options.handle, r)
              .find("*")
              .andSelf()
              .each(function() {
                this == t.target && (u = !0);
              }),
            !u)
          ? !1
          : ((this.currentItem = r), this._removeCurrentsFromItems(), !0);
      },
      _mouseStart: function(t, i, r) {
        var u = this.options,
          e = this,
          f;
        if (
          ((this.currentContainer = this),
          this.refreshPositions(),
          (this.helper = this._createHelper(t)),
          this._cacheHelperProportions(),
          this._cacheMargins(),
          (this.scrollParent = this.helper.scrollParent()),
          (this.offset = this.currentItem.offset()),
          (this.offset = {
            top: this.offset.top - this.margins.top,
            left: this.offset.left - this.margins.left
          }),
          n.extend(this.offset, {
            click: {
              left: t.pageX - this.offset.left,
              top: t.pageY - this.offset.top
            },
            parent: this._getParentOffset(),
            relative: this._getRelativeOffset()
          }),
          this.helper.css("position", "absolute"),
          (this.cssPosition = this.helper.css("position")),
          (this.originalPosition = this._generatePosition(t)),
          (this.originalPageX = t.pageX),
          (this.originalPageY = t.pageY),
          u.cursorAt && this._adjustOffsetFromHelper(u.cursorAt),
          (this.domPosition = {
            prev: this.currentItem.prev()[0],
            parent: this.currentItem.parent()[0]
          }),
          this.helper[0] != this.currentItem[0] && this.currentItem.hide(),
          this._createPlaceholder(),
          u.containment && this._setContainment(),
          u.cursor &&
            (n("body").css("cursor") &&
              (this._storedCursor = n("body").css("cursor")),
            n("body").css("cursor", u.cursor)),
          u.opacity &&
            (this.helper.css("opacity") &&
              (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", u.opacity)),
          u.zIndex &&
            (this.helper.css("zIndex") &&
              (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", u.zIndex)),
          this.scrollParent[0] != document &&
            this.scrollParent[0].tagName != "HTML" &&
            (this.overflowOffset = this.scrollParent.offset()),
          this._trigger("start", t, this._uiHash()),
          this._preserveHelperProportions || this._cacheHelperProportions(),
          !r)
        )
          for (f = this.containers.length - 1; f >= 0; f--)
            this.containers[f]._trigger("activate", t, e._uiHash(this));
        return (
          n.ui.ddmanager && (n.ui.ddmanager.current = this),
          n.ui.ddmanager &&
            !u.dropBehaviour &&
            n.ui.ddmanager.prepareOffsets(this, t),
          (this.dragging = !0),
          this.helper.addClass("ui-sortable-helper"),
          this._mouseDrag(t),
          !0
        );
      },
      _mouseDrag: function(t) {
        var i, r, f;
        for (
          this.position = this._generatePosition(t),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
            this.options.scroll &&
              ((i = this.options),
              (r = !1),
              this.scrollParent[0] != document &&
              this.scrollParent[0].tagName != "HTML"
                ? (this.overflowOffset.top +
                    this.scrollParent[0].offsetHeight -
                    t.pageY <
                  i.scrollSensitivity
                    ? (this.scrollParent[0].scrollTop = r =
                        this.scrollParent[0].scrollTop + i.scrollSpeed)
                    : t.pageY - this.overflowOffset.top < i.scrollSensitivity &&
                      (this.scrollParent[0].scrollTop = r =
                        this.scrollParent[0].scrollTop - i.scrollSpeed),
                  this.overflowOffset.left +
                    this.scrollParent[0].offsetWidth -
                    t.pageX <
                  i.scrollSensitivity
                    ? (this.scrollParent[0].scrollLeft = r =
                        this.scrollParent[0].scrollLeft + i.scrollSpeed)
                    : t.pageX - this.overflowOffset.left <
                        i.scrollSensitivity &&
                      (this.scrollParent[0].scrollLeft = r =
                        this.scrollParent[0].scrollLeft - i.scrollSpeed))
                : (t.pageY - n(document).scrollTop() < i.scrollSensitivity
                    ? (r = n(document).scrollTop(
                        n(document).scrollTop() - i.scrollSpeed
                      ))
                    : n(window).height() - (t.pageY - n(document).scrollTop()) <
                        i.scrollSensitivity &&
                      (r = n(document).scrollTop(
                        n(document).scrollTop() + i.scrollSpeed
                      )),
                  t.pageX - n(document).scrollLeft() < i.scrollSensitivity
                    ? (r = n(document).scrollLeft(
                        n(document).scrollLeft() - i.scrollSpeed
                      ))
                    : n(window).width() - (t.pageX - n(document).scrollLeft()) <
                        i.scrollSensitivity &&
                      (r = n(document).scrollLeft(
                        n(document).scrollLeft() + i.scrollSpeed
                      ))),
              r !== !1 &&
                n.ui.ddmanager &&
                !i.dropBehaviour &&
                n.ui.ddmanager.prepareOffsets(this, t)),
            this.positionAbs = this._convertPositionTo("absolute"),
            (this.options.axis && this.options.axis == "y") ||
              (this.helper[0].style.left = this.position.left + "px"),
            (this.options.axis && this.options.axis == "x") ||
              (this.helper[0].style.top = this.position.top + "px"),
            f = this.items.length - 1;
          f >= 0;
          f--
        ) {
          var u = this.items[f],
            e = u.item[0],
            o = this._intersectsWithPointer(u);
          if (
            o &&
            u.instance === this.currentContainer &&
            e != this.currentItem[0] &&
            this.placeholder[o == 1 ? "next" : "prev"]()[0] != e &&
            !n.ui.contains(this.placeholder[0], e) &&
            (this.options.type == "semi-dynamic"
              ? !n.ui.contains(this.element[0], e)
              : !0)
          ) {
            if (
              ((this.direction = o == 1 ? "down" : "up"),
              this.options.tolerance == "pointer" ||
                this._intersectsWithSides(u))
            )
              this._rearrange(t, u);
            else break;
            this._trigger("change", t, this._uiHash());
            break;
          }
        }
        return (
          this._contactContainers(t),
          n.ui.ddmanager && n.ui.ddmanager.drag(this, t),
          this._trigger("sort", t, this._uiHash()),
          (this.lastPositionAbs = this.positionAbs),
          !1
        );
      },
      _mouseStop: function(t, i) {
        if (t) {
          if (
            (n.ui.ddmanager &&
              !this.options.dropBehaviour &&
              n.ui.ddmanager.drop(this, t),
            this.options.revert)
          ) {
            var r = this,
              u = r.placeholder.offset();
            r.reverting = !0;
            n(this.helper).animate(
              {
                left:
                  u.left -
                  this.offset.parent.left -
                  r.margins.left +
                  (this.offsetParent[0] == document.body
                    ? 0
                    : this.offsetParent[0].scrollLeft),
                top:
                  u.top -
                  this.offset.parent.top -
                  r.margins.top +
                  (this.offsetParent[0] == document.body
                    ? 0
                    : this.offsetParent[0].scrollTop)
              },
              parseInt(this.options.revert, 10) || 500,
              function() {
                r._clear(t);
              }
            );
          } else this._clear(t, i);
          return !1;
        }
      },
      cancel: function() {
        var i = this,
          t;
        if (this.dragging)
          for (
            this._mouseUp({ target: null }),
              this.options.helper == "original"
                ? this.currentItem
                    .css(this._storedCSS)
                    .removeClass("ui-sortable-helper")
                : this.currentItem.show(),
              t = this.containers.length - 1;
            t >= 0;
            t--
          )
            this.containers[t]._trigger("deactivate", null, i._uiHash(this)),
              this.containers[t].containerCache.over &&
                (this.containers[t]._trigger("out", null, i._uiHash(this)),
                (this.containers[t].containerCache.over = 0));
        return (
          this.placeholder &&
            (this.placeholder[0].parentNode &&
              this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            this.options.helper != "original" &&
              this.helper &&
              this.helper[0].parentNode &&
              this.helper.remove(),
            n.extend(this, {
              helper: null,
              dragging: !1,
              reverting: !1,
              _noFinalSort: null
            }),
            this.domPosition.prev
              ? n(this.domPosition.prev).after(this.currentItem)
              : n(this.domPosition.parent).prepend(this.currentItem)),
          this
        );
      },
      serialize: function(t) {
        var r = this._getItemsAsjQuery(t && t.connected),
          i = [];
        return (
          (t = t || {}),
          n(r).each(function() {
            var r = (n(t.item || this).attr(t.attribute || "id") || "").match(
              t.expression || /(.+)[-=_](.+)/
            );
            r &&
              i.push(
                (t.key || r[1] + "[]") +
                  "=" +
                  (t.key && t.expression ? r[1] : r[2])
              );
          }),
          !i.length && t.key && i.push(t.key + "="),
          i.join("&")
        );
      },
      toArray: function(t) {
        var r = this._getItemsAsjQuery(t && t.connected),
          i = [];
        return (
          (t = t || {}),
          r.each(function() {
            i.push(n(t.item || this).attr(t.attribute || "id") || "");
          }),
          i
        );
      },
      _intersectsWith: function(n) {
        var t = this.positionAbs.left,
          h = t + this.helperProportions.width,
          i = this.positionAbs.top,
          c = i + this.helperProportions.height,
          r = n.left,
          f = r + n.width,
          u = n.top,
          e = u + n.height,
          o = this.offset.click.top,
          s = this.offset.click.left,
          l = i + o > u && i + o < e && t + s > r && t + s < f;
        return this.options.tolerance == "pointer" ||
          this.options.forcePointerForContainers ||
          (this.options.tolerance != "pointer" &&
            this.helperProportions[this.floating ? "width" : "height"] >
              n[this.floating ? "width" : "height"])
          ? l
          : r < t + this.helperProportions.width / 2 &&
              h - this.helperProportions.width / 2 < f &&
              u < i + this.helperProportions.height / 2 &&
              c - this.helperProportions.height / 2 < e;
      },
      _intersectsWithPointer: function(t) {
        var u =
            this.options.axis === "x" ||
            n.ui.isOverAxis(
              this.positionAbs.top + this.offset.click.top,
              t.top,
              t.height
            ),
          f =
            this.options.axis === "y" ||
            n.ui.isOverAxis(
              this.positionAbs.left + this.offset.click.left,
              t.left,
              t.width
            ),
          e = u && f,
          i = this._getDragVerticalDirection(),
          r = this._getDragHorizontalDirection();
        return e
          ? this.floating
            ? (r && r == "right") || i == "down"
              ? 2
              : 1
            : i && (i == "down" ? 2 : 1)
          : !1;
      },
      _intersectsWithSides: function(t) {
        var u = n.ui.isOverAxis(
            this.positionAbs.top + this.offset.click.top,
            t.top + t.height / 2,
            t.height
          ),
          f = n.ui.isOverAxis(
            this.positionAbs.left + this.offset.click.left,
            t.left + t.width / 2,
            t.width
          ),
          i = this._getDragVerticalDirection(),
          r = this._getDragHorizontalDirection();
        return this.floating && r
          ? (r == "right" && f) || (r == "left" && !f)
          : i && ((i == "down" && u) || (i == "up" && !u));
      },
      _getDragVerticalDirection: function() {
        var n = this.positionAbs.top - this.lastPositionAbs.top;
        return n != 0 && (n > 0 ? "down" : "up");
      },
      _getDragHorizontalDirection: function() {
        var n = this.positionAbs.left - this.lastPositionAbs.left;
        return n != 0 && (n > 0 ? "right" : "left");
      },
      refresh: function(n) {
        return this._refreshItems(n), this.refreshPositions(), this;
      },
      _connectWith: function() {
        var n = this.options;
        return n.connectWith.constructor == String
          ? [n.connectWith]
          : n.connectWith;
      },
      _getItemsAsjQuery: function(t) {
        var h = this,
          s = [],
          u = [],
          e = this._connectWith(),
          o,
          f,
          i,
          r;
        if (e && t)
          for (r = e.length - 1; r >= 0; r--)
            for (o = n(e[r]), f = o.length - 1; f >= 0; f--)
              (i = n.data(o[f], this.widgetName)),
                i &&
                  i != this &&
                  !i.options.disabled &&
                  u.push([
                    n.isFunction(i.options.items)
                      ? i.options.items.call(i.element)
                      : n(i.options.items, i.element)
                          .not(".ui-sortable-helper")
                          .not(".ui-sortable-placeholder"),
                    i
                  ]);
        for (
          u.push([
            n.isFunction(this.options.items)
              ? this.options.items.call(this.element, null, {
                  options: this.options,
                  item: this.currentItem
                })
              : n(this.options.items, this.element)
                  .not(".ui-sortable-helper")
                  .not(".ui-sortable-placeholder"),
            this
          ]),
            r = u.length - 1;
          r >= 0;
          r--
        )
          u[r][0].each(function() {
            s.push(this);
          });
        return n(s);
      },
      _removeCurrentsFromItems: function() {
        for (
          var i = this.currentItem.find(":data(" + this.widgetName + "-item)"),
            t,
            n = 0;
          n < this.items.length;
          n++
        )
          for (t = 0; t < i.length; t++)
            i[t] == this.items[n].item[0] && this.items.splice(n, 1);
      },
      _refreshItems: function(t) {
        var o, i, r, s, h, u, l, c;
        this.items = [];
        this.containers = [this];
        var a = this.items,
          v = this,
          f = [
            [
              n.isFunction(this.options.items)
                ? this.options.items.call(this.element[0], t, {
                    item: this.currentItem
                  })
                : n(this.options.items, this.element),
              this
            ]
          ],
          e = this._connectWith();
        if (e && this.ready)
          for (r = e.length - 1; r >= 0; r--)
            for (o = n(e[r]), u = o.length - 1; u >= 0; u--)
              (i = n.data(o[u], this.widgetName)),
                i &&
                  i != this &&
                  !i.options.disabled &&
                  (f.push([
                    n.isFunction(i.options.items)
                      ? i.options.items.call(i.element[0], t, {
                          item: this.currentItem
                        })
                      : n(i.options.items, i.element),
                    i
                  ]),
                  this.containers.push(i));
        for (r = f.length - 1; r >= 0; r--)
          for (s = f[r][1], h = f[r][0], u = 0, l = h.length; u < l; u++)
            (c = n(h[u])),
              c.data(this.widgetName + "-item", s),
              a.push({
                item: c,
                instance: s,
                width: 0,
                height: 0,
                left: 0,
                top: 0
              });
      },
      refreshPositions: function(t) {
        var r, f, i, u;
        for (
          this.offsetParent &&
            this.helper &&
            (this.offset.parent = this._getParentOffset()),
            i = this.items.length - 1;
          i >= 0;
          i--
        )
          ((r = this.items[i]),
          r.instance != this.currentContainer &&
            this.currentContainer &&
            r.item[0] != this.currentItem[0]) ||
            ((f = this.options.toleranceElement
              ? n(this.options.toleranceElement, r.item)
              : r.item),
            t || ((r.width = f.outerWidth()), (r.height = f.outerHeight())),
            (u = f.offset()),
            (r.left = u.left),
            (r.top = u.top));
        if (this.options.custom && this.options.custom.refreshContainers)
          this.options.custom.refreshContainers.call(this);
        else
          for (i = this.containers.length - 1; i >= 0; i--)
            (u = this.containers[i].element.offset()),
              (this.containers[i].containerCache.left = u.left),
              (this.containers[i].containerCache.top = u.top),
              (this.containers[i].containerCache.width = this.containers[
                i
              ].element.outerWidth()),
              (this.containers[i].containerCache.height = this.containers[
                i
              ].element.outerHeight());
        return this;
      },
      _createPlaceholder: function(t) {
        var i = t || this,
          r = i.options,
          u;
        (r.placeholder && r.placeholder.constructor != String) ||
          ((u = r.placeholder),
          (r.placeholder = {
            element: function() {
              var t = n(document.createElement(i.currentItem[0].nodeName))
                .addClass(
                  u || i.currentItem[0].className + " ui-sortable-placeholder"
                )
                .removeClass("ui-sortable-helper")[0];
              return u || (t.style.visibility = "hidden"), t;
            },
            update: function(n, t) {
              (!u || r.forcePlaceholderSize) &&
                (t.height() ||
                  t.height(
                    i.currentItem.innerHeight() -
                      parseInt(i.currentItem.css("paddingTop") || 0, 10) -
                      parseInt(i.currentItem.css("paddingBottom") || 0, 10)
                  ),
                t.width() ||
                  t.width(
                    i.currentItem.innerWidth() -
                      parseInt(i.currentItem.css("paddingLeft") || 0, 10) -
                      parseInt(i.currentItem.css("paddingRight") || 0, 10)
                  ));
            }
          }));
        i.placeholder = n(r.placeholder.element.call(i.element, i.currentItem));
        i.currentItem.after(i.placeholder);
        r.placeholder.update(i, i.placeholder);
      },
      _contactContainers: function(t) {
        for (
          var f = null, i = null, u, o, r = this.containers.length - 1;
          r >= 0;
          r--
        )
          if (
            !n.ui.contains(this.currentItem[0], this.containers[r].element[0])
          )
            if (this._intersectsWith(this.containers[r].containerCache)) {
              if (
                f &&
                n.ui.contains(this.containers[r].element[0], f.element[0])
              )
                continue;
              f = this.containers[r];
              i = r;
            } else
              this.containers[r].containerCache.over &&
                (this.containers[r]._trigger("out", t, this._uiHash(this)),
                (this.containers[r].containerCache.over = 0));
        if (f)
          if (this.containers.length === 1)
            this.containers[i]._trigger("over", t, this._uiHash(this)),
              (this.containers[i].containerCache.over = 1);
          else if (this.currentContainer != this.containers[i]) {
            var h = 1e4,
              e = null,
              s = this.positionAbs[
                this.containers[i].floating ? "left" : "top"
              ];
            for (u = this.items.length - 1; u >= 0; u--)
              n.ui.contains(
                this.containers[i].element[0],
                this.items[u].item[0]
              ) &&
                ((o = this.containers[i].floating
                  ? this.items[u].item.offset().left
                  : this.items[u].item.offset().top),
                Math.abs(o - s) < h &&
                  ((h = Math.abs(o - s)),
                  (e = this.items[u]),
                  (this.direction = o - s > 0 ? "down" : "up")));
            if (!e && !this.options.dropOnEmpty) return;
            this.currentContainer = this.containers[i];
            e
              ? this._rearrange(t, e, null, !0)
              : this._rearrange(t, null, this.containers[i].element, !0);
            this._trigger("change", t, this._uiHash());
            this.containers[i]._trigger("change", t, this._uiHash(this));
            this.options.placeholder.update(
              this.currentContainer,
              this.placeholder
            );
            this.containers[i]._trigger("over", t, this._uiHash(this));
            this.containers[i].containerCache.over = 1;
          }
      },
      _createHelper: function(t) {
        var r = this.options,
          i = n.isFunction(r.helper)
            ? n(r.helper.apply(this.element[0], [t, this.currentItem]))
            : r.helper == "clone"
            ? this.currentItem.clone()
            : this.currentItem;
        return (
          i.parents("body").length ||
            n(
              r.appendTo != "parent"
                ? r.appendTo
                : this.currentItem[0].parentNode
            )[0].appendChild(i[0]),
          i[0] == this.currentItem[0] &&
            (this._storedCSS = {
              width: this.currentItem[0].style.width,
              height: this.currentItem[0].style.height,
              position: this.currentItem.css("position"),
              top: this.currentItem.css("top"),
              left: this.currentItem.css("left")
            }),
          (i[0].style.width == "" || r.forceHelperSize) &&
            i.width(this.currentItem.width()),
          (i[0].style.height == "" || r.forceHelperSize) &&
            i.height(this.currentItem.height()),
          i
        );
      },
      _adjustOffsetFromHelper: function(t) {
        typeof t == "string" && (t = t.split(" "));
        n.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 });
        "left" in t && (this.offset.click.left = t.left + this.margins.left);
        "right" in t &&
          (this.offset.click.left =
            this.helperProportions.width - t.right + this.margins.left);
        "top" in t && (this.offset.click.top = t.top + this.margins.top);
        "bottom" in t &&
          (this.offset.click.top =
            this.helperProportions.height - t.bottom + this.margins.top);
      },
      _getParentOffset: function() {
        this.offsetParent = this.helper.offsetParent();
        var t = this.offsetParent.offset();
        return (
          this.cssPosition == "absolute" &&
            this.scrollParent[0] != document &&
            n.ui.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((t.left += this.scrollParent.scrollLeft()),
            (t.top += this.scrollParent.scrollTop())),
          (this.offsetParent[0] == document.body ||
            (this.offsetParent[0].tagName &&
              this.offsetParent[0].tagName.toLowerCase() == "html" &&
              n.browser.msie)) &&
            (t = { top: 0, left: 0 }),
          {
            top:
              t.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              t.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
          }
        );
      },
      _getRelativeOffset: function() {
        if (this.cssPosition == "relative") {
          var n = this.currentItem.position();
          return {
            top:
              n.top -
              (parseInt(this.helper.css("top"), 10) || 0) +
              this.scrollParent.scrollTop(),
            left:
              n.left -
              (parseInt(this.helper.css("left"), 10) || 0) +
              this.scrollParent.scrollLeft()
          };
        }
        return { top: 0, left: 0 };
      },
      _cacheMargins: function() {
        this.margins = {
          left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
          top: parseInt(this.currentItem.css("marginTop"), 10) || 0
        };
      },
      _cacheHelperProportions: function() {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight()
        };
      },
      _setContainment: function() {
        var i = this.options;
        if (
          (i.containment == "parent" &&
            (i.containment = this.helper[0].parentNode),
          (i.containment == "document" || i.containment == "window") &&
            (this.containment = [
              0 - this.offset.relative.left - this.offset.parent.left,
              0 - this.offset.relative.top - this.offset.parent.top,
              n(i.containment == "document" ? document : window).width() -
                this.helperProportions.width -
                this.margins.left,
              (n(i.containment == "document" ? document : window).height() ||
                document.body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top
            ]),
          !/^(document|window|parent)$/.test(i.containment))
        ) {
          var t = n(i.containment)[0],
            r = n(i.containment).offset(),
            u = n(t).css("overflow") != "hidden";
          this.containment = [
            r.left +
              (parseInt(n(t).css("borderLeftWidth"), 10) || 0) +
              (parseInt(n(t).css("paddingLeft"), 10) || 0) -
              this.margins.left,
            r.top +
              (parseInt(n(t).css("borderTopWidth"), 10) || 0) +
              (parseInt(n(t).css("paddingTop"), 10) || 0) -
              this.margins.top,
            r.left +
              (u ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) -
              (parseInt(n(t).css("borderLeftWidth"), 10) || 0) -
              (parseInt(n(t).css("paddingRight"), 10) || 0) -
              this.helperProportions.width -
              this.margins.left,
            r.top +
              (u ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) -
              (parseInt(n(t).css("borderTopWidth"), 10) || 0) -
              (parseInt(n(t).css("paddingBottom"), 10) || 0) -
              this.helperProportions.height -
              this.margins.top
          ];
        }
      },
      _convertPositionTo: function(t, i) {
        i || (i = this.position);
        var r = t == "absolute" ? 1 : -1,
          e = this.options,
          u =
            this.cssPosition == "absolute" &&
            !(
              this.scrollParent[0] != document &&
              n.ui.contains(this.scrollParent[0], this.offsetParent[0])
            )
              ? this.offsetParent
              : this.scrollParent,
          f = /(html|body)/i.test(u[0].tagName);
        return {
          top:
            i.top +
            this.offset.relative.top * r +
            this.offset.parent.top * r -
            (n.browser.safari && this.cssPosition == "fixed"
              ? 0
              : (this.cssPosition == "fixed"
                  ? -this.scrollParent.scrollTop()
                  : f
                  ? 0
                  : u.scrollTop()) * r),
          left:
            i.left +
            this.offset.relative.left * r +
            this.offset.parent.left * r -
            (n.browser.safari && this.cssPosition == "fixed"
              ? 0
              : (this.cssPosition == "fixed"
                  ? -this.scrollParent.scrollLeft()
                  : f
                  ? 0
                  : u.scrollLeft()) * r)
        };
      },
      _generatePosition: function(t) {
        var i = this.options,
          o =
            this.cssPosition == "absolute" &&
            !(
              this.scrollParent[0] != document &&
              n.ui.contains(this.scrollParent[0], this.offsetParent[0])
            )
              ? this.offsetParent
              : this.scrollParent,
          s = /(html|body)/i.test(o[0].tagName),
          f,
          e,
          r,
          u;
        return (
          this.cssPosition != "relative" ||
            (this.scrollParent[0] != document &&
              this.scrollParent[0] != this.offsetParent[0]) ||
            (this.offset.relative = this._getRelativeOffset()),
          (f = t.pageX),
          (e = t.pageY),
          this.originalPosition &&
            (this.containment &&
              (t.pageX - this.offset.click.left < this.containment[0] &&
                (f = this.containment[0] + this.offset.click.left),
              t.pageY - this.offset.click.top < this.containment[1] &&
                (e = this.containment[1] + this.offset.click.top),
              t.pageX - this.offset.click.left > this.containment[2] &&
                (f = this.containment[2] + this.offset.click.left),
              t.pageY - this.offset.click.top > this.containment[3] &&
                (e = this.containment[3] + this.offset.click.top)),
            i.grid &&
              ((r =
                this.originalPageY +
                Math.round((e - this.originalPageY) / i.grid[1]) * i.grid[1]),
              (e = this.containment
                ? r - this.offset.click.top < this.containment[1] ||
                  r - this.offset.click.top > this.containment[3]
                  ? r - this.offset.click.top < this.containment[1]
                    ? r + i.grid[1]
                    : r - i.grid[1]
                  : r
                : r),
              (u =
                this.originalPageX +
                Math.round((f - this.originalPageX) / i.grid[0]) * i.grid[0]),
              (f = this.containment
                ? u - this.offset.click.left < this.containment[0] ||
                  u - this.offset.click.left > this.containment[2]
                  ? u - this.offset.click.left < this.containment[0]
                    ? u + i.grid[0]
                    : u - i.grid[0]
                  : u
                : u))),
          {
            top:
              e -
              this.offset.click.top -
              this.offset.relative.top -
              this.offset.parent.top +
              (n.browser.safari && this.cssPosition == "fixed"
                ? 0
                : this.cssPosition == "fixed"
                ? -this.scrollParent.scrollTop()
                : s
                ? 0
                : o.scrollTop()),
            left:
              f -
              this.offset.click.left -
              this.offset.relative.left -
              this.offset.parent.left +
              (n.browser.safari && this.cssPosition == "fixed"
                ? 0
                : this.cssPosition == "fixed"
                ? -this.scrollParent.scrollLeft()
                : s
                ? 0
                : o.scrollLeft())
          }
        );
      },
      _rearrange: function(n, t, i, r) {
        i
          ? i[0].appendChild(this.placeholder[0])
          : t.item[0].parentNode.insertBefore(
              this.placeholder[0],
              this.direction == "down" ? t.item[0] : t.item[0].nextSibling
            );
        this.counter = this.counter ? ++this.counter : 1;
        var u = this,
          f = this.counter;
        window.setTimeout(function() {
          f == u.counter && u.refreshPositions(!r);
        }, 0);
      },
      _clear: function(t, i) {
        var u, f, r;
        if (
          ((this.reverting = !1),
          (u = []),
          (f = this),
          !this._noFinalSort &&
            this.currentItem.parent().length &&
            this.placeholder.before(this.currentItem),
          (this._noFinalSort = null),
          this.helper[0] == this.currentItem[0])
        ) {
          for (r in this._storedCSS)
            (this._storedCSS[r] == "auto" || this._storedCSS[r] == "static") &&
              (this._storedCSS[r] = "");
          this.currentItem
            .css(this._storedCSS)
            .removeClass("ui-sortable-helper");
        } else this.currentItem.show();
        for (
          this.fromOutside &&
            !i &&
            u.push(function(n) {
              this._trigger("receive", n, this._uiHash(this.fromOutside));
            }),
            (this.fromOutside ||
              this.domPosition.prev !=
                this.currentItem.prev().not(".ui-sortable-helper")[0] ||
              this.domPosition.parent != this.currentItem.parent()[0]) &&
              !i &&
              u.push(function(n) {
                this._trigger("update", n, this._uiHash());
              }),
            this !== this.currentContainer &&
              (i ||
                (u.push(function(n) {
                  this._trigger("remove", n, this._uiHash());
                }),
                u.push(
                  function(n) {
                    return function(t) {
                      n._trigger("receive", t, this._uiHash(this));
                    };
                  }.call(this, this.currentContainer)
                ),
                u.push(
                  function(n) {
                    return function(t) {
                      n._trigger("update", t, this._uiHash(this));
                    };
                  }.call(this, this.currentContainer)
                ))),
            r = this.containers.length - 1;
          r >= 0;
          r--
        )
          i ||
            u.push(
              function(n) {
                return function(t) {
                  n._trigger("deactivate", t, this._uiHash(this));
                };
              }.call(this, this.containers[r])
            ),
            this.containers[r].containerCache.over &&
              (u.push(
                function(n) {
                  return function(t) {
                    n._trigger("out", t, this._uiHash(this));
                  };
                }.call(this, this.containers[r])
              ),
              (this.containers[r].containerCache.over = 0));
        if (
          (this._storedCursor && n("body").css("cursor", this._storedCursor),
          this._storedOpacity &&
            this.helper.css("opacity", this._storedOpacity),
          this._storedZIndex &&
            this.helper.css(
              "zIndex",
              this._storedZIndex == "auto" ? "" : this._storedZIndex
            ),
          (this.dragging = !1),
          this.cancelHelperRemoval)
        ) {
          if (!i) {
            for (
              this._trigger("beforeStop", t, this._uiHash()), r = 0;
              r < u.length;
              r++
            )
              u[r].call(this, t);
            this._trigger("stop", t, this._uiHash());
          }
          return (this.fromOutside = !1), !1;
        }
        if (
          (i || this._trigger("beforeStop", t, this._uiHash()),
          this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
          this.helper[0] != this.currentItem[0] && this.helper.remove(),
          (this.helper = null),
          !i)
        ) {
          for (r = 0; r < u.length; r++) u[r].call(this, t);
          this._trigger("stop", t, this._uiHash());
        }
        return (this.fromOutside = !1), !0;
      },
      _trigger: function() {
        n.Widget.prototype._trigger.apply(this, arguments) === !1 &&
          this.cancel();
      },
      _uiHash: function(t) {
        var i = t || this;
        return {
          helper: i.helper,
          placeholder: i.placeholder || n([]),
          position: i.position,
          originalPosition: i.originalPosition,
          offset: i.positionAbs,
          item: i.currentItem,
          sender: t ? t.element : null
        };
      }
    });
    n.extend(n.ui.sortable, { version: "1.8.24" });
  })(jQuery),
  (function(n) {
    n.widget("ui.accordion", {
      options: {
        active: 0,
        animated: "slide",
        autoHeight: !0,
        clearStyle: !1,
        collapsible: !1,
        event: "click",
        fillSpace: !1,
        header: "> li > :first-child,> :not(li):even",
        icons: {
          header: "ui-icon-triangle-1-e",
          headerSelected: "ui-icon-triangle-1-s"
        },
        navigation: !1,
        navigationFilter: function() {
          return this.href.toLowerCase() === location.href.toLowerCase();
        }
      },
      _create: function() {
        var t = this,
          i = t.options,
          r,
          u;
        t.running = 0;
        t.element
          .addClass("ui-accordion ui-widget ui-helper-reset")
          .children("li")
          .addClass("ui-accordion-li-fix");
        t.headers = t.element
          .find(i.header)
          .addClass(
            "ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"
          )
          .bind("mouseenter.accordion", function() {
            i.disabled || n(this).addClass("ui-state-hover");
          })
          .bind("mouseleave.accordion", function() {
            i.disabled || n(this).removeClass("ui-state-hover");
          })
          .bind("focus.accordion", function() {
            i.disabled || n(this).addClass("ui-state-focus");
          })
          .bind("blur.accordion", function() {
            i.disabled || n(this).removeClass("ui-state-focus");
          });
        t.headers
          .next()
          .addClass(
            "ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"
          );
        i.navigation &&
          ((r = t.element
            .find("a")
            .filter(i.navigationFilter)
            .eq(0)),
          r.length &&
            ((u = r.closest(".ui-accordion-header")),
            (t.active = u.length
              ? u
              : r.closest(".ui-accordion-content").prev())));
        t.active = t
          ._findActive(t.active || i.active)
          .addClass("ui-state-default ui-state-active")
          .toggleClass("ui-corner-all")
          .toggleClass("ui-corner-top");
        t.active.next().addClass("ui-accordion-content-active");
        t._createIcons();
        t.resize();
        t.element.attr("role", "tablist");
        t.headers
          .attr("role", "tab")
          .bind("keydown.accordion", function(n) {
            return t._keydown(n);
          })
          .next()
          .attr("role", "tabpanel");
        t.headers
          .not(t.active || "")
          .attr({
            "aria-expanded": "false",
            "aria-selected": "false",
            tabIndex: -1
          })
          .next()
          .hide();
        t.active.length
          ? t.active.attr({
              "aria-expanded": "true",
              "aria-selected": "true",
              tabIndex: 0
            })
          : t.headers.eq(0).attr("tabIndex", 0);
        n.browser.safari || t.headers.find("a").attr("tabIndex", -1);
        i.event &&
          t.headers.bind(
            i.event.split(" ").join(".accordion ") + ".accordion",
            function(n) {
              t._clickHandler.call(t, n, this);
              n.preventDefault();
            }
          );
      },
      _createIcons: function() {
        var t = this.options;
        t.icons &&
          (n("<span></span>")
            .addClass("ui-icon " + t.icons.header)
            .prependTo(this.headers),
          this.active
            .children(".ui-icon")
            .toggleClass(t.icons.header)
            .toggleClass(t.icons.headerSelected),
          this.element.addClass("ui-accordion-icons"));
      },
      _destroyIcons: function() {
        this.headers.children(".ui-icon").remove();
        this.element.removeClass("ui-accordion-icons");
      },
      destroy: function() {
        var t = this.options,
          i;
        return (
          this.element
            .removeClass("ui-accordion ui-widget ui-helper-reset")
            .removeAttr("role"),
          this.headers
            .unbind(".accordion")
            .removeClass(
              "ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top"
            )
            .removeAttr("role")
            .removeAttr("aria-expanded")
            .removeAttr("aria-selected")
            .removeAttr("tabIndex"),
          this.headers.find("a").removeAttr("tabIndex"),
          this._destroyIcons(),
          (i = this.headers
            .next()
            .css("display", "")
            .removeAttr("role")
            .removeClass(
              "ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled"
            )),
          (t.autoHeight || t.fillHeight) && i.css("height", ""),
          n.Widget.prototype.destroy.call(this)
        );
      },
      _setOption: function(t, i) {
        n.Widget.prototype._setOption.apply(this, arguments);
        t == "active" && this.activate(i);
        t == "icons" && (this._destroyIcons(), i && this._createIcons());
        t == "disabled" &&
          this.headers
            .add(this.headers.next())
            [i ? "addClass" : "removeClass"](
              "ui-accordion-disabled ui-state-disabled"
            );
      },
      _keydown: function(t) {
        if (!this.options.disabled && !t.altKey && !t.ctrlKey) {
          var i = n.ui.keyCode,
            u = this.headers.length,
            f = this.headers.index(t.target),
            r = !1;
          switch (t.keyCode) {
            case i.RIGHT:
            case i.DOWN:
              r = this.headers[(f + 1) % u];
              break;
            case i.LEFT:
            case i.UP:
              r = this.headers[(f - 1 + u) % u];
              break;
            case i.SPACE:
            case i.ENTER:
              this._clickHandler({ target: t.target }, t.target);
              t.preventDefault();
          }
          return r
            ? (n(t.target).attr("tabIndex", -1),
              n(r).attr("tabIndex", 0),
              r.focus(),
              !1)
            : !0;
        }
      },
      resize: function() {
        var i = this.options,
          t,
          r;
        return (
          i.fillSpace
            ? (n.browser.msie &&
                ((r = this.element.parent().css("overflow")),
                this.element.parent().css("overflow", "hidden")),
              (t = this.element.parent().height()),
              n.browser.msie && this.element.parent().css("overflow", r),
              this.headers.each(function() {
                t -= n(this).outerHeight(!0);
              }),
              this.headers
                .next()
                .each(function() {
                  n(this).height(
                    Math.max(0, t - n(this).innerHeight() + n(this).height())
                  );
                })
                .css("overflow", "auto"))
            : i.autoHeight &&
              ((t = 0),
              this.headers
                .next()
                .each(function() {
                  t = Math.max(
                    t,
                    n(this)
                      .height("")
                      .height()
                  );
                })
                .height(t)),
          this
        );
      },
      activate: function(n) {
        this.options.active = n;
        var t = this._findActive(n)[0];
        return this._clickHandler({ target: t }, t), this;
      },
      _findActive: function(t) {
        return t
          ? typeof t == "number"
            ? this.headers.filter(":eq(" + t + ")")
            : this.headers.not(this.headers.not(t))
          : t === !1
          ? n([])
          : this.headers.filter(":eq(0)");
      },
      _clickHandler: function(t, i) {
        var r = this.options,
          u,
          f;
        if (!r.disabled) {
          if (!t.target) {
            if (!r.collapsible) return;
            this.active
              .removeClass("ui-state-active ui-corner-top")
              .addClass("ui-state-default ui-corner-all")
              .children(".ui-icon")
              .removeClass(r.icons.headerSelected)
              .addClass(r.icons.header);
            this.active.next().addClass("ui-accordion-content-active");
            var e = this.active.next(),
              s = {
                options: r,
                newHeader: n([]),
                oldHeader: r.active,
                newContent: n([]),
                oldContent: e
              },
              o = (this.active = n([]));
            this._toggle(o, e, s);
            return;
          }
          if (
            ((u = n(t.currentTarget || i)),
            (f = u[0] === this.active[0]),
            (r.active = r.collapsible && f ? !1 : this.headers.index(u)),
            !this.running && (r.collapsible || !f))
          ) {
            var h = this.active,
              o = u.next(),
              e = this.active.next(),
              s = {
                options: r,
                newHeader: f && r.collapsible ? n([]) : u,
                oldHeader: this.active,
                newContent: f && r.collapsible ? n([]) : o,
                oldContent: e
              },
              c = this.headers.index(this.active[0]) > this.headers.index(u[0]);
            this.active = f ? n([]) : u;
            this._toggle(o, e, s, f, c);
            h.removeClass("ui-state-active ui-corner-top")
              .addClass("ui-state-default ui-corner-all")
              .children(".ui-icon")
              .removeClass(r.icons.headerSelected)
              .addClass(r.icons.header);
            f ||
              (u
                .removeClass("ui-state-default ui-corner-all")
                .addClass("ui-state-active ui-corner-top")
                .children(".ui-icon")
                .removeClass(r.icons.header)
                .addClass(r.icons.headerSelected),
              u.next().addClass("ui-accordion-content-active"));
            return;
          }
        }
      },
      _toggle: function(t, i, r, u, f) {
        var o = this,
          e = o.options,
          c,
          h;
        if (
          ((o.toShow = t),
          (o.toHide = i),
          (o.data = r),
          (c = function() {
            if (o) return o._completed.apply(o, arguments);
          }),
          o._trigger("changestart", null, o.data),
          (o.running = i.size() === 0 ? t.size() : i.size()),
          e.animated)
        ) {
          h = {};
          h =
            e.collapsible && u
              ? {
                  toShow: n([]),
                  toHide: i,
                  complete: c,
                  down: f,
                  autoHeight: e.autoHeight || e.fillSpace
                }
              : {
                  toShow: t,
                  toHide: i,
                  complete: c,
                  down: f,
                  autoHeight: e.autoHeight || e.fillSpace
                };
          e.proxied || (e.proxied = e.animated);
          e.proxiedDuration || (e.proxiedDuration = e.duration);
          e.animated = n.isFunction(e.proxied) ? e.proxied(h) : e.proxied;
          e.duration = n.isFunction(e.proxiedDuration)
            ? e.proxiedDuration(h)
            : e.proxiedDuration;
          var l = n.ui.accordion.animations,
            a = e.duration,
            s = e.animated;
          !s || l[s] || n.easing[s] || (s = "slide");
          l[s] ||
            (l[s] = function(n) {
              this.slide(n, { easing: s, duration: a || 700 });
            });
          l[s](h);
        } else e.collapsible && u ? t.toggle() : (i.hide(), t.show()), c(!0);
        i.prev()
          .attr({
            "aria-expanded": "false",
            "aria-selected": "false",
            tabIndex: -1
          })
          .blur();
        t.prev()
          .attr({
            "aria-expanded": "true",
            "aria-selected": "true",
            tabIndex: 0
          })
          .focus();
      },
      _completed: function(n) {
        ((this.running = n ? 0 : --this.running), this.running) ||
          (this.options.clearStyle &&
            this.toShow.add(this.toHide).css({ height: "", overflow: "" }),
          this.toHide.removeClass("ui-accordion-content-active"),
          this.toHide.length &&
            (this.toHide.parent()[0].className = this.toHide.parent()[0].className),
          this._trigger("change", null, this.data));
      }
    });
    n.extend(n.ui.accordion, {
      version: "1.8.24",
      animations: {
        slide: function(t, i) {
          if (
            ((t = n.extend({ easing: "swing", duration: 300 }, t, i)),
            !t.toHide.size())
          ) {
            t.toShow.animate(
              { height: "show", paddingTop: "show", paddingBottom: "show" },
              t
            );
            return;
          }
          if (!t.toShow.size()) {
            t.toHide.animate(
              { height: "hide", paddingTop: "hide", paddingBottom: "hide" },
              t
            );
            return;
          }
          var s = t.toShow.css("overflow"),
            f = 0,
            u = {},
            e = {},
            o,
            r = t.toShow;
          o = r[0].style.width;
          r.width(
            r.parent().width() -
              parseFloat(r.css("paddingLeft")) -
              parseFloat(r.css("paddingRight")) -
              (parseFloat(r.css("borderLeftWidth")) || 0) -
              (parseFloat(r.css("borderRightWidth")) || 0)
          );
          n.each(["height", "paddingTop", "paddingBottom"], function(i, r) {
            e[r] = "hide";
            var f = ("" + n.css(t.toShow[0], r)).match(/^([\d+-.]+)(.*)$/);
            u[r] = { value: f[1], unit: f[2] || "px" };
          });
          t.toShow.css({ height: 0, overflow: "hidden" }).show();
          t.toHide
            .filter(":hidden")
            .each(t.complete)
            .end()
            .filter(":visible")
            .animate(e, {
              step: function(n, i) {
                i.prop == "height" &&
                  (f =
                    i.end - i.start == 0
                      ? 0
                      : (i.now - i.start) / (i.end - i.start));
                t.toShow[0].style[i.prop] =
                  f * u[i.prop].value + u[i.prop].unit;
              },
              duration: t.duration,
              easing: t.easing,
              complete: function() {
                t.autoHeight || t.toShow.css("height", "");
                t.toShow.css({ width: o, overflow: s });
                t.complete();
              }
            });
        },
        bounceslide: function(n) {
          this.slide(n, {
            easing: n.down ? "easeOutBounce" : "swing",
            duration: n.down ? 1e3 : 200
          });
        }
      }
    });
  })(jQuery),
  (function(n) {
    var t = 0;
    n.widget("ui.autocomplete", {
      options: {
        appendTo: "body",
        autoFocus: !1,
        delay: 300,
        minLength: 1,
        position: { my: "left top", at: "left bottom", collision: "none" },
        source: null
      },
      pending: 0,
      _create: function() {
        var t = this,
          r = this.element[0].ownerDocument,
          i;
        this.isMultiLine = this.element.is("textarea");
        this.element
          .addClass("ui-autocomplete-input")
          .attr("autocomplete", "off")
          .attr({
            role: "textbox",
            "aria-autocomplete": "list",
            "aria-haspopup": "true"
          })
          .bind("keydown.autocomplete", function(r) {
            if (!t.options.disabled && !t.element.propAttr("readOnly")) {
              i = !1;
              var u = n.ui.keyCode;
              switch (r.keyCode) {
                case u.PAGE_UP:
                  t._move("previousPage", r);
                  break;
                case u.PAGE_DOWN:
                  t._move("nextPage", r);
                  break;
                case u.UP:
                  t._keyEvent("previous", r);
                  break;
                case u.DOWN:
                  t._keyEvent("next", r);
                  break;
                case u.ENTER:
                case u.NUMPAD_ENTER:
                  t.menu.active && ((i = !0), r.preventDefault());
                case u.TAB:
                  if (!t.menu.active) return;
                  t.menu.select(r);
                  break;
                case u.ESCAPE:
                  t.element.val(t.term);
                  t.close(r);
                  break;
                default:
                  clearTimeout(t.searching);
                  t.searching = setTimeout(function() {
                    t.term != t.element.val() &&
                      ((t.selectedItem = null), t.search(null, r));
                  }, t.options.delay);
              }
            }
          })
          .bind("keypress.autocomplete", function(n) {
            i && ((i = !1), n.preventDefault());
          })
          .bind("focus.autocomplete", function() {
            t.options.disabled ||
              ((t.selectedItem = null), (t.previous = t.element.val()));
          })
          .bind("blur.autocomplete", function(n) {
            t.options.disabled ||
              (clearTimeout(t.searching),
              (t.closing = setTimeout(function() {
                t.close(n);
                t._change(n);
              }, 150)));
          });
        this._initSource();
        this.menu = n("<ul></ul>")
          .addClass("ui-autocomplete")
          .appendTo(n(this.options.appendTo || "body", r)[0])
          .mousedown(function(i) {
            var r = t.menu.element[0];
            n(i.target).closest(".ui-menu-item").length ||
              setTimeout(function() {
                n(document).one("mousedown", function(i) {
                  i.target === t.element[0] ||
                    i.target === r ||
                    n.ui.contains(r, i.target) ||
                    t.close();
                });
              }, 1);
            setTimeout(function() {
              clearTimeout(t.closing);
            }, 13);
          })
          .menu({
            focus: function(n, i) {
              var r = i.item.data("item.autocomplete");
              !1 !== t._trigger("focus", n, { item: r }) &&
                /^key/.test(n.originalEvent.type) &&
                t.element.val(r.value);
            },
            selected: function(n, i) {
              var u = i.item.data("item.autocomplete"),
                f = t.previous;
              t.element[0] !== r.activeElement &&
                (t.element.focus(),
                (t.previous = f),
                setTimeout(function() {
                  t.previous = f;
                  t.selectedItem = u;
                }, 1));
              !1 !== t._trigger("select", n, { item: u }) &&
                t.element.val(u.value);
              t.term = t.element.val();
              t.close(n);
              t.selectedItem = u;
            },
            blur: function() {
              t.menu.element.is(":visible") &&
                t.element.val() !== t.term &&
                t.element.val(t.term);
            }
          })
          .zIndex(this.element.zIndex() + 1)
          .css({ top: 0, left: 0 })
          .hide()
          .data("menu");
        n.fn.bgiframe && this.menu.element.bgiframe();
        t.beforeunloadHandler = function() {
          t.element.removeAttr("autocomplete");
        };
        n(window).bind("beforeunload", t.beforeunloadHandler);
      },
      destroy: function() {
        this.element
          .removeClass("ui-autocomplete-input")
          .removeAttr("autocomplete")
          .removeAttr("role")
          .removeAttr("aria-autocomplete")
          .removeAttr("aria-haspopup");
        this.menu.element.remove();
        n(window).unbind("beforeunload", this.beforeunloadHandler);
        n.Widget.prototype.destroy.call(this);
      },
      _setOption: function(t, i) {
        n.Widget.prototype._setOption.apply(this, arguments);
        t === "source" && this._initSource();
        t === "appendTo" &&
          this.menu.element.appendTo(
            n(i || "body", this.element[0].ownerDocument)[0]
          );
        t === "disabled" && i && this.xhr && this.xhr.abort();
      },
      _initSource: function() {
        var t = this,
          i,
          r;
        n.isArray(this.options.source)
          ? ((i = this.options.source),
            (this.source = function(t, r) {
              r(n.ui.autocomplete.filter(i, t.term));
            }))
          : typeof this.options.source == "string"
          ? ((r = this.options.source),
            (this.source = function(i, u) {
              t.xhr && t.xhr.abort();
              t.xhr = n.ajax({
                url: r,
                data: i,
                dataType: "json",
                success: function(n) {
                  u(n);
                },
                error: function() {
                  u([]);
                }
              });
            }))
          : (this.source = this.options.source);
      },
      search: function(n, t) {
        return ((n = n != null ? n : this.element.val()),
        (this.term = this.element.val()),
        n.length < this.options.minLength)
          ? this.close(t)
          : (clearTimeout(this.closing), this._trigger("search", t) === !1)
          ? void 0
          : this._search(n);
      },
      _search: function(n) {
        this.pending++;
        this.element.addClass("ui-autocomplete-loading");
        this.source({ term: n }, this._response());
      },
      _response: function() {
        var n = this,
          i = ++t;
        return function(r) {
          i === t && n.__response(r);
          n.pending--;
          n.pending || n.element.removeClass("ui-autocomplete-loading");
        };
      },
      __response: function(n) {
        !this.options.disabled && n && n.length
          ? ((n = this._normalize(n)), this._suggest(n), this._trigger("open"))
          : this.close();
      },
      close: function(n) {
        clearTimeout(this.closing);
        this.menu.element.is(":visible") &&
          (this.menu.element.hide(),
          this.menu.deactivate(),
          this._trigger("close", n));
      },
      _change: function(n) {
        this.previous !== this.element.val() &&
          this._trigger("change", n, { item: this.selectedItem });
      },
      _normalize: function(t) {
        return t.length && t[0].label && t[0].value
          ? t
          : n.map(t, function(t) {
              return typeof t == "string"
                ? { label: t, value: t }
                : n.extend(
                    { label: t.label || t.value, value: t.value || t.label },
                    t
                  );
            });
      },
      _suggest: function(t) {
        var i = this.menu.element.empty().zIndex(this.element.zIndex() + 1);
        this._renderMenu(i, t);
        this.menu.deactivate();
        this.menu.refresh();
        i.show();
        this._resizeMenu();
        i.position(n.extend({ of: this.element }, this.options.position));
        this.options.autoFocus && this.menu.next(new n.Event("mouseover"));
      },
      _resizeMenu: function() {
        var n = this.menu.element;
        n.outerWidth(
          Math.max(n.width("").outerWidth() + 1, this.element.outerWidth())
        );
      },
      _renderMenu: function(t, i) {
        var r = this;
        n.each(i, function(n, i) {
          r._renderItem(t, i);
        });
      },
      _renderItem: function(t, i) {
        return n("<li></li>")
          .data("item.autocomplete", i)
          .append(n("<a></a>").text(i.label))
          .appendTo(t);
      },
      _move: function(n, t) {
        if (!this.menu.element.is(":visible")) {
          this.search(null, t);
          return;
        }
        if (
          (this.menu.first() && /^previous/.test(n)) ||
          (this.menu.last() && /^next/.test(n))
        ) {
          this.element.val(this.term);
          this.menu.deactivate();
          return;
        }
        this.menu[n](t);
      },
      widget: function() {
        return this.menu.element;
      },
      _keyEvent: function(n, t) {
        (!this.isMultiLine || this.menu.element.is(":visible")) &&
          (this._move(n, t), t.preventDefault());
      }
    });
    n.extend(n.ui.autocomplete, {
      escapeRegex: function(n) {
        return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
      },
      filter: function(t, i) {
        var r = new RegExp(n.ui.autocomplete.escapeRegex(i), "i");
        return n.grep(t, function(n) {
          return r.test(n.label || n.value || n);
        });
      }
    });
  })(jQuery),
  (function(n) {
    n.widget("ui.menu", {
      _create: function() {
        var t = this;
        this.element
          .addClass("ui-menu ui-widget ui-widget-content ui-corner-all")
          .attr({
            role: "listbox",
            "aria-activedescendant": "ui-active-menuitem"
          })
          .click(function(i) {
            n(i.target).closest(".ui-menu-item a").length &&
              (i.preventDefault(), t.select(i));
          });
        this.refresh();
      },
      refresh: function() {
        var t = this,
          i = this.element
            .children("li:not(.ui-menu-item):has(a)")
            .addClass("ui-menu-item")
            .attr("role", "menuitem");
        i.children("a")
          .addClass("ui-corner-all")
          .attr("tabindex", -1)
          .mouseenter(function(i) {
            t.activate(i, n(this).parent());
          })
          .mouseleave(function() {
            t.deactivate();
          });
      },
      activate: function(n, t) {
        if ((this.deactivate(), this.hasScroll())) {
          var i = t.offset().top - this.element.offset().top,
            r = this.element.scrollTop(),
            u = this.element.height();
          i < 0
            ? this.element.scrollTop(r + i)
            : i >= u && this.element.scrollTop(r + i - u + t.height());
        }
        this.active = t
          .eq(0)
          .children("a")
          .addClass("ui-state-hover")
          .attr("id", "ui-active-menuitem")
          .end();
        this._trigger("focus", n, { item: t });
      },
      deactivate: function() {
        this.active &&
          (this.active
            .children("a")
            .removeClass("ui-state-hover")
            .removeAttr("id"),
          this._trigger("blur"),
          (this.active = null));
      },
      next: function(n) {
        this.move("next", ".ui-menu-item:first", n);
      },
      previous: function(n) {
        this.move("prev", ".ui-menu-item:last", n);
      },
      first: function() {
        return this.active && !this.active.prevAll(".ui-menu-item").length;
      },
      last: function() {
        return this.active && !this.active.nextAll(".ui-menu-item").length;
      },
      move: function(n, t, i) {
        if (!this.active) {
          this.activate(i, this.element.children(t));
          return;
        }
        var r = this.active[n + "All"](".ui-menu-item").eq(0);
        r.length
          ? this.activate(i, r)
          : this.activate(i, this.element.children(t));
      },
      nextPage: function(t) {
        if (this.hasScroll()) {
          if (!this.active || this.last()) {
            this.activate(t, this.element.children(".ui-menu-item:first"));
            return;
          }
          var r = this.active.offset().top,
            u = this.element.height(),
            i = this.element.children(".ui-menu-item").filter(function() {
              var t = n(this).offset().top - r - u + n(this).height();
              return t < 10 && t > -10;
            });
          i.length || (i = this.element.children(".ui-menu-item:last"));
          this.activate(t, i);
        } else
          this.activate(
            t,
            this.element
              .children(".ui-menu-item")
              .filter(!this.active || this.last() ? ":first" : ":last")
          );
      },
      previousPage: function(t) {
        if (this.hasScroll()) {
          if (!this.active || this.first()) {
            this.activate(t, this.element.children(".ui-menu-item:last"));
            return;
          }
          var r = this.active.offset().top,
            u = this.element.height(),
            i = this.element.children(".ui-menu-item").filter(function() {
              var t = n(this).offset().top - r + u - n(this).height();
              return t < 10 && t > -10;
            });
          i.length || (i = this.element.children(".ui-menu-item:first"));
          this.activate(t, i);
        } else
          this.activate(
            t,
            this.element
              .children(".ui-menu-item")
              .filter(!this.active || this.first() ? ":last" : ":first")
          );
      },
      hasScroll: function() {
        return (
          this.element.height() <
          this.element[n.fn.prop ? "prop" : "attr"]("scrollHeight")
        );
      },
      select: function(n) {
        this._trigger("selected", n, { item: this.active });
      }
    });
  })(jQuery),
  (function(n) {
    var i,
      r,
      u,
      t,
      f = "ui-button ui-widget ui-state-default ui-corner-all",
      s = "ui-state-hover ui-state-active ",
      e =
        "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
      h = function() {
        var t = n(this).find(":ui-button");
        setTimeout(function() {
          t.button("refresh");
        }, 1);
      },
      o = function(t) {
        var i = t.name,
          r = t.form,
          u = n([]);
        return (
          i &&
            (u = r
              ? n(r).find("[name='" + i + "']")
              : n("[name='" + i + "']", t.ownerDocument).filter(function() {
                  return !this.form;
                })),
          u
        );
      };
    n.widget("ui.button", {
      options: {
        disabled: null,
        text: !0,
        label: null,
        icons: { primary: null, secondary: null }
      },
      _create: function() {
        this.element
          .closest("form")
          .unbind("reset.button")
          .bind("reset.button", h);
        typeof this.options.disabled != "boolean"
          ? (this.options.disabled = !!this.element.propAttr("disabled"))
          : this.element.propAttr("disabled", this.options.disabled);
        this._determineButtonType();
        this.hasTitle = !!this.buttonElement.attr("title");
        var s = this,
          e = this.options,
          c = this.type === "checkbox" || this.type === "radio",
          a = "ui-state-hover" + (c ? "" : " ui-state-active"),
          l = "ui-state-focus";
        e.label === null && (e.label = this.buttonElement.html());
        this.buttonElement
          .addClass(f)
          .attr("role", "button")
          .bind("mouseenter.button", function() {
            e.disabled ||
              (n(this).addClass("ui-state-hover"),
              this === i && n(this).addClass("ui-state-active"));
          })
          .bind("mouseleave.button", function() {
            e.disabled || n(this).removeClass(a);
          })
          .bind("click.button", function(n) {
            e.disabled && (n.preventDefault(), n.stopImmediatePropagation());
          });
        this.element
          .bind("focus.button", function() {
            s.buttonElement.addClass(l);
          })
          .bind("blur.button", function() {
            s.buttonElement.removeClass(l);
          });
        c &&
          (this.element.bind("change.button", function() {
            t || s.refresh();
          }),
          this.buttonElement
            .bind("mousedown.button", function(n) {
              e.disabled || ((t = !1), (r = n.pageX), (u = n.pageY));
            })
            .bind("mouseup.button", function(n) {
              e.disabled || ((r !== n.pageX || u !== n.pageY) && (t = !0));
            }));
        this.type === "checkbox"
          ? this.buttonElement.bind("click.button", function() {
              if (e.disabled || t) return !1;
              n(this).toggleClass("ui-state-active");
              s.buttonElement.attr("aria-pressed", s.element[0].checked);
            })
          : this.type === "radio"
          ? this.buttonElement.bind("click.button", function() {
              if (e.disabled || t) return !1;
              n(this).addClass("ui-state-active");
              s.buttonElement.attr("aria-pressed", "true");
              var i = s.element[0];
              o(i)
                .not(i)
                .map(function() {
                  return n(this).button("widget")[0];
                })
                .removeClass("ui-state-active")
                .attr("aria-pressed", "false");
            })
          : (this.buttonElement
              .bind("mousedown.button", function() {
                if (e.disabled) return !1;
                n(this).addClass("ui-state-active");
                i = this;
                n(document).one("mouseup", function() {
                  i = null;
                });
              })
              .bind("mouseup.button", function() {
                if (e.disabled) return !1;
                n(this).removeClass("ui-state-active");
              })
              .bind("keydown.button", function(t) {
                if (e.disabled) return !1;
                (t.keyCode == n.ui.keyCode.SPACE ||
                  t.keyCode == n.ui.keyCode.ENTER) &&
                  n(this).addClass("ui-state-active");
              })
              .bind("keyup.button", function() {
                n(this).removeClass("ui-state-active");
              }),
            this.buttonElement.is("a") &&
              this.buttonElement.keyup(function(t) {
                t.keyCode === n.ui.keyCode.SPACE && n(this).click();
              }));
        this._setOption("disabled", e.disabled);
        this._resetButton();
      },
      _determineButtonType: function() {
        var n, t, i;
        this.type = this.element.is(":checkbox")
          ? "checkbox"
          : this.element.is(":radio")
          ? "radio"
          : this.element.is("input")
          ? "input"
          : "button";
        this.type === "checkbox" || this.type === "radio"
          ? ((n = this.element.parents().filter(":last")),
            (t = "label[for='" + this.element.attr("id") + "']"),
            (this.buttonElement = n.find(t)),
            this.buttonElement.length ||
              ((n = n.length ? n.siblings() : this.element.siblings()),
              (this.buttonElement = n.filter(t)),
              this.buttonElement.length || (this.buttonElement = n.find(t))),
            this.element.addClass("ui-helper-hidden-accessible"),
            (i = this.element.is(":checked")),
            i && this.buttonElement.addClass("ui-state-active"),
            this.buttonElement.attr("aria-pressed", i))
          : (this.buttonElement = this.element);
      },
      widget: function() {
        return this.buttonElement;
      },
      destroy: function() {
        this.element.removeClass("ui-helper-hidden-accessible");
        this.buttonElement
          .removeClass(f + " " + s + " " + e)
          .removeAttr("role")
          .removeAttr("aria-pressed")
          .html(this.buttonElement.find(".ui-button-text").html());
        this.hasTitle || this.buttonElement.removeAttr("title");
        n.Widget.prototype.destroy.call(this);
      },
      _setOption: function(t, i) {
        if (
          (n.Widget.prototype._setOption.apply(this, arguments),
          t === "disabled")
        ) {
          i
            ? this.element.propAttr("disabled", !0)
            : this.element.propAttr("disabled", !1);
          return;
        }
        this._resetButton();
      },
      refresh: function() {
        var t = this.element.is(":disabled");
        t !== this.options.disabled && this._setOption("disabled", t);
        this.type === "radio"
          ? o(this.element[0]).each(function() {
              n(this).is(":checked")
                ? n(this)
                    .button("widget")
                    .addClass("ui-state-active")
                    .attr("aria-pressed", "true")
                : n(this)
                    .button("widget")
                    .removeClass("ui-state-active")
                    .attr("aria-pressed", "false");
            })
          : this.type === "checkbox" &&
            (this.element.is(":checked")
              ? this.buttonElement
                  .addClass("ui-state-active")
                  .attr("aria-pressed", "true")
              : this.buttonElement
                  .removeClass("ui-state-active")
                  .attr("aria-pressed", "false"));
      },
      _resetButton: function() {
        if (this.type === "input") {
          this.options.label && this.element.val(this.options.label);
          return;
        }
        var i = this.buttonElement.removeClass(e),
          f = n("<span></span>", this.element[0].ownerDocument)
            .addClass("ui-button-text")
            .html(this.options.label)
            .appendTo(i.empty())
            .text(),
          t = this.options.icons,
          u = t.primary && t.secondary,
          r = [];
        t.primary || t.secondary
          ? (this.options.text &&
              r.push(
                "ui-button-text-icon" +
                  (u ? "s" : t.primary ? "-primary" : "-secondary")
              ),
            t.primary &&
              i.prepend(
                "<span class='ui-button-icon-primary ui-icon " +
                  t.primary +
                  "'></span>"
              ),
            t.secondary &&
              i.append(
                "<span class='ui-button-icon-secondary ui-icon " +
                  t.secondary +
                  "'></span>"
              ),
            this.options.text ||
              (r.push(u ? "ui-button-icons-only" : "ui-button-icon-only"),
              this.hasTitle || i.attr("title", f)))
          : r.push("ui-button-text-only");
        i.addClass(r.join(" "));
      }
    });
    n.widget("ui.buttonset", {
      options: {
        items: ":button, :submit, :reset, :checkbox, :radio, a, :data(button)"
      },
      _create: function() {
        this.element.addClass("ui-buttonset");
      },
      _init: function() {
        this.refresh();
      },
      _setOption: function(t, i) {
        t === "disabled" && this.buttons.button("option", t, i);
        n.Widget.prototype._setOption.apply(this, arguments);
      },
      refresh: function() {
        var t = this.element.css("direction") === "rtl";
        this.buttons = this.element
          .find(this.options.items)
          .filter(":ui-button")
          .button("refresh")
          .end()
          .not(":ui-button")
          .button()
          .end()
          .map(function() {
            return n(this).button("widget")[0];
          })
          .removeClass("ui-corner-all ui-corner-left ui-corner-right")
          .filter(":first")
          .addClass(t ? "ui-corner-right" : "ui-corner-left")
          .end()
          .filter(":last")
          .addClass(t ? "ui-corner-left" : "ui-corner-right")
          .end()
          .end();
      },
      destroy: function() {
        this.element.removeClass("ui-buttonset");
        this.buttons
          .map(function() {
            return n(this).button("widget")[0];
          })
          .removeClass("ui-corner-left ui-corner-right")
          .end()
          .button("destroy");
        n.Widget.prototype.destroy.call(this);
      }
    });
  })(jQuery),
  (function(n, t) {
    var i = "ui-dialog ui-widget ui-widget-content ui-corner-all ",
      r = {
        buttons: !0,
        height: !0,
        maxHeight: !0,
        maxWidth: !0,
        minHeight: !0,
        minWidth: !0,
        width: !0
      },
      u = { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 };
    n.widget("ui.dialog", {
      options: {
        autoOpen: !0,
        buttons: {},
        closeOnEscape: !0,
        closeText: "close",
        dialogClass: "",
        draggable: !0,
        hide: null,
        height: "auto",
        maxHeight: !1,
        maxWidth: !1,
        minHeight: 150,
        minWidth: 150,
        modal: !1,
        position: {
          my: "center",
          at: "center",
          collision: "fit",
          using: function(t) {
            var i = n(this)
              .css(t)
              .offset().top;
            i < 0 && n(this).css("top", t.top - i);
          }
        },
        resizable: !0,
        show: null,
        stack: !0,
        title: "",
        width: 300,
        zIndex: 1e3
      },
      _create: function() {
        this.originalTitle = this.element.attr("title");
        typeof this.originalTitle != "string" && (this.originalTitle = "");
        this.options.title = this.options.title || this.originalTitle;
        var t = this,
          r = t.options,
          s = r.title || "&#160;",
          o = n.ui.dialog.getTitleId(t.element),
          e = (t.uiDialog = n("<div></div>"))
            .appendTo(document.body)
            .hide()
            .addClass(i + r.dialogClass)
            .css({ zIndex: r.zIndex })
            .attr("tabIndex", -1)
            .css("outline", 0)
            .keydown(function(i) {
              r.closeOnEscape &&
                !i.isDefaultPrevented() &&
                i.keyCode &&
                i.keyCode === n.ui.keyCode.ESCAPE &&
                (t.close(i), i.preventDefault());
            })
            .attr({ role: "dialog", "aria-labelledby": o })
            .mousedown(function(n) {
              t.moveToTop(!1, n);
            }),
          h = t.element
            .show()
            .removeAttr("title")
            .addClass("ui-dialog-content ui-widget-content")
            .appendTo(e),
          f = (t.uiDialogTitlebar = n("<div></div>"))
            .addClass(
              "ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"
            )
            .prependTo(e),
          u = n('<a href="#"></a>')
            .addClass("ui-dialog-titlebar-close ui-corner-all")
            .attr("role", "button")
            .hover(
              function() {
                u.addClass("ui-state-hover");
              },
              function() {
                u.removeClass("ui-state-hover");
              }
            )
            .focus(function() {
              u.addClass("ui-state-focus");
            })
            .blur(function() {
              u.removeClass("ui-state-focus");
            })
            .click(function(n) {
              return t.close(n), !1;
            })
            .appendTo(f),
          c = (t.uiDialogTitlebarCloseText = n("<span></span>"))
            .addClass("ui-icon ui-icon-closethick")
            .text(r.closeText)
            .appendTo(u),
          l = n("<span></span>")
            .addClass("ui-dialog-title")
            .attr("id", o)
            .html(s)
            .prependTo(f);
        n.isFunction(r.beforeclose) &&
          !n.isFunction(r.beforeClose) &&
          (r.beforeClose = r.beforeclose);
        f.find("*")
          .add(f)
          .disableSelection();
        r.draggable && n.fn.draggable && t._makeDraggable();
        r.resizable && n.fn.resizable && t._makeResizable();
        t._createButtons(r.buttons);
        t._isOpen = !1;
        n.fn.bgiframe && e.bgiframe();
      },
      _init: function() {
        this.options.autoOpen && this.open();
      },
      destroy: function() {
        var n = this;
        return (
          n.overlay && n.overlay.destroy(),
          n.uiDialog.hide(),
          n.element
            .unbind(".dialog")
            .removeData("dialog")
            .removeClass("ui-dialog-content ui-widget-content")
            .hide()
            .appendTo("body"),
          n.uiDialog.remove(),
          n.originalTitle && n.element.attr("title", n.originalTitle),
          n
        );
      },
      widget: function() {
        return this.uiDialog;
      },
      close: function(t) {
        var i = this,
          r,
          u;
        if (!1 !== i._trigger("beforeClose", t))
          return (
            i.overlay && i.overlay.destroy(),
            i.uiDialog.unbind("keypress.ui-dialog"),
            (i._isOpen = !1),
            i.options.hide
              ? i.uiDialog.hide(i.options.hide, function() {
                  i._trigger("close", t);
                })
              : (i.uiDialog.hide(), i._trigger("close", t)),
            n.ui.dialog.overlay.resize(),
            i.options.modal &&
              ((r = 0),
              n(".ui-dialog").each(function() {
                this !== i.uiDialog[0] &&
                  ((u = n(this).css("z-index")),
                  isNaN(u) || (r = Math.max(r, u)));
              }),
              (n.ui.dialog.maxZ = r)),
            i
          );
      },
      isOpen: function() {
        return this._isOpen;
      },
      moveToTop: function(t, i) {
        var r = this,
          u = r.options,
          f;
        return (u.modal && !t) || (!u.stack && !u.modal)
          ? r._trigger("focus", i)
          : (u.zIndex > n.ui.dialog.maxZ && (n.ui.dialog.maxZ = u.zIndex),
            r.overlay &&
              ((n.ui.dialog.maxZ += 1),
              r.overlay.$el.css(
                "z-index",
                (n.ui.dialog.overlay.maxZ = n.ui.dialog.maxZ)
              )),
            (f = {
              scrollTop: r.element.scrollTop(),
              scrollLeft: r.element.scrollLeft()
            }),
            (n.ui.dialog.maxZ += 1),
            r.uiDialog.css("z-index", n.ui.dialog.maxZ),
            r.element.attr(f),
            r._trigger("focus", i),
            r);
      },
      open: function() {
        if (!this._isOpen) {
          var t = this,
            i = t.options,
            r = t.uiDialog;
          return (
            (t.overlay = i.modal ? new n.ui.dialog.overlay(t) : null),
            t._size(),
            t._position(i.position),
            r.show(i.show),
            t.moveToTop(!0),
            i.modal &&
              r.bind("keydown.ui-dialog", function(t) {
                if (t.keyCode === n.ui.keyCode.TAB) {
                  var i = n(":tabbable", this),
                    r = i.filter(":first"),
                    u = i.filter(":last");
                  if (t.target !== u[0] || t.shiftKey) {
                    if (t.target === r[0] && t.shiftKey) return u.focus(1), !1;
                  } else return r.focus(1), !1;
                }
              }),
            n(
              t.element
                .find(":tabbable")
                .get()
                .concat(
                  r
                    .find(".ui-dialog-buttonpane :tabbable")
                    .get()
                    .concat(r.get())
                )
            )
              .eq(0)
              .focus(),
            (t._isOpen = !0),
            t._trigger("open"),
            t
          );
        }
      },
      _createButtons: function(t) {
        var i = this,
          r = !1,
          u = n("<div></div>").addClass(
            "ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"
          ),
          f = n("<div></div>")
            .addClass("ui-dialog-buttonset")
            .appendTo(u);
        i.uiDialog.find(".ui-dialog-buttonpane").remove();
        typeof t == "object" &&
          t !== null &&
          n.each(t, function() {
            return !(r = !0);
          });
        r &&
          (n.each(t, function(t, r) {
            r = n.isFunction(r) ? { click: r, text: t } : r;
            var u = n('<button type="button"></button>')
              .click(function() {
                r.click.apply(i.element[0], arguments);
              })
              .appendTo(f);
            n.each(r, function(n, t) {
              n !== "click" && (n in u ? u[n](t) : u.attr(n, t));
            });
            n.fn.button && u.button();
          }),
          u.appendTo(i.uiDialog));
      },
      _makeDraggable: function() {
        function i(n) {
          return { position: n.position, offset: n.offset };
        }
        var t = this,
          r = t.options,
          u = n(document),
          f;
        t.uiDialog.draggable({
          cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
          handle: ".ui-dialog-titlebar",
          containment: "document",
          start: function(u, e) {
            f = r.height === "auto" ? "auto" : n(this).height();
            n(this)
              .height(n(this).height())
              .addClass("ui-dialog-dragging");
            t._trigger("dragStart", u, i(e));
          },
          drag: function(n, r) {
            t._trigger("drag", n, i(r));
          },
          stop: function(e, o) {
            r.position = [
              o.position.left - u.scrollLeft(),
              o.position.top - u.scrollTop()
            ];
            n(this)
              .removeClass("ui-dialog-dragging")
              .height(f);
            t._trigger("dragStop", e, i(o));
            n.ui.dialog.overlay.resize();
          }
        });
      },
      _makeResizable: function(i) {
        function f(n) {
          return {
            originalPosition: n.originalPosition,
            originalSize: n.originalSize,
            position: n.position,
            size: n.size
          };
        }
        i = i === t ? this.options.resizable : i;
        var r = this,
          u = r.options,
          e = r.uiDialog.css("position"),
          o = typeof i == "string" ? i : "n,e,s,w,se,sw,ne,nw";
        r.uiDialog
          .resizable({
            cancel: ".ui-dialog-content",
            containment: "document",
            alsoResize: r.element,
            maxWidth: u.maxWidth,
            maxHeight: u.maxHeight,
            minWidth: u.minWidth,
            minHeight: r._minHeight(),
            handles: o,
            start: function(t, i) {
              n(this).addClass("ui-dialog-resizing");
              r._trigger("resizeStart", t, f(i));
            },
            resize: function(n, t) {
              r._trigger("resize", n, f(t));
            },
            stop: function(t, i) {
              n(this).removeClass("ui-dialog-resizing");
              u.height = n(this).height();
              u.width = n(this).width();
              r._trigger("resizeStop", t, f(i));
              n.ui.dialog.overlay.resize();
            }
          })
          .css("position", e)
          .find(".ui-resizable-se")
          .addClass("ui-icon ui-icon-grip-diagonal-se");
      },
      _minHeight: function() {
        var n = this.options;
        return n.height === "auto"
          ? n.minHeight
          : Math.min(n.minHeight, n.height);
      },
      _position: function(t) {
        var i = [],
          u = [0, 0],
          r;
        t
          ? ((typeof t == "string" || (typeof t == "object" && "0" in t)) &&
              ((i = t.split ? t.split(" ") : [t[0], t[1]]),
              i.length === 1 && (i[1] = i[0]),
              n.each(["left", "top"], function(n, t) {
                +i[n] === i[n] && ((u[n] = i[n]), (i[n] = t));
              }),
              (t = { my: i.join(" "), at: i.join(" "), offset: u.join(" ") })),
            (t = n.extend({}, n.ui.dialog.prototype.options.position, t)))
          : (t = n.ui.dialog.prototype.options.position);
        r = this.uiDialog.is(":visible");
        r || this.uiDialog.show();
        this.uiDialog
          .css({ top: 0, left: 0 })
          .position(n.extend({ of: window }, t));
        r || this.uiDialog.hide();
      },
      _setOptions: function(t) {
        var e = this,
          i = {},
          f = !1;
        n.each(t, function(n, t) {
          e._setOption(n, t);
          n in r && (f = !0);
          n in u && (i[n] = t);
        });
        f && this._size();
        this.uiDialog.is(":data(resizable)") &&
          this.uiDialog.resizable("option", i);
      },
      _setOption: function(t, r) {
        var u = this,
          f = u.uiDialog,
          o,
          e;
        switch (t) {
          case "beforeclose":
            t = "beforeClose";
            break;
          case "buttons":
            u._createButtons(r);
            break;
          case "closeText":
            u.uiDialogTitlebarCloseText.text("" + r);
            break;
          case "dialogClass":
            f.removeClass(u.options.dialogClass).addClass(i + r);
            break;
          case "disabled":
            r
              ? f.addClass("ui-dialog-disabled")
              : f.removeClass("ui-dialog-disabled");
            break;
          case "draggable":
            o = f.is(":data(draggable)");
            o && !r && f.draggable("destroy");
            !o && r && u._makeDraggable();
            break;
          case "position":
            u._position(r);
            break;
          case "resizable":
            e = f.is(":data(resizable)");
            e && !r && f.resizable("destroy");
            e && typeof r == "string" && f.resizable("option", "handles", r);
            e || r === !1 || u._makeResizable(r);
            break;
          case "title":
            n(".ui-dialog-title", u.uiDialogTitlebar).html(
              "" + (r || "&#160;")
            );
        }
        n.Widget.prototype._setOption.apply(u, arguments);
      },
      _size: function() {
        var t = this.options,
          i,
          r,
          f = this.uiDialog.is(":visible"),
          u;
        this.element.show().css({ width: "auto", minHeight: 0, height: 0 });
        t.minWidth > t.width && (t.width = t.minWidth);
        i = this.uiDialog.css({ height: "auto", width: t.width }).height();
        r = Math.max(0, t.minHeight - i);
        t.height === "auto"
          ? n.support.minHeight
            ? this.element.css({ minHeight: r, height: "auto" })
            : (this.uiDialog.show(),
              (u = this.element.css("height", "auto").height()),
              f || this.uiDialog.hide(),
              this.element.height(Math.max(u, r)))
          : this.element.height(Math.max(t.height - i, 0));
        this.uiDialog.is(":data(resizable)") &&
          this.uiDialog.resizable("option", "minHeight", this._minHeight());
      }
    });
    n.extend(n.ui.dialog, {
      version: "1.8.24",
      uuid: 0,
      maxZ: 0,
      getTitleId: function(n) {
        var t = n.attr("id");
        return t || ((this.uuid += 1), (t = this.uuid)), "ui-dialog-title-" + t;
      },
      overlay: function(t) {
        this.$el = n.ui.dialog.overlay.create(t);
      }
    });
    n.extend(n.ui.dialog.overlay, {
      instances: [],
      oldInstances: [],
      maxZ: 0,
      events: n
        .map(
          "focus,mousedown,mouseup,keydown,keypress,click".split(","),
          function(n) {
            return n + ".dialog-overlay";
          }
        )
        .join(" "),
      create: function(t) {
        this.instances.length === 0 &&
          (setTimeout(function() {
            n.ui.dialog.overlay.instances.length &&
              n(document).bind(n.ui.dialog.overlay.events, function(t) {
                if (n(t.target).zIndex() < n.ui.dialog.overlay.maxZ) return !1;
              });
          }, 1),
          n(document).bind("keydown.dialog-overlay", function(i) {
            t.options.closeOnEscape &&
              !i.isDefaultPrevented() &&
              i.keyCode &&
              i.keyCode === n.ui.keyCode.ESCAPE &&
              (t.close(i), i.preventDefault());
          }),
          n(window).bind("resize.dialog-overlay", n.ui.dialog.overlay.resize));
        var i = (
          this.oldInstances.pop() ||
          n("<div></div>").addClass("ui-widget-overlay")
        )
          .appendTo(document.body)
          .css({ width: this.width(), height: this.height() });
        return n.fn.bgiframe && i.bgiframe(), this.instances.push(i), i;
      },
      destroy: function(t) {
        var r = n.inArray(t, this.instances),
          i;
        r != -1 && this.oldInstances.push(this.instances.splice(r, 1)[0]);
        this.instances.length === 0 &&
          n([document, window]).unbind(".dialog-overlay");
        t.remove();
        i = 0;
        n.each(this.instances, function() {
          i = Math.max(i, this.css("z-index"));
        });
        this.maxZ = i;
      },
      height: function() {
        var t, i;
        return n.browser.msie && n.browser.version < 7
          ? ((t = Math.max(
              document.documentElement.scrollHeight,
              document.body.scrollHeight
            )),
            (i = Math.max(
              document.documentElement.offsetHeight,
              document.body.offsetHeight
            )),
            t < i ? n(window).height() + "px" : t + "px")
          : n(document).height() + "px";
      },
      width: function() {
        var t, i;
        return n.browser.msie
          ? ((t = Math.max(
              document.documentElement.scrollWidth,
              document.body.scrollWidth
            )),
            (i = Math.max(
              document.documentElement.offsetWidth,
              document.body.offsetWidth
            )),
            t < i ? n(window).width() + "px" : t + "px")
          : n(document).width() + "px";
      },
      resize: function() {
        var t = n([]);
        n.each(n.ui.dialog.overlay.instances, function() {
          t = t.add(this);
        });
        t.css({ width: 0, height: 0 }).css({
          width: n.ui.dialog.overlay.width(),
          height: n.ui.dialog.overlay.height()
        });
      }
    });
    n.extend(n.ui.dialog.overlay.prototype, {
      destroy: function() {
        n.ui.dialog.overlay.destroy(this.$el);
      }
    });
  })(jQuery),
  (function(n) {
    var t = 5;
    n.widget("ui.slider", n.ui.mouse, {
      widgetEventPrefix: "slide",
      options: {
        animate: !1,
        distance: 0,
        max: 100,
        min: 0,
        orientation: "horizontal",
        range: !1,
        step: 1,
        value: 0,
        values: null
      },
      _create: function() {
        var i = this,
          r = this.options,
          f = this.element
            .find(".ui-slider-handle")
            .addClass("ui-state-default ui-corner-all"),
          o = (r.values && r.values.length) || 1,
          e = [],
          u;
        for (
          this._keySliding = !1,
            this._mouseSliding = !1,
            this._animateOff = !0,
            this._handleIndex = null,
            this._detectOrientation(),
            this._mouseInit(),
            this.element.addClass(
              "ui-slider ui-slider-" +
                this.orientation +
                " ui-widget ui-widget-content ui-corner-all" +
                (r.disabled ? " ui-slider-disabled ui-disabled" : "")
            ),
            this.range = n([]),
            r.range &&
              (r.range === !0 &&
                (r.values || (r.values = [this._valueMin(), this._valueMin()]),
                r.values.length &&
                  r.values.length !== 2 &&
                  (r.values = [r.values[0], r.values[0]])),
              (this.range = n("<div></div>")
                .appendTo(this.element)
                .addClass(
                  "ui-slider-range ui-widget-header" +
                    (r.range === "min" || r.range === "max"
                      ? " ui-slider-range-" + r.range
                      : "")
                ))),
            u = f.length;
          u < o;
          u += 1
        )
          e.push(
            "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>"
          );
        this.handles = f.add(n(e.join("")).appendTo(i.element));
        this.handle = this.handles.eq(0);
        this.handles
          .add(this.range)
          .filter("a")
          .click(function(n) {
            n.preventDefault();
          })
          .hover(
            function() {
              r.disabled || n(this).addClass("ui-state-hover");
            },
            function() {
              n(this).removeClass("ui-state-hover");
            }
          )
          .focus(function() {
            r.disabled
              ? n(this).blur()
              : (n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),
                n(this).addClass("ui-state-focus"));
          })
          .blur(function() {
            n(this).removeClass("ui-state-focus");
          });
        this.handles.each(function(t) {
          n(this).data("index.ui-slider-handle", t);
        });
        this.handles
          .keydown(function(r) {
            var e = n(this).data("index.ui-slider-handle"),
              s,
              f,
              u,
              o;
            if (!i.options.disabled) {
              switch (r.keyCode) {
                case n.ui.keyCode.HOME:
                case n.ui.keyCode.END:
                case n.ui.keyCode.PAGE_UP:
                case n.ui.keyCode.PAGE_DOWN:
                case n.ui.keyCode.UP:
                case n.ui.keyCode.RIGHT:
                case n.ui.keyCode.DOWN:
                case n.ui.keyCode.LEFT:
                  if (
                    (r.preventDefault(),
                    !i._keySliding &&
                      ((i._keySliding = !0),
                      n(this).addClass("ui-state-active"),
                      (s = i._start(r, e)),
                      s === !1))
                  )
                    return;
              }
              o = i.options.step;
              f =
                i.options.values && i.options.values.length
                  ? (u = i.values(e))
                  : (u = i.value());
              switch (r.keyCode) {
                case n.ui.keyCode.HOME:
                  u = i._valueMin();
                  break;
                case n.ui.keyCode.END:
                  u = i._valueMax();
                  break;
                case n.ui.keyCode.PAGE_UP:
                  u = i._trimAlignValue(
                    f + (i._valueMax() - i._valueMin()) / t
                  );
                  break;
                case n.ui.keyCode.PAGE_DOWN:
                  u = i._trimAlignValue(
                    f - (i._valueMax() - i._valueMin()) / t
                  );
                  break;
                case n.ui.keyCode.UP:
                case n.ui.keyCode.RIGHT:
                  if (f === i._valueMax()) return;
                  u = i._trimAlignValue(f + o);
                  break;
                case n.ui.keyCode.DOWN:
                case n.ui.keyCode.LEFT:
                  if (f === i._valueMin()) return;
                  u = i._trimAlignValue(f - o);
              }
              i._slide(r, e, u);
            }
          })
          .keyup(function(t) {
            var r = n(this).data("index.ui-slider-handle");
            i._keySliding &&
              ((i._keySliding = !1),
              i._stop(t, r),
              i._change(t, r),
              n(this).removeClass("ui-state-active"));
          });
        this._refreshValue();
        this._animateOff = !1;
      },
      destroy: function() {
        return (
          this.handles.remove(),
          this.range.remove(),
          this.element
            .removeClass(
              "ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"
            )
            .removeData("slider")
            .unbind(".slider"),
          this._mouseDestroy(),
          this
        );
      },
      _mouseCapture: function(t) {
        var u = this.options,
          h,
          f,
          e,
          i,
          o,
          r,
          c,
          s,
          l;
        return u.disabled
          ? !1
          : ((this.elementSize = {
              width: this.element.outerWidth(),
              height: this.element.outerHeight()
            }),
            (this.elementOffset = this.element.offset()),
            (h = { x: t.pageX, y: t.pageY }),
            (f = this._normValueFromMouse(h)),
            (e = this._valueMax() - this._valueMin() + 1),
            (o = this),
            this.handles.each(function(t) {
              var u = Math.abs(f - o.values(t));
              e > u && ((e = u), (i = n(this)), (r = t));
            }),
            u.range === !0 &&
              this.values(1) === u.min &&
              ((r += 1), (i = n(this.handles[r]))),
            (c = this._start(t, r)),
            c === !1)
          ? !1
          : ((this._mouseSliding = !0),
            (o._handleIndex = r),
            i.addClass("ui-state-active").focus(),
            (s = i.offset()),
            (l = !n(t.target)
              .parents()
              .andSelf()
              .is(".ui-slider-handle")),
            (this._clickOffset = l
              ? { left: 0, top: 0 }
              : {
                  left: t.pageX - s.left - i.width() / 2,
                  top:
                    t.pageY -
                    s.top -
                    i.height() / 2 -
                    (parseInt(i.css("borderTopWidth"), 10) || 0) -
                    (parseInt(i.css("borderBottomWidth"), 10) || 0) +
                    (parseInt(i.css("marginTop"), 10) || 0)
                }),
            this.handles.hasClass("ui-state-hover") || this._slide(t, r, f),
            (this._animateOff = !0),
            !0);
      },
      _mouseStart: function() {
        return !0;
      },
      _mouseDrag: function(n) {
        var t = { x: n.pageX, y: n.pageY },
          i = this._normValueFromMouse(t);
        return this._slide(n, this._handleIndex, i), !1;
      },
      _mouseStop: function(n) {
        return (
          this.handles.removeClass("ui-state-active"),
          (this._mouseSliding = !1),
          this._stop(n, this._handleIndex),
          this._change(n, this._handleIndex),
          (this._handleIndex = null),
          (this._clickOffset = null),
          (this._animateOff = !1),
          !1
        );
      },
      _detectOrientation: function() {
        this.orientation =
          this.options.orientation === "vertical" ? "vertical" : "horizontal";
      },
      _normValueFromMouse: function(n) {
        var i, r, t, u, f;
        return (
          this.orientation === "horizontal"
            ? ((i = this.elementSize.width),
              (r =
                n.x -
                this.elementOffset.left -
                (this._clickOffset ? this._clickOffset.left : 0)))
            : ((i = this.elementSize.height),
              (r =
                n.y -
                this.elementOffset.top -
                (this._clickOffset ? this._clickOffset.top : 0))),
          (t = r / i),
          t > 1 && (t = 1),
          t < 0 && (t = 0),
          this.orientation === "vertical" && (t = 1 - t),
          (u = this._valueMax() - this._valueMin()),
          (f = this._valueMin() + t * u),
          this._trimAlignValue(f)
        );
      },
      _start: function(n, t) {
        var i = { handle: this.handles[t], value: this.value() };
        return (
          this.options.values &&
            this.options.values.length &&
            ((i.value = this.values(t)), (i.values = this.values())),
          this._trigger("start", n, i)
        );
      },
      _slide: function(n, t, i) {
        var r, f, u;
        this.options.values && this.options.values.length
          ? ((r = this.values(t ? 0 : 1)),
            this.options.values.length === 2 &&
              this.options.range === !0 &&
              ((t === 0 && i > r) || (t === 1 && i < r)) &&
              (i = r),
            i !== this.values(t) &&
              ((f = this.values()),
              (f[t] = i),
              (u = this._trigger("slide", n, {
                handle: this.handles[t],
                value: i,
                values: f
              })),
              (r = this.values(t ? 0 : 1)),
              u !== !1 && this.values(t, i, !0)))
          : i !== this.value() &&
            ((u = this._trigger("slide", n, {
              handle: this.handles[t],
              value: i
            })),
            u !== !1 && this.value(i));
      },
      _stop: function(n, t) {
        var i = { handle: this.handles[t], value: this.value() };
        this.options.values &&
          this.options.values.length &&
          ((i.value = this.values(t)), (i.values = this.values()));
        this._trigger("stop", n, i);
      },
      _change: function(n, t) {
        if (!this._keySliding && !this._mouseSliding) {
          var i = { handle: this.handles[t], value: this.value() };
          this.options.values &&
            this.options.values.length &&
            ((i.value = this.values(t)), (i.values = this.values()));
          this._trigger("change", n, i);
        }
      },
      value: function(n) {
        if (arguments.length) {
          this.options.value = this._trimAlignValue(n);
          this._refreshValue();
          this._change(null, 0);
          return;
        }
        return this._value();
      },
      values: function(t, i) {
        var u, f, r;
        if (arguments.length > 1) {
          this.options.values[t] = this._trimAlignValue(i);
          this._refreshValue();
          this._change(null, t);
          return;
        }
        if (arguments.length)
          if (n.isArray(arguments[0])) {
            for (
              u = this.options.values, f = arguments[0], r = 0;
              r < u.length;
              r += 1
            )
              (u[r] = this._trimAlignValue(f[r])), this._change(null, r);
            this._refreshValue();
          } else
            return this.options.values && this.options.values.length
              ? this._values(t)
              : this.value();
        else return this._values();
      },
      _setOption: function(t, i) {
        var r,
          u = 0;
        n.isArray(this.options.values) && (u = this.options.values.length);
        n.Widget.prototype._setOption.apply(this, arguments);
        switch (t) {
          case "disabled":
            i
              ? (this.handles.filter(".ui-state-focus").blur(),
                this.handles.removeClass("ui-state-hover"),
                this.handles.propAttr("disabled", !0),
                this.element.addClass("ui-disabled"))
              : (this.handles.propAttr("disabled", !1),
                this.element.removeClass("ui-disabled"));
            break;
          case "orientation":
            this._detectOrientation();
            this.element
              .removeClass("ui-slider-horizontal ui-slider-vertical")
              .addClass("ui-slider-" + this.orientation);
            this._refreshValue();
            break;
          case "value":
            this._animateOff = !0;
            this._refreshValue();
            this._change(null, 0);
            this._animateOff = !1;
            break;
          case "values":
            for (
              this._animateOff = !0, this._refreshValue(), r = 0;
              r < u;
              r += 1
            )
              this._change(null, r);
            this._animateOff = !1;
        }
      },
      _value: function() {
        var n = this.options.value;
        return this._trimAlignValue(n);
      },
      _values: function(n) {
        var r, t, i;
        if (arguments.length)
          return (r = this.options.values[n]), this._trimAlignValue(r);
        for (t = this.options.values.slice(), i = 0; i < t.length; i += 1)
          t[i] = this._trimAlignValue(t[i]);
        return t;
      },
      _trimAlignValue: function(n) {
        if (n <= this._valueMin()) return this._valueMin();
        if (n >= this._valueMax()) return this._valueMax();
        var t = this.options.step > 0 ? this.options.step : 1,
          i = (n - this._valueMin()) % t,
          r = n - i;
        return (
          Math.abs(i) * 2 >= t && (r += i > 0 ? t : -t),
          parseFloat(r.toFixed(5))
        );
      },
      _valueMin: function() {
        return this.options.min;
      },
      _valueMax: function() {
        return this.options.max;
      },
      _refreshValue: function() {
        var f = this.options.range,
          r = this.options,
          i = this,
          u = this._animateOff ? !1 : r.animate,
          t,
          e = {},
          s,
          c,
          o,
          h;
        this.options.values && this.options.values.length
          ? this.handles.each(function(f) {
              t =
                ((i.values(f) - i._valueMin()) /
                  (i._valueMax() - i._valueMin())) *
                100;
              e[i.orientation === "horizontal" ? "left" : "bottom"] = t + "%";
              n(this)
                .stop(1, 1)
                [u ? "animate" : "css"](e, r.animate);
              i.options.range === !0 &&
                (i.orientation === "horizontal"
                  ? (f === 0 &&
                      i.range
                        .stop(1, 1)
                        [u ? "animate" : "css"]({ left: t + "%" }, r.animate),
                    f === 1 &&
                      i.range[u ? "animate" : "css"](
                        { width: t - s + "%" },
                        { queue: !1, duration: r.animate }
                      ))
                  : (f === 0 &&
                      i.range
                        .stop(1, 1)
                        [u ? "animate" : "css"]({ bottom: t + "%" }, r.animate),
                    f === 1 &&
                      i.range[u ? "animate" : "css"](
                        { height: t - s + "%" },
                        { queue: !1, duration: r.animate }
                      )));
              s = t;
            })
          : ((c = this.value()),
            (o = this._valueMin()),
            (h = this._valueMax()),
            (t = h !== o ? ((c - o) / (h - o)) * 100 : 0),
            (e[i.orientation === "horizontal" ? "left" : "bottom"] = t + "%"),
            this.handle.stop(1, 1)[u ? "animate" : "css"](e, r.animate),
            f === "min" &&
              this.orientation === "horizontal" &&
              this.range
                .stop(1, 1)
                [u ? "animate" : "css"]({ width: t + "%" }, r.animate),
            f === "max" &&
              this.orientation === "horizontal" &&
              this.range[u ? "animate" : "css"](
                { width: 100 - t + "%" },
                { queue: !1, duration: r.animate }
              ),
            f === "min" &&
              this.orientation === "vertical" &&
              this.range
                .stop(1, 1)
                [u ? "animate" : "css"]({ height: t + "%" }, r.animate),
            f === "max" &&
              this.orientation === "vertical" &&
              this.range[u ? "animate" : "css"](
                { height: 100 - t + "%" },
                { queue: !1, duration: r.animate }
              ));
      }
    });
    n.extend(n.ui.slider, { version: "1.8.24" });
  })(jQuery),
  (function(n, t) {
    function u() {
      return ++i;
    }
    function f() {
      return ++r;
    }
    var i = 0,
      r = 0;
    n.widget("ui.tabs", {
      options: {
        add: null,
        ajaxOptions: null,
        cache: !1,
        cookie: null,
        collapsible: !1,
        disable: null,
        disabled: [],
        enable: null,
        event: "click",
        fx: null,
        idPrefix: "ui-tabs-",
        load: null,
        panelTemplate: "<div></div>",
        remove: null,
        select: null,
        show: null,
        spinner: "<em>Loading&#8230;</em>",
        tabTemplate: "<li><a href='#{href}'><span>#{label}</span></a></li>"
      },
      _create: function() {
        this._tabify(!0);
      },
      _setOption: function(n, t) {
        if (n == "selected") {
          if (this.options.collapsible && t == this.options.selected) return;
          this.select(t);
        } else (this.options[n] = t), this._tabify();
      },
      _tabId: function(n) {
        return (
          (n.title &&
            n.title.replace(/\s/g, "_").replace(/[^\w\u00c0-\uFFFF-]/g, "")) ||
          this.options.idPrefix + u()
        );
      },
      _sanitizeSelector: function(n) {
        return n.replace(/:/g, "\\:");
      },
      _cookie: function() {
        var t =
          this.cookie ||
          (this.cookie = this.options.cookie.name || "ui-tabs-" + f());
        return n.cookie.apply(null, [t].concat(n.makeArray(arguments)));
      },
      _ui: function(n, t) {
        return { tab: n, panel: t, index: this.anchors.index(n) };
      },
      _cleanup: function() {
        this.lis
          .filter(".ui-state-processing")
          .removeClass("ui-state-processing")
          .find("span:data(label.tabs)")
          .each(function() {
            var t = n(this);
            t.html(t.data("label.tabs")).removeData("label.tabs");
          });
      },
      _tabify: function(i) {
        function v(t, i) {
          t.css("display", "");
          !n.support.opacity &&
            i.opacity &&
            t[0].style.removeAttribute("filter");
        }
        var u = this,
          r = this.options,
          y = /^#.+/,
          o,
          s,
          h,
          c,
          f,
          e,
          l,
          a;
        for (
          this.list = this.element.find("ol,ul").eq(0),
            this.lis = n(" > li:has(a[href])", this.list),
            this.anchors = this.lis.map(function() {
              return n("a", this)[0];
            }),
            this.panels = n([]),
            this.anchors.each(function(t, i) {
              var f = n(i).attr("href"),
                s = f.split("#")[0],
                h,
                o,
                e;
              s &&
                (s === location.toString().split("#")[0] ||
                  ((h = n("base")[0]) && s === h.href)) &&
                ((f = i.hash), (i.href = f));
              y.test(f)
                ? (u.panels = u.panels.add(
                    u.element.find(u._sanitizeSelector(f))
                  ))
                : f && f !== "#"
                ? (n.data(i, "href.tabs", f),
                  n.data(i, "load.tabs", f.replace(/#.*$/, "")),
                  (o = u._tabId(i)),
                  (i.href = "#" + o),
                  (e = u.element.find("#" + o)),
                  e.length ||
                    ((e = n(r.panelTemplate)
                      .attr("id", o)
                      .addClass(
                        "ui-tabs-panel ui-widget-content ui-corner-bottom"
                      )
                      .insertAfter(u.panels[t - 1] || u.list)),
                    e.data("destroy.tabs", !0)),
                  (u.panels = u.panels.add(e)))
                : r.disabled.push(t);
            }),
            i
              ? (this.element.addClass(
                  "ui-tabs ui-widget ui-widget-content ui-corner-all"
                ),
                this.list.addClass(
                  "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"
                ),
                this.lis.addClass("ui-state-default ui-corner-top"),
                this.panels.addClass(
                  "ui-tabs-panel ui-widget-content ui-corner-bottom"
                ),
                r.selected === t
                  ? (location.hash &&
                      this.anchors.each(function(n, t) {
                        if (t.hash == location.hash)
                          return (r.selected = n), !1;
                      }),
                    typeof r.selected != "number" &&
                      r.cookie &&
                      (r.selected = parseInt(u._cookie(), 10)),
                    typeof r.selected != "number" &&
                      this.lis.filter(".ui-tabs-selected").length &&
                      (r.selected = this.lis.index(
                        this.lis.filter(".ui-tabs-selected")
                      )),
                    (r.selected = r.selected || (this.lis.length ? 0 : -1)))
                  : r.selected === null && (r.selected = -1),
                (r.selected =
                  (r.selected >= 0 && this.anchors[r.selected]) ||
                  r.selected < 0
                    ? r.selected
                    : 0),
                (r.disabled = n
                  .unique(
                    r.disabled.concat(
                      n.map(this.lis.filter(".ui-state-disabled"), function(n) {
                        return u.lis.index(n);
                      })
                    )
                  )
                  .sort()),
                n.inArray(r.selected, r.disabled) != -1 &&
                  r.disabled.splice(n.inArray(r.selected, r.disabled), 1),
                this.panels.addClass("ui-tabs-hide"),
                this.lis.removeClass("ui-tabs-selected ui-state-active"),
                r.selected >= 0 &&
                  this.anchors.length &&
                  (u.element
                    .find(u._sanitizeSelector(u.anchors[r.selected].hash))
                    .removeClass("ui-tabs-hide"),
                  this.lis
                    .eq(r.selected)
                    .addClass("ui-tabs-selected ui-state-active"),
                  u.element.queue("tabs", function() {
                    u._trigger(
                      "show",
                      null,
                      u._ui(
                        u.anchors[r.selected],
                        u.element.find(
                          u._sanitizeSelector(u.anchors[r.selected].hash)
                        )[0]
                      )
                    );
                  }),
                  this.load(r.selected)),
                n(window).bind("unload", function() {
                  u.lis.add(u.anchors).unbind(".tabs");
                  u.lis = u.anchors = u.panels = null;
                }))
              : (r.selected = this.lis.index(
                  this.lis.filter(".ui-tabs-selected")
                )),
            this.element[r.collapsible ? "addClass" : "removeClass"](
              "ui-tabs-collapsible"
            ),
            r.cookie && this._cookie(r.selected, r.cookie),
            o = 0;
          (s = this.lis[o]);
          o++
        )
          n(s)[
            n.inArray(o, r.disabled) != -1 && !n(s).hasClass("ui-tabs-selected")
              ? "addClass"
              : "removeClass"
          ]("ui-state-disabled");
        r.cache === !1 && this.anchors.removeData("cache.tabs");
        this.lis.add(this.anchors).unbind(".tabs");
        r.event !== "mouseover" &&
          ((h = function(n, t) {
            t.is(":not(.ui-state-disabled)") && t.addClass("ui-state-" + n);
          }),
          (c = function(n, t) {
            t.removeClass("ui-state-" + n);
          }),
          this.lis.bind("mouseover.tabs", function() {
            h("hover", n(this));
          }),
          this.lis.bind("mouseout.tabs", function() {
            c("hover", n(this));
          }),
          this.anchors.bind("focus.tabs", function() {
            h("focus", n(this).closest("li"));
          }),
          this.anchors.bind("blur.tabs", function() {
            c("focus", n(this).closest("li"));
          }));
        r.fx &&
          (n.isArray(r.fx) ? ((f = r.fx[0]), (e = r.fx[1])) : (f = e = r.fx));
        l = e
          ? function(t, i) {
              n(t)
                .closest("li")
                .addClass("ui-tabs-selected ui-state-active");
              i.hide()
                .removeClass("ui-tabs-hide")
                .animate(e, e.duration || "normal", function() {
                  v(i, e);
                  u._trigger("show", null, u._ui(t, i[0]));
                });
            }
          : function(t, i) {
              n(t)
                .closest("li")
                .addClass("ui-tabs-selected ui-state-active");
              i.removeClass("ui-tabs-hide");
              u._trigger("show", null, u._ui(t, i[0]));
            };
        a = f
          ? function(n, t) {
              t.animate(f, f.duration || "normal", function() {
                u.lis.removeClass("ui-tabs-selected ui-state-active");
                t.addClass("ui-tabs-hide");
                v(t, f);
                u.element.dequeue("tabs");
              });
            }
          : function(n, t) {
              u.lis.removeClass("ui-tabs-selected ui-state-active");
              t.addClass("ui-tabs-hide");
              u.element.dequeue("tabs");
            };
        this.anchors.bind(r.event + ".tabs", function() {
          var t = this,
            i = n(t).closest("li"),
            f = u.panels.filter(":not(.ui-tabs-hide)"),
            e = u.element.find(u._sanitizeSelector(t.hash));
          if (
            (i.hasClass("ui-tabs-selected") && !r.collapsible) ||
            i.hasClass("ui-state-disabled") ||
            i.hasClass("ui-state-processing") ||
            u.panels.filter(":animated").length ||
            u._trigger("select", null, u._ui(this, e[0])) === !1
          )
            return this.blur(), !1;
          if (
            ((r.selected = u.anchors.index(this)), u.abort(), r.collapsible)
          ) {
            if (i.hasClass("ui-tabs-selected"))
              return (
                (r.selected = -1),
                r.cookie && u._cookie(r.selected, r.cookie),
                u.element
                  .queue("tabs", function() {
                    a(t, f);
                  })
                  .dequeue("tabs"),
                this.blur(),
                !1
              );
            if (!f.length)
              return (
                r.cookie && u._cookie(r.selected, r.cookie),
                u.element.queue("tabs", function() {
                  l(t, e);
                }),
                u.load(u.anchors.index(this)),
                this.blur(),
                !1
              );
          }
          if ((r.cookie && u._cookie(r.selected, r.cookie), e.length))
            f.length &&
              u.element.queue("tabs", function() {
                a(t, f);
              }),
              u.element.queue("tabs", function() {
                l(t, e);
              }),
              u.load(u.anchors.index(this));
          else throw "jQuery UI Tabs: Mismatching fragment identifier.";
          n.browser.msie && this.blur();
        });
        this.anchors.bind("click.tabs", function() {
          return !1;
        });
      },
      _getIndex: function(n) {
        return (
          typeof n == "string" &&
            (n = this.anchors.index(
              this.anchors.filter("[href$='" + n + "']")
            )),
          n
        );
      },
      destroy: function() {
        var t = this.options;
        return (
          this.abort(),
          this.element
            .unbind(".tabs")
            .removeClass(
              "ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"
            )
            .removeData("tabs"),
          this.list.removeClass(
            "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"
          ),
          this.anchors.each(function() {
            var t = n.data(this, "href.tabs"),
              i;
            t && (this.href = t);
            i = n(this).unbind(".tabs");
            n.each(["href", "load", "cache"], function(n, t) {
              i.removeData(t + ".tabs");
            });
          }),
          this.lis
            .unbind(".tabs")
            .add(this.panels)
            .each(function() {
              n.data(this, "destroy.tabs")
                ? n(this).remove()
                : n(this).removeClass(
                    "ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"
                  );
            }),
          t.cookie && this._cookie(null, t.cookie),
          this
        );
      },
      add: function(i, r, u) {
        var f;
        u === t && (u = this.anchors.length);
        var e = this,
          o = this.options,
          s = n(
            o.tabTemplate.replace(/#\{href\}/g, i).replace(/#\{label\}/g, r)
          ),
          h = i.indexOf("#") ? this._tabId(n("a", s)[0]) : i.replace("#", "");
        return (
          s.addClass("ui-state-default ui-corner-top").data("destroy.tabs", !0),
          (f = e.element.find("#" + h)),
          f.length ||
            (f = n(o.panelTemplate)
              .attr("id", h)
              .data("destroy.tabs", !0)),
          f.addClass(
            "ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"
          ),
          u >= this.lis.length
            ? (s.appendTo(this.list), f.appendTo(this.list[0].parentNode))
            : (s.insertBefore(this.lis[u]), f.insertBefore(this.panels[u])),
          (o.disabled = n.map(o.disabled, function(n) {
            return n >= u ? ++n : n;
          })),
          this._tabify(),
          this.anchors.length == 1 &&
            ((o.selected = 0),
            s.addClass("ui-tabs-selected ui-state-active"),
            f.removeClass("ui-tabs-hide"),
            this.element.queue("tabs", function() {
              e._trigger("show", null, e._ui(e.anchors[0], e.panels[0]));
            }),
            this.load(0)),
          this._trigger("add", null, this._ui(this.anchors[u], this.panels[u])),
          this
        );
      },
      remove: function(t) {
        t = this._getIndex(t);
        var i = this.options,
          r = this.lis.eq(t).remove(),
          u = this.panels.eq(t).remove();
        return (
          r.hasClass("ui-tabs-selected") &&
            this.anchors.length > 1 &&
            this.select(t + (t + 1 < this.anchors.length ? 1 : -1)),
          (i.disabled = n.map(
            n.grep(i.disabled, function(n) {
              return n != t;
            }),
            function(n) {
              return n >= t ? --n : n;
            }
          )),
          this._tabify(),
          this._trigger("remove", null, this._ui(r.find("a")[0], u[0])),
          this
        );
      },
      enable: function(t) {
        t = this._getIndex(t);
        var i = this.options;
        if (n.inArray(t, i.disabled) != -1)
          return (
            this.lis.eq(t).removeClass("ui-state-disabled"),
            (i.disabled = n.grep(i.disabled, function(n) {
              return n != t;
            })),
            this._trigger(
              "enable",
              null,
              this._ui(this.anchors[t], this.panels[t])
            ),
            this
          );
      },
      disable: function(n) {
        n = this._getIndex(n);
        var i = this,
          t = this.options;
        return (
          n != t.selected &&
            (this.lis.eq(n).addClass("ui-state-disabled"),
            t.disabled.push(n),
            t.disabled.sort(),
            this._trigger(
              "disable",
              null,
              this._ui(this.anchors[n], this.panels[n])
            )),
          this
        );
      },
      select: function(n) {
        if (((n = this._getIndex(n)), n == -1))
          if (this.options.collapsible && this.options.selected != -1)
            n = this.options.selected;
          else return this;
        return this.anchors.eq(n).trigger(this.options.event + ".tabs"), this;
      },
      load: function(t) {
        var f;
        t = this._getIndex(t);
        var i = this,
          r = this.options,
          u = this.anchors.eq(t)[0],
          e = n.data(u, "load.tabs");
        if (
          (this.abort(),
          !e ||
            (this.element.queue("tabs").length !== 0 &&
              n.data(u, "cache.tabs")))
        ) {
          this.element.dequeue("tabs");
          return;
        }
        return (
          this.lis.eq(t).addClass("ui-state-processing"),
          r.spinner &&
            ((f = n("span", u)),
            f.data("label.tabs", f.html()).html(r.spinner)),
          (this.xhr = n.ajax(
            n.extend({}, r.ajaxOptions, {
              url: e,
              success: function(f, e) {
                i.element.find(i._sanitizeSelector(u.hash)).html(f);
                i._cleanup();
                r.cache && n.data(u, "cache.tabs", !0);
                i._trigger("load", null, i._ui(i.anchors[t], i.panels[t]));
                try {
                  r.ajaxOptions.success(f, e);
                } catch (o) {}
              },
              error: function(n, f) {
                i._cleanup();
                i._trigger("load", null, i._ui(i.anchors[t], i.panels[t]));
                try {
                  r.ajaxOptions.error(n, f, t, u);
                } catch (e) {}
              }
            })
          )),
          i.element.dequeue("tabs"),
          this
        );
      },
      abort: function() {
        return (
          this.element.queue([]),
          this.panels.stop(!1, !0),
          this.element.queue("tabs", this.element.queue("tabs").splice(-2, 2)),
          this.xhr && (this.xhr.abort(), delete this.xhr),
          this._cleanup(),
          this
        );
      },
      url: function(n, t) {
        return (
          this.anchors
            .eq(n)
            .removeData("cache.tabs")
            .data("load.tabs", t),
          this
        );
      },
      length: function() {
        return this.anchors.length;
      }
    });
    n.extend(n.ui.tabs, { version: "1.8.24" });
    n.extend(n.ui.tabs.prototype, {
      rotation: null,
      rotate: function(n, t) {
        var i = this,
          u = this.options,
          r =
            i._rotate ||
            (i._rotate = function(t) {
              clearTimeout(i.rotation);
              i.rotation = setTimeout(function() {
                var n = u.selected;
                i.select(++n < i.anchors.length ? n : 0);
              }, n);
              t && t.stopPropagation();
            }),
          f =
            i._unrotate ||
            (i._unrotate = t
              ? function() {
                  r();
                }
              : function(n) {
                  n.clientX && i.rotate(null);
                });
        return (
          n
            ? (this.element.bind("tabsshow", r),
              this.anchors.bind(u.event + ".tabs", f),
              r())
            : (clearTimeout(i.rotation),
              this.element.unbind("tabsshow", r),
              this.anchors.unbind(u.event + ".tabs", f),
              delete this._rotate,
              delete this._unrotate),
          this
        );
      }
    });
  })(jQuery),
  (function(n, t) {
    function e() {
      this.debug = !1;
      this._curInst = null;
      this._keyEvent = !1;
      this._disabledInputs = [];
      this._datepickerShowing = !1;
      this._inDialog = !1;
      this._mainDivId = "ui-datepicker-div";
      this._inlineClass = "ui-datepicker-inline";
      this._appendClass = "ui-datepicker-append";
      this._triggerClass = "ui-datepicker-trigger";
      this._dialogClass = "ui-datepicker-dialog";
      this._disableClass = "ui-datepicker-disabled";
      this._unselectableClass = "ui-datepicker-unselectable";
      this._currentClass = "ui-datepicker-current-day";
      this._dayOverClass = "ui-datepicker-days-cell-over";
      this.regional = [];
      this.regional[""] = {
        closeText: "Done",
        prevText: "Prev",
        nextText: "Next",
        currentText: "Today",
        monthNames: [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December"
        ],
        monthNamesShort: [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "Jun",
          "Jul",
          "Aug",
          "Sep",
          "Oct",
          "Nov",
          "Dec"
        ],
        dayNames: [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday"
        ],
        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
        weekHeader: "Wk",
        dateFormat: "mm/dd/yy",
        firstDay: 0,
        isRTL: !1,
        showMonthAfterYear: !1,
        yearSuffix: ""
      };
      this._defaults = {
        showOn: "focus",
        showAnim: "fadeIn",
        showOptions: {},
        defaultDate: null,
        appendText: "",
        buttonText: "...",
        buttonImage: "",
        buttonImageOnly: !1,
        hideIfNoPrevNext: !1,
        navigationAsDateFormat: !1,
        gotoCurrent: !1,
        changeMonth: !1,
        changeYear: !1,
        yearRange: "c-10:c+10",
        showOtherMonths: !1,
        selectOtherMonths: !1,
        showWeek: !1,
        calculateWeek: this.iso8601Week,
        shortYearCutoff: "+10",
        minDate: null,
        maxDate: null,
        duration: "fast",
        beforeShowDay: null,
        beforeShow: null,
        onSelect: null,
        onChangeMonthYear: null,
        onClose: null,
        numberOfMonths: 1,
        showCurrentAtPos: 0,
        stepMonths: 1,
        stepBigMonths: 12,
        altField: "",
        altFormat: "",
        constrainInput: !0,
        showButtonPanel: !1,
        autoSize: !1,
        disabled: !1
      };
      n.extend(this._defaults, this.regional[""]);
      this.dpDiv = o(
        n(
          '<div id="' +
            this._mainDivId +
            '" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'
        )
      );
    }
    function o(t) {
      var i =
        "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
      return t
        .bind("mouseout", function(t) {
          var r = n(t.target).closest(i);
          r.length &&
            r.removeClass(
              "ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover"
            );
        })
        .bind("mouseover", function(r) {
          var u = n(r.target).closest(i);
          !n.datepicker._isDisabledDatepicker(
            f.inline ? t.parent()[0] : f.input[0]
          ) &&
            u.length &&
            (u
              .parents(".ui-datepicker-calendar")
              .find("a")
              .removeClass("ui-state-hover"),
            u.addClass("ui-state-hover"),
            u.hasClass("ui-datepicker-prev") &&
              u.addClass("ui-datepicker-prev-hover"),
            u.hasClass("ui-datepicker-next") &&
              u.addClass("ui-datepicker-next-hover"));
        });
    }
    function u(i, r) {
      n.extend(i, r);
      for (var u in r) (r[u] == null || r[u] == t) && (i[u] = r[u]);
      return i;
    }
    n.extend(n.ui, { datepicker: { version: "1.8.24" } });
    var i = "datepicker",
      r = new Date().getTime(),
      f;
    n.extend(e.prototype, {
      markerClassName: "hasDatepicker",
      maxRows: 4,
      log: function() {
        this.debug && console.log.apply("", arguments);
      },
      _widgetDatepicker: function() {
        return this.dpDiv;
      },
      setDefaults: function(n) {
        return u(this._defaults, n || {}), this;
      },
      _attachDatepicker: function(target, settings) {
        var inlineSettings = null,
          attrName,
          attrValue,
          nodeName,
          inline,
          inst;
        for (attrName in this._defaults)
          if (
            ((attrValue = target.getAttribute("date:" + attrName)), attrValue)
          ) {
            inlineSettings = inlineSettings || {};
            try {
              inlineSettings[attrName] = eval(attrValue);
            } catch (err) {
              inlineSettings[attrName] = attrValue;
            }
          }
        nodeName = target.nodeName.toLowerCase();
        inline = nodeName == "div" || nodeName == "span";
        target.id || ((this.uuid += 1), (target.id = "dp" + this.uuid));
        inst = this._newInst(n(target), inline);
        inst.settings = n.extend({}, settings || {}, inlineSettings || {});
        nodeName == "input"
          ? this._connectDatepicker(target, inst)
          : inline && this._inlineDatepicker(target, inst);
      },
      _newInst: function(t, i) {
        var r = t[0].id.replace(/([^A-Za-z0-9_-])/g, "\\\\$1");
        return {
          id: r,
          input: t,
          selectedDay: 0,
          selectedMonth: 0,
          selectedYear: 0,
          drawMonth: 0,
          drawYear: 0,
          inline: i,
          dpDiv: i
            ? o(
                n(
                  '<div class="' +
                    this._inlineClass +
                    ' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'
                )
              )
            : this.dpDiv
        };
      },
      _connectDatepicker: function(t, r) {
        var u = n(t);
        ((r.append = n([])),
        (r.trigger = n([])),
        u.hasClass(this.markerClassName)) ||
          (this._attachments(u, r),
          u
            .addClass(this.markerClassName)
            .keydown(this._doKeyDown)
            .keypress(this._doKeyPress)
            .keyup(this._doKeyUp)
            .bind("setData.datepicker", function(n, t, i) {
              r.settings[t] = i;
            })
            .bind("getData.datepicker", function(n, t) {
              return this._get(r, t);
            }),
          this._autoSize(r),
          n.data(t, i, r),
          r.settings.disabled && this._disableDatepicker(t));
      },
      _attachments: function(t, i) {
        var e = this._get(i, "appendText"),
          o = this._get(i, "isRTL"),
          u,
          r,
          f;
        i.append && i.append.remove();
        e &&
          ((i.append = n(
            '<span class="' + this._appendClass + '">' + e + "</span>"
          )),
          t[o ? "before" : "after"](i.append));
        t.unbind("focus", this._showDatepicker);
        i.trigger && i.trigger.remove();
        u = this._get(i, "showOn");
        (u == "focus" || u == "both") && t.focus(this._showDatepicker);
        (u == "button" || u == "both") &&
          ((r = this._get(i, "buttonText")),
          (f = this._get(i, "buttonImage")),
          (i.trigger = n(
            this._get(i, "buttonImageOnly")
              ? n("<img/>")
                  .addClass(this._triggerClass)
                  .attr({ src: f, alt: r, title: r })
              : n('<button type="button"></button>')
                  .addClass(this._triggerClass)
                  .html(
                    f == "" ? r : n("<img/>").attr({ src: f, alt: r, title: r })
                  )
          )),
          t[o ? "before" : "after"](i.trigger),
          i.trigger.click(function() {
            return (
              n.datepicker._datepickerShowing && n.datepicker._lastInput == t[0]
                ? n.datepicker._hideDatepicker()
                : n.datepicker._datepickerShowing &&
                  n.datepicker._lastInput != t[0]
                ? (n.datepicker._hideDatepicker(),
                  n.datepicker._showDatepicker(t[0]))
                : n.datepicker._showDatepicker(t[0]),
              !1
            );
          }));
      },
      _autoSize: function(n) {
        var t, i, r;
        this._get(n, "autoSize") &&
          !n.inline &&
          ((t = new Date(2009, 11, 20)),
          (i = this._get(n, "dateFormat")),
          i.match(/[DM]/) &&
            ((r = function(n) {
              for (var i = 0, r = 0, t = 0; t < n.length; t++)
                n[t].length > i && ((i = n[t].length), (r = t));
              return r;
            }),
            t.setMonth(
              r(this._get(n, i.match(/MM/) ? "monthNames" : "monthNamesShort"))
            ),
            t.setDate(
              r(this._get(n, i.match(/DD/) ? "dayNames" : "dayNamesShort")) +
                20 -
                t.getDay()
            )),
          n.input.attr("size", this._formatDate(n, t).length));
      },
      _inlineDatepicker: function(t, r) {
        var u = n(t);
        u.hasClass(this.markerClassName) ||
          (u
            .addClass(this.markerClassName)
            .append(r.dpDiv)
            .bind("setData.datepicker", function(n, t, i) {
              r.settings[t] = i;
            })
            .bind("getData.datepicker", function(n, t) {
              return this._get(r, t);
            }),
          n.data(t, i, r),
          this._setDate(r, this._getDefaultDate(r), !0),
          this._updateDatepicker(r),
          this._updateAlternate(r),
          r.settings.disabled && this._disableDatepicker(t),
          r.dpDiv.css("display", "block"));
      },
      _dialogDatepicker: function(t, r, f, e, o) {
        var s = this._dialogInst,
          h;
        if (
          (s ||
            ((this.uuid += 1),
            (h = "dp" + this.uuid),
            (this._dialogInput = n(
              '<input type="text" id="' +
                h +
                '" style="position: absolute; top: -100px; width: 0px;"/>'
            )),
            this._dialogInput.keydown(this._doKeyDown),
            n("body").append(this._dialogInput),
            (s = this._dialogInst = this._newInst(this._dialogInput, !1)),
            (s.settings = {}),
            n.data(this._dialogInput[0], i, s)),
          u(s.settings, e || {}),
          (r = r && r.constructor == Date ? this._formatDate(s, r) : r),
          this._dialogInput.val(r),
          (this._pos = o ? (o.length ? o : [o.pageX, o.pageY]) : null),
          !this._pos)
        ) {
          var c = document.documentElement.clientWidth,
            l = document.documentElement.clientHeight,
            a = document.documentElement.scrollLeft || document.body.scrollLeft,
            v = document.documentElement.scrollTop || document.body.scrollTop;
          this._pos = [c / 2 - 100 + a, l / 2 - 150 + v];
        }
        return (
          this._dialogInput
            .css("left", this._pos[0] + 20 + "px")
            .css("top", this._pos[1] + "px"),
          (s.settings.onSelect = f),
          (this._inDialog = !0),
          this.dpDiv.addClass(this._dialogClass),
          this._showDatepicker(this._dialogInput[0]),
          n.blockUI && n.blockUI(this.dpDiv),
          n.data(this._dialogInput[0], i, s),
          this
        );
      },
      _destroyDatepicker: function(t) {
        var u = n(t),
          f = n.data(t, i),
          r;
        u.hasClass(this.markerClassName) &&
          ((r = t.nodeName.toLowerCase()),
          n.removeData(t, i),
          r == "input"
            ? (f.append.remove(),
              f.trigger.remove(),
              u
                .removeClass(this.markerClassName)
                .unbind("focus", this._showDatepicker)
                .unbind("keydown", this._doKeyDown)
                .unbind("keypress", this._doKeyPress)
                .unbind("keyup", this._doKeyUp))
            : (r == "div" || r == "span") &&
              u.removeClass(this.markerClassName).empty());
      },
      _enableDatepicker: function(t) {
        var f = n(t),
          e = n.data(t, i),
          r,
          u;
        f.hasClass(this.markerClassName) &&
          ((r = t.nodeName.toLowerCase()),
          r == "input"
            ? ((t.disabled = !1),
              e.trigger
                .filter("button")
                .each(function() {
                  this.disabled = !1;
                })
                .end()
                .filter("img")
                .css({ opacity: "1.0", cursor: "" }))
            : (r == "div" || r == "span") &&
              ((u = f.children("." + this._inlineClass)),
              u.children().removeClass("ui-state-disabled"),
              u
                .find("select.ui-datepicker-month, select.ui-datepicker-year")
                .removeAttr("disabled")),
          (this._disabledInputs = n.map(this._disabledInputs, function(n) {
            return n == t ? null : n;
          })));
      },
      _disableDatepicker: function(t) {
        var f = n(t),
          e = n.data(t, i),
          r,
          u;
        f.hasClass(this.markerClassName) &&
          ((r = t.nodeName.toLowerCase()),
          r == "input"
            ? ((t.disabled = !0),
              e.trigger
                .filter("button")
                .each(function() {
                  this.disabled = !0;
                })
                .end()
                .filter("img")
                .css({ opacity: "0.5", cursor: "default" }))
            : (r == "div" || r == "span") &&
              ((u = f.children("." + this._inlineClass)),
              u.children().addClass("ui-state-disabled"),
              u
                .find("select.ui-datepicker-month, select.ui-datepicker-year")
                .attr("disabled", "disabled")),
          (this._disabledInputs = n.map(this._disabledInputs, function(n) {
            return n == t ? null : n;
          })),
          (this._disabledInputs[this._disabledInputs.length] = t));
      },
      _isDisabledDatepicker: function(n) {
        if (!n) return !1;
        for (var t = 0; t < this._disabledInputs.length; t++)
          if (this._disabledInputs[t] == n) return !0;
        return !1;
      },
      _getInst: function(t) {
        try {
          return n.data(t, i);
        } catch (r) {
          throw "Missing instance data for this datepicker";
        }
      },
      _optionDatepicker: function(i, r, f) {
        var e = this._getInst(i),
          o;
        if (arguments.length == 2 && typeof r == "string")
          return r == "defaults"
            ? n.extend({}, n.datepicker._defaults)
            : e
            ? r == "all"
              ? n.extend({}, e.settings)
              : this._get(e, r)
            : null;
        if (
          ((o = r || {}), typeof r == "string" && ((o = {}), (o[r] = f)), e)
        ) {
          this._curInst == e && this._hideDatepicker();
          var c = this._getDateDatepicker(i, !0),
            s = this._getMinMaxDate(e, "min"),
            h = this._getMinMaxDate(e, "max");
          u(e.settings, o);
          s !== null &&
            o.dateFormat !== t &&
            o.minDate === t &&
            (e.settings.minDate = this._formatDate(e, s));
          h !== null &&
            o.dateFormat !== t &&
            o.maxDate === t &&
            (e.settings.maxDate = this._formatDate(e, h));
          this._attachments(n(i), e);
          this._autoSize(e);
          this._setDate(e, c);
          this._updateAlternate(e);
          this._updateDatepicker(e);
        }
      },
      _changeDatepicker: function(n, t, i) {
        this._optionDatepicker(n, t, i);
      },
      _refreshDatepicker: function(n) {
        var t = this._getInst(n);
        t && this._updateDatepicker(t);
      },
      _setDateDatepicker: function(n, t) {
        var i = this._getInst(n);
        i &&
          (this._setDate(i, t),
          this._updateDatepicker(i),
          this._updateAlternate(i));
      },
      _getDateDatepicker: function(n, t) {
        var i = this._getInst(n);
        return (
          i && !i.inline && this._setDateFromField(i, t),
          i ? this._getDate(i) : null
        );
      },
      _doKeyDown: function(t) {
        var i = n.datepicker._getInst(t.target),
          r = !0,
          e = i.dpDiv.is(".ui-datepicker-rtl"),
          u,
          f,
          o;
        if (((i._keyEvent = !0), n.datepicker._datepickerShowing))
          switch (t.keyCode) {
            case 9:
              n.datepicker._hideDatepicker();
              r = !1;
              break;
            case 13:
              return (
                (u = n(
                  "td." +
                    n.datepicker._dayOverClass +
                    ":not(." +
                    n.datepicker._currentClass +
                    ")",
                  i.dpDiv
                )),
                u[0] &&
                  n.datepicker._selectDay(
                    t.target,
                    i.selectedMonth,
                    i.selectedYear,
                    u[0]
                  ),
                (f = n.datepicker._get(i, "onSelect")),
                f
                  ? ((o = n.datepicker._formatDate(i)),
                    f.apply(i.input ? i.input[0] : null, [o, i]))
                  : n.datepicker._hideDatepicker(),
                !1
              );
            case 27:
              n.datepicker._hideDatepicker();
              break;
            case 33:
              n.datepicker._adjustDate(
                t.target,
                t.ctrlKey
                  ? -n.datepicker._get(i, "stepBigMonths")
                  : -n.datepicker._get(i, "stepMonths"),
                "M"
              );
              break;
            case 34:
              n.datepicker._adjustDate(
                t.target,
                t.ctrlKey
                  ? +n.datepicker._get(i, "stepBigMonths")
                  : +n.datepicker._get(i, "stepMonths"),
                "M"
              );
              break;
            case 35:
              (t.ctrlKey || t.metaKey) && n.datepicker._clearDate(t.target);
              r = t.ctrlKey || t.metaKey;
              break;
            case 36:
              (t.ctrlKey || t.metaKey) && n.datepicker._gotoToday(t.target);
              r = t.ctrlKey || t.metaKey;
              break;
            case 37:
              (t.ctrlKey || t.metaKey) &&
                n.datepicker._adjustDate(t.target, e ? 1 : -1, "D");
              r = t.ctrlKey || t.metaKey;
              t.originalEvent.altKey &&
                n.datepicker._adjustDate(
                  t.target,
                  t.ctrlKey
                    ? -n.datepicker._get(i, "stepBigMonths")
                    : -n.datepicker._get(i, "stepMonths"),
                  "M"
                );
              break;
            case 38:
              (t.ctrlKey || t.metaKey) &&
                n.datepicker._adjustDate(t.target, -7, "D");
              r = t.ctrlKey || t.metaKey;
              break;
            case 39:
              (t.ctrlKey || t.metaKey) &&
                n.datepicker._adjustDate(t.target, e ? -1 : 1, "D");
              r = t.ctrlKey || t.metaKey;
              t.originalEvent.altKey &&
                n.datepicker._adjustDate(
                  t.target,
                  t.ctrlKey
                    ? +n.datepicker._get(i, "stepBigMonths")
                    : +n.datepicker._get(i, "stepMonths"),
                  "M"
                );
              break;
            case 40:
              (t.ctrlKey || t.metaKey) &&
                n.datepicker._adjustDate(t.target, 7, "D");
              r = t.ctrlKey || t.metaKey;
              break;
            default:
              r = !1;
          }
        else
          t.keyCode == 36 && t.ctrlKey
            ? n.datepicker._showDatepicker(this)
            : (r = !1);
        r && (t.preventDefault(), t.stopPropagation());
      },
      _doKeyPress: function(i) {
        var f = n.datepicker._getInst(i.target),
          r,
          u;
        if (n.datepicker._get(f, "constrainInput"))
          return (
            (r = n.datepicker._possibleChars(
              n.datepicker._get(f, "dateFormat")
            )),
            (u = String.fromCharCode(i.charCode == t ? i.keyCode : i.charCode)),
            i.ctrlKey || i.metaKey || u < " " || !r || r.indexOf(u) > -1
          );
      },
      _doKeyUp: function(t) {
        var i = n.datepicker._getInst(t.target),
          r;
        if (i.input.val() != i.lastVal)
          try {
            r = n.datepicker.parseDate(
              n.datepicker._get(i, "dateFormat"),
              i.input ? i.input.val() : null,
              n.datepicker._getFormatConfig(i)
            );
            r &&
              (n.datepicker._setDateFromField(i),
              n.datepicker._updateAlternate(i),
              n.datepicker._updateDatepicker(i));
          } catch (u) {
            n.datepicker.log(u);
          }
        return !0;
      },
      _showDatepicker: function(t) {
        var i, o, s, r, f;
        if (
          ((t = t.target || t),
          t.nodeName.toLowerCase() != "input" &&
            (t = n("input", t.parentNode)[0]),
          !n.datepicker._isDisabledDatepicker(t) &&
            n.datepicker._lastInput != t) &&
          ((i = n.datepicker._getInst(t)),
          n.datepicker._curInst &&
            n.datepicker._curInst != i &&
            (n.datepicker._curInst.dpDiv.stop(!0, !0),
            i &&
              n.datepicker._datepickerShowing &&
              n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),
          (o = n.datepicker._get(i, "beforeShow")),
          (s = o ? o.apply(t, [t, i]) : {}),
          s !== !1) &&
          (u(i.settings, s),
          (i.lastVal = null),
          (n.datepicker._lastInput = t),
          n.datepicker._setDateFromField(i),
          n.datepicker._inDialog && (t.value = ""),
          n.datepicker._pos ||
            ((n.datepicker._pos = n.datepicker._findPos(t)),
            (n.datepicker._pos[1] += t.offsetHeight)),
          (r = !1),
          n(t)
            .parents()
            .each(function() {
              return (r |= n(this).css("position") == "fixed"), !r;
            }),
          r &&
            n.browser.opera &&
            ((n.datepicker._pos[0] -= document.documentElement.scrollLeft),
            (n.datepicker._pos[1] -= document.documentElement.scrollTop)),
          (f = { left: n.datepicker._pos[0], top: n.datepicker._pos[1] }),
          (n.datepicker._pos = null),
          i.dpDiv.empty(),
          i.dpDiv.css({
            position: "absolute",
            display: "block",
            top: "-1000px"
          }),
          n.datepicker._updateDatepicker(i),
          (f = n.datepicker._checkOffset(i, f, r)),
          i.dpDiv.css({
            position:
              n.datepicker._inDialog && n.blockUI
                ? "static"
                : r
                ? "fixed"
                : "absolute",
            display: "none",
            left: f.left + "px",
            top: f.top + "px"
          }),
          !i.inline)
        ) {
          var e = n.datepicker._get(i, "showAnim"),
            h = n.datepicker._get(i, "duration"),
            c = function() {
              var r = i.dpDiv.find("iframe.ui-datepicker-cover"),
                t;
              !r.length ||
                ((t = n.datepicker._getBorders(i.dpDiv)),
                r.css({
                  left: -t[0],
                  top: -t[1],
                  width: i.dpDiv.outerWidth(),
                  height: i.dpDiv.outerHeight()
                }));
            };
          i.dpDiv.zIndex(n(t).zIndex() + 1);
          n.datepicker._datepickerShowing = !0;
          n.effects && n.effects[e]
            ? i.dpDiv.show(e, n.datepicker._get(i, "showOptions"), h, c)
            : i.dpDiv[e || "show"](e ? h : null, c);
          (e && h) || c();
          i.input.is(":visible") && !i.input.is(":disabled") && i.input.focus();
          n.datepicker._curInst = i;
        }
      },
      _updateDatepicker: function(t) {
        var s = this,
          i,
          r,
          o;
        s.maxRows = 4;
        i = n.datepicker._getBorders(t.dpDiv);
        f = t;
        t.dpDiv.empty().append(this._generateHTML(t));
        this._attachHandlers(t);
        r = t.dpDiv.find("iframe.ui-datepicker-cover");
        !r.length ||
          r.css({
            left: -i[0],
            top: -i[1],
            width: t.dpDiv.outerWidth(),
            height: t.dpDiv.outerHeight()
          });
        t.dpDiv.find("." + this._dayOverClass + " a").mouseover();
        var u = this._getNumberOfMonths(t),
          e = u[1];
        t.dpDiv
          .removeClass(
            "ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4"
          )
          .width("");
        e > 1 &&
          t.dpDiv
            .addClass("ui-datepicker-multi-" + e)
            .css("width", 17 * e + "em");
        t.dpDiv[(u[0] != 1 || u[1] != 1 ? "add" : "remove") + "Class"](
          "ui-datepicker-multi"
        );
        t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"](
          "ui-datepicker-rtl"
        );
        t == n.datepicker._curInst &&
          n.datepicker._datepickerShowing &&
          t.input &&
          t.input.is(":visible") &&
          !t.input.is(":disabled") &&
          t.input[0] != document.activeElement &&
          t.input.focus();
        t.yearshtml &&
          ((o = t.yearshtml),
          setTimeout(function() {
            o === t.yearshtml &&
              t.yearshtml &&
              t.dpDiv
                .find("select.ui-datepicker-year:first")
                .replaceWith(t.yearshtml);
            o = t.yearshtml = null;
          }, 0));
      },
      _getBorders: function(n) {
        var t = function(n) {
          return { thin: 1, medium: 2, thick: 3 }[n] || n;
        };
        return [
          parseFloat(t(n.css("border-left-width"))),
          parseFloat(t(n.css("border-top-width")))
        ];
      },
      _checkOffset: function(t, i, r) {
        var u = t.dpDiv.outerWidth(),
          f = t.dpDiv.outerHeight(),
          h = t.input ? t.input.outerWidth() : 0,
          o = t.input ? t.input.outerHeight() : 0,
          e =
            document.documentElement.clientWidth +
            (r ? 0 : n(document).scrollLeft()),
          s =
            document.documentElement.clientHeight +
            (r ? 0 : n(document).scrollTop());
        return (
          (i.left -= this._get(t, "isRTL") ? u - h : 0),
          (i.left -=
            r && i.left == t.input.offset().left
              ? n(document).scrollLeft()
              : 0),
          (i.top -=
            r && i.top == t.input.offset().top + o
              ? n(document).scrollTop()
              : 0),
          (i.left -= Math.min(
            i.left,
            i.left + u > e && e > u ? Math.abs(i.left + u - e) : 0
          )),
          (i.top -= Math.min(
            i.top,
            i.top + f > s && s > f ? Math.abs(f + o) : 0
          )),
          i
        );
      },
      _findPos: function(t) {
        for (
          var r = this._getInst(t), u = this._get(r, "isRTL"), i;
          t &&
          (t.type == "hidden" || t.nodeType != 1 || n.expr.filters.hidden(t));

        )
          t = t[u ? "previousSibling" : "nextSibling"];
        return (i = n(t).offset()), [i.left, i.top];
      },
      _hideDatepicker: function(t) {
        var r = this._curInst,
          e;
        if (r && (!t || r == n.data(t, i)) && this._datepickerShowing) {
          var u = this._get(r, "showAnim"),
            o = this._get(r, "duration"),
            f = function() {
              n.datepicker._tidyDialog(r);
            };
          n.effects && n.effects[u]
            ? r.dpDiv.hide(u, n.datepicker._get(r, "showOptions"), o, f)
            : r.dpDiv[
                u == "slideDown"
                  ? "slideUp"
                  : u == "fadeIn"
                  ? "fadeOut"
                  : "hide"
              ](u ? o : null, f);
          u || f();
          this._datepickerShowing = !1;
          e = this._get(r, "onClose");
          e &&
            e.apply(r.input ? r.input[0] : null, [
              r.input ? r.input.val() : "",
              r
            ]);
          this._lastInput = null;
          this._inDialog &&
            (this._dialogInput.css({
              position: "absolute",
              left: "0",
              top: "-100px"
            }),
            n.blockUI && (n.unblockUI(), n("body").append(this.dpDiv)));
          this._inDialog = !1;
        }
      },
      _tidyDialog: function(n) {
        n.dpDiv
          .removeClass(this._dialogClass)
          .unbind(".ui-datepicker-calendar");
      },
      _checkExternalClick: function(t) {
        if (n.datepicker._curInst) {
          var i = n(t.target),
            r = n.datepicker._getInst(i[0]);
          ((i[0].id == n.datepicker._mainDivId ||
            i.parents("#" + n.datepicker._mainDivId).length != 0 ||
            i.hasClass(n.datepicker.markerClassName) ||
            i.closest("." + n.datepicker._triggerClass).length ||
            !n.datepicker._datepickerShowing ||
            (n.datepicker._inDialog && n.blockUI)) &&
            (!i.hasClass(n.datepicker.markerClassName) ||
              n.datepicker._curInst == r)) ||
            n.datepicker._hideDatepicker();
        }
      },
      _adjustDate: function(t, i, r) {
        var f = n(t),
          u = this._getInst(f[0]);
        this._isDisabledDatepicker(f[0]) ||
          (this._adjustInstDate(
            u,
            i + (r == "M" ? this._get(u, "showCurrentAtPos") : 0),
            r
          ),
          this._updateDatepicker(u));
      },
      _gotoToday: function(t) {
        var u = n(t),
          i = this._getInst(u[0]),
          r;
        this._get(i, "gotoCurrent") && i.currentDay
          ? ((i.selectedDay = i.currentDay),
            (i.drawMonth = i.selectedMonth = i.currentMonth),
            (i.drawYear = i.selectedYear = i.currentYear))
          : ((r = new Date()),
            (i.selectedDay = r.getDate()),
            (i.drawMonth = i.selectedMonth = r.getMonth()),
            (i.drawYear = i.selectedYear = r.getFullYear()));
        this._notifyChange(i);
        this._adjustDate(u);
      },
      _selectMonthYear: function(t, i, r) {
        var f = n(t),
          u = this._getInst(f[0]);
        u["selected" + (r == "M" ? "Month" : "Year")] = u[
          "draw" + (r == "M" ? "Month" : "Year")
        ] = parseInt(i.options[i.selectedIndex].value, 10);
        this._notifyChange(u);
        this._adjustDate(f);
      },
      _selectDay: function(t, i, r, u) {
        var e = n(t),
          f;
        n(u).hasClass(this._unselectableClass) ||
          this._isDisabledDatepicker(e[0]) ||
          ((f = this._getInst(e[0])),
          (f.selectedDay = f.currentDay = n("a", u).html()),
          (f.selectedMonth = f.currentMonth = i),
          (f.selectedYear = f.currentYear = r),
          this._selectDate(
            t,
            this._formatDate(f, f.currentDay, f.currentMonth, f.currentYear)
          ));
      },
      _clearDate: function(t) {
        var i = n(t),
          r = this._getInst(i[0]);
        this._selectDate(i, "");
      },
      _selectDate: function(t, i) {
        var f = n(t),
          r = this._getInst(f[0]),
          u;
        i = i != null ? i : this._formatDate(r);
        r.input && r.input.val(i);
        this._updateAlternate(r);
        u = this._get(r, "onSelect");
        u
          ? u.apply(r.input ? r.input[0] : null, [i, r])
          : r.input && r.input.trigger("change");
        r.inline
          ? this._updateDatepicker(r)
          : (this._hideDatepicker(),
            (this._lastInput = r.input[0]),
            typeof r.input[0] != "object" && r.input.focus(),
            (this._lastInput = null));
      },
      _updateAlternate: function(t) {
        var i = this._get(t, "altField");
        if (i) {
          var r = this._get(t, "altFormat") || this._get(t, "dateFormat"),
            u = this._getDate(t),
            f = this.formatDate(r, u, this._getFormatConfig(t));
          n(i).each(function() {
            n(this).val(f);
          });
        }
      },
      noWeekends: function(n) {
        var t = n.getDay();
        return [t > 0 && t < 6, ""];
      },
      iso8601Week: function(n) {
        var t = new Date(n.getTime()),
          i;
        return (
          t.setDate(t.getDate() + 4 - (t.getDay() || 7)),
          (i = t.getTime()),
          t.setMonth(0),
          t.setDate(1),
          Math.floor(Math.round((i - t) / 864e5) / 7) + 1
        );
      },
      parseDate: function(t, i, r) {
        var c, s, w, u;
        if (t == null || i == null) throw "Invalid arguments";
        if (((i = typeof i == "object" ? i.toString() : i + ""), i == ""))
          return null;
        c = (r ? r.shortYearCutoff : null) || this._defaults.shortYearCutoff;
        c =
          typeof c != "string"
            ? c
            : (new Date().getFullYear() % 100) + parseInt(c, 10);
        var k = (r ? r.dayNamesShort : null) || this._defaults.dayNamesShort,
          d = (r ? r.dayNames : null) || this._defaults.dayNames,
          g = (r ? r.monthNamesShort : null) || this._defaults.monthNamesShort,
          nt = (r ? r.monthNames : null) || this._defaults.monthNames,
          f = -1,
          o = -1,
          h = -1,
          v = -1,
          y = !1,
          a = function(n) {
            var i = s + 1 < t.length && t.charAt(s + 1) == n;
            return i && s++, i;
          },
          l = function(n) {
            var r = a(n),
              u =
                n == "@"
                  ? 14
                  : n == "!"
                  ? 20
                  : n == "y" && r
                  ? 4
                  : n == "o"
                  ? 3
                  : 2,
              f = new RegExp("^\\d{1," + u + "}"),
              t = i.substring(e).match(f);
            if (!t) throw "Missing number at position " + e;
            return (e += t[0].length), parseInt(t[0], 10);
          },
          b = function(t, r, u) {
            var o = n
                .map(a(t) ? u : r, function(n, t) {
                  return [[t, n]];
                })
                .sort(function(n, t) {
                  return -(n[1].length - t[1].length);
                }),
              f = -1;
            if (
              (n.each(o, function(n, t) {
                var r = t[1];
                if (i.substr(e, r.length).toLowerCase() == r.toLowerCase())
                  return (f = t[0]), (e += r.length), !1;
              }),
              f != -1)
            )
              return f + 1;
            throw "Unknown name at position " + e;
          },
          p = function() {
            if (i.charAt(e) != t.charAt(s))
              throw "Unexpected literal at position " + e;
            e++;
          },
          e = 0;
        for (s = 0; s < t.length; s++)
          if (y) t.charAt(s) != "'" || a("'") ? p() : (y = !1);
          else
            switch (t.charAt(s)) {
              case "d":
                h = l("d");
                break;
              case "D":
                b("D", k, d);
                break;
              case "o":
                v = l("o");
                break;
              case "m":
                o = l("m");
                break;
              case "M":
                o = b("M", g, nt);
                break;
              case "y":
                f = l("y");
                break;
              case "@":
                u = new Date(l("@"));
                f = u.getFullYear();
                o = u.getMonth() + 1;
                h = u.getDate();
                break;
              case "!":
                u = new Date((l("!") - this._ticksTo1970) / 1e4);
                f = u.getFullYear();
                o = u.getMonth() + 1;
                h = u.getDate();
                break;
              case "'":
                a("'") ? p() : (y = !0);
                break;
              default:
                p();
            }
        if (e < i.length)
          throw "Extra/unparsed characters found in date: " + i.substring(e);
        if (
          (f == -1
            ? (f = new Date().getFullYear())
            : f < 100 &&
              (f +=
                new Date().getFullYear() -
                (new Date().getFullYear() % 100) +
                (f <= c ? 0 : -100)),
          v > -1)
        ) {
          o = 1;
          h = v;
          do {
            if (((w = this._getDaysInMonth(f, o - 1)), h <= w)) break;
            o++;
            h -= w;
          } while (1);
        }
        if (
          ((u = this._daylightSavingAdjust(new Date(f, o - 1, h))),
          u.getFullYear() != f || u.getMonth() + 1 != o || u.getDate() != h)
        )
          throw "Invalid date";
        return u;
      },
      ATOM: "yy-mm-dd",
      COOKIE: "D, dd M yy",
      ISO_8601: "yy-mm-dd",
      RFC_822: "D, d M y",
      RFC_850: "DD, dd-M-y",
      RFC_1036: "D, d M y",
      RFC_1123: "D, d M yy",
      RFC_2822: "D, d M yy",
      RSS: "D, d M y",
      TICKS: "!",
      TIMESTAMP: "@",
      W3C: "yy-mm-dd",
      _ticksTo1970:
        (718685 +
          Math.floor(1970 / 4) -
          Math.floor(1970 / 100) +
          Math.floor(1970 / 400)) *
        864e9,
      formatDate: function(n, t, i) {
        var u;
        if (!t) return "";
        var h = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
          c = (i ? i.dayNames : null) || this._defaults.dayNames,
          l = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
          a = (i ? i.monthNames : null) || this._defaults.monthNames,
          f = function(t) {
            var i = u + 1 < n.length && n.charAt(u + 1) == t;
            return i && u++, i;
          },
          e = function(n, t, i) {
            var r = "" + t;
            if (f(n)) while (r.length < i) r = "0" + r;
            return r;
          },
          s = function(n, t, i, r) {
            return f(n) ? r[t] : i[t];
          },
          r = "",
          o = !1;
        if (t)
          for (u = 0; u < n.length; u++)
            if (o) n.charAt(u) != "'" || f("'") ? (r += n.charAt(u)) : (o = !1);
            else
              switch (n.charAt(u)) {
                case "d":
                  r += e("d", t.getDate(), 2);
                  break;
                case "D":
                  r += s("D", t.getDay(), h, c);
                  break;
                case "o":
                  r += e(
                    "o",
                    Math.round(
                      (new Date(
                        t.getFullYear(),
                        t.getMonth(),
                        t.getDate()
                      ).getTime() -
                        new Date(t.getFullYear(), 0, 0).getTime()) /
                        864e5
                    ),
                    3
                  );
                  break;
                case "m":
                  r += e("m", t.getMonth() + 1, 2);
                  break;
                case "M":
                  r += s("M", t.getMonth(), l, a);
                  break;
                case "y":
                  r += f("y")
                    ? t.getFullYear()
                    : (t.getYear() % 100 < 10 ? "0" : "") + (t.getYear() % 100);
                  break;
                case "@":
                  r += t.getTime();
                  break;
                case "!":
                  r += t.getTime() * 1e4 + this._ticksTo1970;
                  break;
                case "'":
                  f("'") ? (r += "'") : (o = !0);
                  break;
                default:
                  r += n.charAt(u);
              }
        return r;
      },
      _possibleChars: function(n) {
        for (
          var i = "",
            r = !1,
            u = function(i) {
              var r = t + 1 < n.length && n.charAt(t + 1) == i;
              return r && t++, r;
            },
            t = 0;
          t < n.length;
          t++
        )
          if (r) n.charAt(t) != "'" || u("'") ? (i += n.charAt(t)) : (r = !1);
          else
            switch (n.charAt(t)) {
              case "d":
              case "m":
              case "y":
              case "@":
                i += "0123456789";
                break;
              case "D":
              case "M":
                return null;
              case "'":
                u("'") ? (i += "'") : (r = !0);
                break;
              default:
                i += n.charAt(t);
            }
        return i;
      },
      _get: function(n, i) {
        return n.settings[i] !== t ? n.settings[i] : this._defaults[i];
      },
      _setDateFromField: function(n, t) {
        var u, r, i, f, e;
        if (n.input.val() != n.lastVal) {
          u = this._get(n, "dateFormat");
          r = n.lastVal = n.input ? n.input.val() : null;
          i = f = this._getDefaultDate(n);
          e = this._getFormatConfig(n);
          try {
            i = this.parseDate(u, r, e) || f;
          } catch (o) {
            this.log(o);
            r = t ? "" : r;
          }
          n.selectedDay = i.getDate();
          n.drawMonth = n.selectedMonth = i.getMonth();
          n.drawYear = n.selectedYear = i.getFullYear();
          n.currentDay = r ? i.getDate() : 0;
          n.currentMonth = r ? i.getMonth() : 0;
          n.currentYear = r ? i.getFullYear() : 0;
          this._adjustInstDate(n);
        }
      },
      _getDefaultDate: function(n) {
        return this._restrictMinMax(
          n,
          this._determineDate(n, this._get(n, "defaultDate"), new Date())
        );
      },
      _determineDate: function(t, i, r) {
        var f = function(n) {
            var t = new Date();
            return t.setDate(t.getDate() + n), t;
          },
          e = function(i) {
            try {
              return n.datepicker.parseDate(
                n.datepicker._get(t, "dateFormat"),
                i,
                n.datepicker._getFormatConfig(t)
              );
            } catch (h) {}
            for (
              var o =
                  (i.toLowerCase().match(/^c/)
                    ? n.datepicker._getDate(t)
                    : null) || new Date(),
                f = o.getFullYear(),
                e = o.getMonth(),
                r = o.getDate(),
                s = /([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
                u = s.exec(i);
              u;

            ) {
              switch (u[2] || "d") {
                case "d":
                case "D":
                  r += parseInt(u[1], 10);
                  break;
                case "w":
                case "W":
                  r += parseInt(u[1], 10) * 7;
                  break;
                case "m":
                case "M":
                  e += parseInt(u[1], 10);
                  r = Math.min(r, n.datepicker._getDaysInMonth(f, e));
                  break;
                case "y":
                case "Y":
                  f += parseInt(u[1], 10);
                  r = Math.min(r, n.datepicker._getDaysInMonth(f, e));
              }
              u = s.exec(i);
            }
            return new Date(f, e, r);
          },
          u =
            i == null || i === ""
              ? r
              : typeof i == "string"
              ? e(i)
              : typeof i == "number"
              ? isNaN(i)
                ? r
                : f(i)
              : new Date(i.getTime());
        return (
          (u = u && u.toString() == "Invalid Date" ? r : u),
          u &&
            (u.setHours(0),
            u.setMinutes(0),
            u.setSeconds(0),
            u.setMilliseconds(0)),
          this._daylightSavingAdjust(u)
        );
      },
      _daylightSavingAdjust: function(n) {
        return n
          ? (n.setHours(n.getHours() > 12 ? n.getHours() + 2 : 0), n)
          : null;
      },
      _setDate: function(n, t, i) {
        var u = !t,
          f = n.selectedMonth,
          e = n.selectedYear,
          r = this._restrictMinMax(n, this._determineDate(n, t, new Date()));
        n.selectedDay = n.currentDay = r.getDate();
        n.drawMonth = n.selectedMonth = n.currentMonth = r.getMonth();
        n.drawYear = n.selectedYear = n.currentYear = r.getFullYear();
        (f == n.selectedMonth && e == n.selectedYear) ||
          i ||
          this._notifyChange(n);
        this._adjustInstDate(n);
        n.input && n.input.val(u ? "" : this._formatDate(n));
      },
      _getDate: function(n) {
        return !n.currentYear || (n.input && n.input.val() == "")
          ? null
          : this._daylightSavingAdjust(
              new Date(n.currentYear, n.currentMonth, n.currentDay)
            );
      },
      _attachHandlers: function(t) {
        var u = this._get(t, "stepMonths"),
          i = "#" + t.id.replace(/\\\\/g, "\\");
        t.dpDiv.find("[data-handler]").map(function() {
          var t = {
            prev: function() {
              window["DP_jQuery_" + r].datepicker._adjustDate(i, -u, "M");
            },
            next: function() {
              window["DP_jQuery_" + r].datepicker._adjustDate(i, +u, "M");
            },
            hide: function() {
              window["DP_jQuery_" + r].datepicker._hideDatepicker();
            },
            today: function() {
              window["DP_jQuery_" + r].datepicker._gotoToday(i);
            },
            selectDay: function() {
              return (
                window["DP_jQuery_" + r].datepicker._selectDay(
                  i,
                  +this.getAttribute("data-month"),
                  +this.getAttribute("data-year"),
                  this
                ),
                !1
              );
            },
            selectMonth: function() {
              return (
                window["DP_jQuery_" + r].datepicker._selectMonthYear(
                  i,
                  this,
                  "M"
                ),
                !1
              );
            },
            selectYear: function() {
              return (
                window["DP_jQuery_" + r].datepicker._selectMonthYear(
                  i,
                  this,
                  "Y"
                ),
                !1
              );
            }
          };
          n(this).bind(
            this.getAttribute("data-event"),
            t[this.getAttribute("data-handler")]
          );
        });
      },
      _generateHTML: function(t) {
        var l = new Date(),
          d,
          h,
          ut,
          c,
          p,
          ot,
          w,
          st,
          ht,
          ct,
          r,
          at,
          vt,
          s;
        l = this._daylightSavingAdjust(
          new Date(l.getFullYear(), l.getMonth(), l.getDate())
        );
        var e = this._get(t, "isRTL"),
          fi = this._get(t, "showButtonPanel"),
          pt = this._get(t, "hideIfNoPrevNext"),
          tt = this._get(t, "navigationAsDateFormat"),
          o = this._getNumberOfMonths(t),
          ei = this._get(t, "showCurrentAtPos"),
          wt = this._get(t, "stepMonths"),
          it = o[0] != 1 || o[1] != 1,
          rt = this._daylightSavingAdjust(
            t.currentDay
              ? new Date(t.currentYear, t.currentMonth, t.currentDay)
              : new Date(9999, 9, 9)
          ),
          y = this._getMinMaxDate(t, "min"),
          a = this._getMinMaxDate(t, "max"),
          i = t.drawMonth - ei,
          u = t.drawYear;
        if ((i < 0 && ((i += 12), u--), a))
          for (
            d = this._daylightSavingAdjust(
              new Date(
                a.getFullYear(),
                a.getMonth() - o[0] * o[1] + 1,
                a.getDate()
              )
            ),
              d = y && d < y ? y : d;
            this._daylightSavingAdjust(new Date(u, i, 1)) > d;

          )
            i--, i < 0 && ((i = 11), u--);
        t.drawMonth = i;
        t.drawYear = u;
        h = this._get(t, "prevText");
        h = tt
          ? this.formatDate(
              h,
              this._daylightSavingAdjust(new Date(u, i - wt, 1)),
              this._getFormatConfig(t)
            )
          : h;
        ut = this._canAdjustMonth(t, -1, u, i)
          ? '<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="' +
            h +
            '"><span class="ui-icon ui-icon-circle-triangle-' +
            (e ? "e" : "w") +
            '">' +
            h +
            "</span></a>"
          : pt
          ? ""
          : '<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="' +
            h +
            '"><span class="ui-icon ui-icon-circle-triangle-' +
            (e ? "e" : "w") +
            '">' +
            h +
            "</span></a>";
        c = this._get(t, "nextText");
        c = tt
          ? this.formatDate(
              c,
              this._daylightSavingAdjust(new Date(u, i + wt, 1)),
              this._getFormatConfig(t)
            )
          : c;
        var bt = this._canAdjustMonth(t, 1, u, i)
            ? '<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="' +
              c +
              '"><span class="ui-icon ui-icon-circle-triangle-' +
              (e ? "w" : "e") +
              '">' +
              c +
              "</span></a>"
            : pt
            ? ""
            : '<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="' +
              c +
              '"><span class="ui-icon ui-icon-circle-triangle-' +
              (e ? "w" : "e") +
              '">' +
              c +
              "</span></a>",
          g = this._get(t, "currentText"),
          kt = this._get(t, "gotoCurrent") && t.currentDay ? rt : l;
        g = tt ? this.formatDate(g, kt, this._getFormatConfig(t)) : g;
        var dt = t.inline
            ? ""
            : '<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">' +
              this._get(t, "closeText") +
              "</button>",
          oi = fi
            ? '<div class="ui-datepicker-buttonpane ui-widget-content">' +
              (e ? dt : "") +
              (this._isInRange(t, kt)
                ? '<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">' +
                  g +
                  "</button>"
                : "") +
              (e ? "" : dt) +
              "</div>"
            : "",
          v = parseInt(this._get(t, "firstDay"), 10);
        v = isNaN(v) ? 0 : v;
        var gt = this._get(t, "showWeek"),
          si = this._get(t, "dayNames"),
          vi = this._get(t, "dayNamesShort"),
          hi = this._get(t, "dayNamesMin"),
          ci = this._get(t, "monthNames"),
          li = this._get(t, "monthNamesShort"),
          ni = this._get(t, "beforeShowDay"),
          ft = this._get(t, "showOtherMonths"),
          ai = this._get(t, "selectOtherMonths"),
          yi = this._get(t, "calculateWeek") || this.iso8601Week,
          ti = this._getDefaultDate(t),
          et = "";
        for (p = 0; p < o[0]; p++) {
          for (ot = "", this.maxRows = 4, w = 0; w < o[1]; w++) {
            var ii = this._daylightSavingAdjust(new Date(u, i, t.selectedDay)),
              b = " ui-corner-all",
              f = "";
            if (it) {
              if (((f += '<div class="ui-datepicker-group'), o[1] > 1))
                switch (w) {
                  case 0:
                    f += " ui-datepicker-group-first";
                    b = " ui-corner-" + (e ? "right" : "left");
                    break;
                  case o[1] - 1:
                    f += " ui-datepicker-group-last";
                    b = " ui-corner-" + (e ? "left" : "right");
                    break;
                  default:
                    f += " ui-datepicker-group-middle";
                    b = "";
                }
              f += '">';
            }
            for (
              f +=
                '<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix' +
                b +
                '">' +
                (/all|left/.test(b) && p == 0 ? (e ? bt : ut) : "") +
                (/all|right/.test(b) && p == 0 ? (e ? ut : bt) : "") +
                this._generateMonthYearHeader(
                  t,
                  i,
                  u,
                  y,
                  a,
                  p > 0 || w > 0,
                  ci,
                  li
                ) +
                '</div><table class="ui-datepicker-calendar"><thead><tr>',
                st = gt
                  ? '<th class="ui-datepicker-week-col">' +
                    this._get(t, "weekHeader") +
                    "</th>"
                  : "",
                s = 0;
              s < 7;
              s++
            )
              (ht = (s + v) % 7),
                (st +=
                  "<th" +
                  ((s + v + 6) % 7 >= 5
                    ? ' class="ui-datepicker-week-end"'
                    : "") +
                  '><span title="' +
                  si[ht] +
                  '">' +
                  hi[ht] +
                  "</span></th>");
            f += st + "</tr></thead><tbody>";
            ct = this._getDaysInMonth(u, i);
            u == t.selectedYear &&
              i == t.selectedMonth &&
              (t.selectedDay = Math.min(t.selectedDay, ct));
            var ri = (this._getFirstDayOfMonth(u, i) - v + 7) % 7,
              lt = Math.ceil((ri + ct) / 7),
              ui = it ? (this.maxRows > lt ? this.maxRows : lt) : lt;
            for (
              this.maxRows = ui,
                r = this._daylightSavingAdjust(new Date(u, i, 1 - ri)),
                at = 0;
              at < ui;
              at++
            ) {
              for (
                f += "<tr>",
                  vt = gt
                    ? '<td class="ui-datepicker-week-col">' +
                      this._get(t, "calculateWeek")(r) +
                      "</td>"
                    : "",
                  s = 0;
                s < 7;
                s++
              ) {
                var nt = ni
                    ? ni.apply(t.input ? t.input[0] : null, [r])
                    : [!0, ""],
                  k = r.getMonth() != i,
                  yt = (k && !ai) || !nt[0] || (y && r < y) || (a && r > a);
                vt +=
                  '<td class="' +
                  ((s + v + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") +
                  (k ? " ui-datepicker-other-month" : "") +
                  ((r.getTime() == ii.getTime() &&
                    i == t.selectedMonth &&
                    t._keyEvent) ||
                  (ti.getTime() == r.getTime() && ti.getTime() == ii.getTime())
                    ? " " + this._dayOverClass
                    : "") +
                  (yt
                    ? " " + this._unselectableClass + " ui-state-disabled"
                    : "") +
                  (k && !ft
                    ? ""
                    : " " +
                      nt[1] +
                      (r.getTime() == rt.getTime()
                        ? " " + this._currentClass
                        : "") +
                      (r.getTime() == l.getTime()
                        ? " ui-datepicker-today"
                        : "")) +
                  '"' +
                  ((!k || ft) && nt[2] ? ' title="' + nt[2] + '"' : "") +
                  (yt
                    ? ""
                    : ' data-handler="selectDay" data-event="click" data-month="' +
                      r.getMonth() +
                      '" data-year="' +
                      r.getFullYear() +
                      '"') +
                  ">" +
                  (k && !ft
                    ? "&#xa0;"
                    : yt
                    ? '<span class="ui-state-default">' +
                      r.getDate() +
                      "</span>"
                    : '<a class="ui-state-default' +
                      (r.getTime() == l.getTime()
                        ? " ui-state-highlight"
                        : "") +
                      (r.getTime() == rt.getTime() ? " ui-state-active" : "") +
                      (k ? " ui-priority-secondary" : "") +
                      '" href="#">' +
                      r.getDate() +
                      "</a>") +
                  "</td>";
                r.setDate(r.getDate() + 1);
                r = this._daylightSavingAdjust(r);
              }
              f += vt + "</tr>";
            }
            i++;
            i > 11 && ((i = 0), u++);
            f +=
              "</tbody></table>" +
              (it
                ? "</div>" +
                  (o[0] > 0 && w == o[1] - 1
                    ? '<div class="ui-datepicker-row-break"></div>'
                    : "")
                : "");
            ot += f;
          }
          et += ot;
        }
        return (
          (et +=
            oi +
            (n.browser.msie && parseInt(n.browser.version, 10) < 7 && !t.inline
              ? '<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>'
              : "")),
          (t._keyEvent = !1),
          et
        );
      },
      _generateMonthYearHeader: function(n, t, i, r, u, f, e, o) {
        var v = this._get(n, "changeMonth"),
          y = this._get(n, "changeYear"),
          p = this._get(n, "showMonthAfterYear"),
          c = '<div class="ui-datepicker-title">',
          l = "",
          w,
          b,
          h;
        if (f || !v)
          l += '<span class="ui-datepicker-month">' + e[t] + "</span>";
        else {
          for (
            w = r && r.getFullYear() == i,
              b = u && u.getFullYear() == i,
              l +=
                '<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">',
              h = 0;
            h < 12;
            h++
          )
            (!w || h >= r.getMonth()) &&
              (!b || h <= u.getMonth()) &&
              (l +=
                '<option value="' +
                h +
                '"' +
                (h == t ? ' selected="selected"' : "") +
                ">" +
                o[h] +
                "</option>");
          l += "</select>";
        }
        if ((p || (c += l + (f || !(v && y) ? "&#xa0;" : "")), !n.yearshtml))
          if (((n.yearshtml = ""), f || !y))
            c += '<span class="ui-datepicker-year">' + i + "</span>";
          else {
            var k = this._get(n, "yearRange").split(":"),
              d = new Date().getFullYear(),
              g = function(n) {
                var t = n.match(/c[+-].*/)
                  ? i + parseInt(n.substring(1), 10)
                  : n.match(/[+-].*/)
                  ? d + parseInt(n, 10)
                  : parseInt(n, 10);
                return isNaN(t) ? d : t;
              },
              s = g(k[0]),
              a = Math.max(s, g(k[1] || ""));
            for (
              s = r ? Math.max(s, r.getFullYear()) : s,
                a = u ? Math.min(a, u.getFullYear()) : a,
                n.yearshtml +=
                  '<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';
              s <= a;
              s++
            )
              n.yearshtml +=
                '<option value="' +
                s +
                '"' +
                (s == i ? ' selected="selected"' : "") +
                ">" +
                s +
                "</option>";
            n.yearshtml += "</select>";
            c += n.yearshtml;
            n.yearshtml = null;
          }
        return (
          (c += this._get(n, "yearSuffix")),
          p && (c += (f || !(v && y) ? "&#xa0;" : "") + l),
          c + "</div>"
        );
      },
      _adjustInstDate: function(n, t, i) {
        var u = n.drawYear + (i == "Y" ? t : 0),
          f = n.drawMonth + (i == "M" ? t : 0),
          e =
            Math.min(n.selectedDay, this._getDaysInMonth(u, f)) +
            (i == "D" ? t : 0),
          r = this._restrictMinMax(
            n,
            this._daylightSavingAdjust(new Date(u, f, e))
          );
        n.selectedDay = r.getDate();
        n.drawMonth = n.selectedMonth = r.getMonth();
        n.drawYear = n.selectedYear = r.getFullYear();
        (i == "M" || i == "Y") && this._notifyChange(n);
      },
      _restrictMinMax: function(n, t) {
        var i = this._getMinMaxDate(n, "min"),
          r = this._getMinMaxDate(n, "max"),
          u = i && t < i ? i : t;
        return r && u > r ? r : u;
      },
      _notifyChange: function(n) {
        var t = this._get(n, "onChangeMonthYear");
        t &&
          t.apply(n.input ? n.input[0] : null, [
            n.selectedYear,
            n.selectedMonth + 1,
            n
          ]);
      },
      _getNumberOfMonths: function(n) {
        var t = this._get(n, "numberOfMonths");
        return t == null ? [1, 1] : typeof t == "number" ? [1, t] : t;
      },
      _getMinMaxDate: function(n, t) {
        return this._determineDate(n, this._get(n, t + "Date"), null);
      },
      _getDaysInMonth: function(n, t) {
        return 32 - this._daylightSavingAdjust(new Date(n, t, 32)).getDate();
      },
      _getFirstDayOfMonth: function(n, t) {
        return new Date(n, t, 1).getDay();
      },
      _canAdjustMonth: function(n, t, i, r) {
        var f = this._getNumberOfMonths(n),
          u = this._daylightSavingAdjust(
            new Date(i, r + (t < 0 ? t : f[0] * f[1]), 1)
          );
        return (
          t < 0 &&
            u.setDate(this._getDaysInMonth(u.getFullYear(), u.getMonth())),
          this._isInRange(n, u)
        );
      },
      _isInRange: function(n, t) {
        var i = this._getMinMaxDate(n, "min"),
          r = this._getMinMaxDate(n, "max");
        return (
          (!i || t.getTime() >= i.getTime()) &&
          (!r || t.getTime() <= r.getTime())
        );
      },
      _getFormatConfig: function(n) {
        var t = this._get(n, "shortYearCutoff");
        return (
          (t =
            typeof t != "string"
              ? t
              : (new Date().getFullYear() % 100) + parseInt(t, 10)),
          {
            shortYearCutoff: t,
            dayNamesShort: this._get(n, "dayNamesShort"),
            dayNames: this._get(n, "dayNames"),
            monthNamesShort: this._get(n, "monthNamesShort"),
            monthNames: this._get(n, "monthNames")
          }
        );
      },
      _formatDate: function(n, t, i, r) {
        t ||
          ((n.currentDay = n.selectedDay),
          (n.currentMonth = n.selectedMonth),
          (n.currentYear = n.selectedYear));
        var u = t
          ? typeof t == "object"
            ? t
            : this._daylightSavingAdjust(new Date(r, i, t))
          : this._daylightSavingAdjust(
              new Date(n.currentYear, n.currentMonth, n.currentDay)
            );
        return this.formatDate(
          this._get(n, "dateFormat"),
          u,
          this._getFormatConfig(n)
        );
      }
    });
    n.fn.datepicker = function(t) {
      if (!this.length) return this;
      n.datepicker.initialized ||
        (n(document)
          .mousedown(n.datepicker._checkExternalClick)
          .find("body")
          .append(n.datepicker.dpDiv),
        (n.datepicker.initialized = !0));
      var i = Array.prototype.slice.call(arguments, 1);
      return typeof t == "string" &&
        (t == "isDisabled" || t == "getDate" || t == "widget")
        ? n.datepicker["_" + t + "Datepicker"].apply(
            n.datepicker,
            [this[0]].concat(i)
          )
        : t == "option" &&
          arguments.length == 2 &&
          typeof arguments[1] == "string"
        ? n.datepicker["_" + t + "Datepicker"].apply(
            n.datepicker,
            [this[0]].concat(i)
          )
        : this.each(function() {
            typeof t == "string"
              ? n.datepicker["_" + t + "Datepicker"].apply(
                  n.datepicker,
                  [this].concat(i)
                )
              : n.datepicker._attachDatepicker(this, t);
          });
    };
    n.datepicker = new e();
    n.datepicker.initialized = !1;
    n.datepicker.uuid = new Date().getTime();
    n.datepicker.version = "1.8.24";
    window["DP_jQuery_" + r] = n;
  })(jQuery),
  (function(n, t) {
    n.widget("ui.progressbar", {
      options: { value: 0, max: 100 },
      min: 0,
      _create: function() {
        this.element
          .addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all")
          .attr({
            role: "progressbar",
            "aria-valuemin": this.min,
            "aria-valuemax": this.options.max,
            "aria-valuenow": this._value()
          });
        this.valueDiv = n(
          "<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>"
        ).appendTo(this.element);
        this.oldValue = this._value();
        this._refreshValue();
      },
      destroy: function() {
        this.element
          .removeClass(
            "ui-progressbar ui-widget ui-widget-content ui-corner-all"
          )
          .removeAttr("role")
          .removeAttr("aria-valuemin")
          .removeAttr("aria-valuemax")
          .removeAttr("aria-valuenow");
        this.valueDiv.remove();
        n.Widget.prototype.destroy.apply(this, arguments);
      },
      value: function(n) {
        return n === t ? this._value() : (this._setOption("value", n), this);
      },
      _setOption: function(t, i) {
        t === "value" &&
          ((this.options.value = i),
          this._refreshValue(),
          this._value() === this.options.max && this._trigger("complete"));
        n.Widget.prototype._setOption.apply(this, arguments);
      },
      _value: function() {
        var n = this.options.value;
        return (
          typeof n != "number" && (n = 0),
          Math.min(this.options.max, Math.max(this.min, n))
        );
      },
      _percentage: function() {
        return (100 * this._value()) / this.options.max;
      },
      _refreshValue: function() {
        var n = this.value(),
          t = this._percentage();
        this.oldValue !== n && ((this.oldValue = n), this._trigger("change"));
        this.valueDiv
          .toggle(n > this.min)
          .toggleClass("ui-corner-right", n === this.options.max)
          .width(t.toFixed(0) + "%");
        this.element.attr("aria-valuenow", n);
      }
    });
    n.extend(n.ui.progressbar, { version: "1.8.24" });
  })(jQuery);
jQuery.effects ||
  (function(n, t) {
    function f(t) {
      var i;
      return t && t.constructor == Array && t.length == 3
        ? t
        : (i = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(
            t
          ))
        ? [parseInt(i[1], 10), parseInt(i[2], 10), parseInt(i[3], 10)]
        : (i = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(
            t
          ))
        ? [
            parseFloat(i[1]) * 2.55,
            parseFloat(i[2]) * 2.55,
            parseFloat(i[3]) * 2.55
          ]
        : (i = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))
        ? [parseInt(i[1], 16), parseInt(i[2], 16), parseInt(i[3], 16)]
        : (i = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))
        ? [
            parseInt(i[1] + i[1], 16),
            parseInt(i[2] + i[2], 16),
            parseInt(i[3] + i[3], 16)
          ]
        : (i = /rgba\(0, 0, 0, 0\)/.exec(t))
        ? e.transparent
        : e[n.trim(t).toLowerCase()];
    }
    function c(t, i) {
      var r;
      do {
        if (
          ((r = (n.curCSS || n.css)(t, i)),
          (r != "" && r != "transparent") || n.nodeName(t, "body"))
        )
          break;
        i = "backgroundColor";
      } while ((t = t.parentNode));
      return f(r);
    }
    function s() {
      var n = document.defaultView
          ? document.defaultView.getComputedStyle(this, null)
          : this.currentStyle,
        i = {},
        t,
        u,
        r;
      if (n && n.length && n[0] && n[n[0]])
        for (r = n.length; r--; )
          (t = n[r]),
            typeof n[t] == "string" &&
              ((u = t.replace(/\-(\w)/g, function(n, t) {
                return t.toUpperCase();
              })),
              (i[u] = n[t]));
      else for (t in n) typeof n[t] == "string" && (i[t] = n[t]);
      return i;
    }
    function h(t) {
      var i, r;
      for (i in t)
        (r = t[i]),
          (r == null ||
            n.isFunction(r) ||
            i in l ||
            /scrollbar/.test(i) ||
            (!/color/i.test(i) && isNaN(parseFloat(r)))) &&
            delete t[i];
      return t;
    }
    function a(n, t) {
      var r = { _: 0 },
        i;
      for (i in t) n[i] != t[i] && (r[i] = t[i]);
      return r;
    }
    function i(t, i, r, u) {
      return (
        typeof t == "object" && ((u = i), (r = null), (i = t), (t = i.effect)),
        n.isFunction(i) && ((u = i), (r = null), (i = {})),
        (typeof i == "number" || n.fx.speeds[i]) &&
          ((u = r), (r = i), (i = {})),
        n.isFunction(r) && ((u = r), (r = null)),
        (i = i || {}),
        (r = r || i.duration),
        (r = n.fx.off
          ? 0
          : typeof r == "number"
          ? r
          : r in n.fx.speeds
          ? n.fx.speeds[r]
          : n.fx.speeds._default),
        (u = u || i.complete),
        [t, i, r, u]
      );
    }
    function u(t) {
      return !t || typeof t == "number" || n.fx.speeds[t]
        ? !0
        : typeof t == "string" && !n.effects[t]
        ? !0
        : !1;
    }
    var r;
    n.effects = {};
    n.each(
      [
        "backgroundColor",
        "borderBottomColor",
        "borderLeftColor",
        "borderRightColor",
        "borderTopColor",
        "borderColor",
        "color",
        "outlineColor"
      ],
      function(t, i) {
        n.fx.step[i] = function(n) {
          n.colorInit ||
            ((n.start = c(n.elem, i)), (n.end = f(n.end)), (n.colorInit = !0));
          n.elem.style[i] =
            "rgb(" +
            Math.max(
              Math.min(
                parseInt(n.pos * (n.end[0] - n.start[0]) + n.start[0], 10),
                255
              ),
              0
            ) +
            "," +
            Math.max(
              Math.min(
                parseInt(n.pos * (n.end[1] - n.start[1]) + n.start[1], 10),
                255
              ),
              0
            ) +
            "," +
            Math.max(
              Math.min(
                parseInt(n.pos * (n.end[2] - n.start[2]) + n.start[2], 10),
                255
              ),
              0
            ) +
            ")";
        };
      }
    );
    var e = {
        aqua: [0, 255, 255],
        azure: [240, 255, 255],
        beige: [245, 245, 220],
        black: [0, 0, 0],
        blue: [0, 0, 255],
        brown: [165, 42, 42],
        cyan: [0, 255, 255],
        darkblue: [0, 0, 139],
        darkcyan: [0, 139, 139],
        darkgrey: [169, 169, 169],
        darkgreen: [0, 100, 0],
        darkkhaki: [189, 183, 107],
        darkmagenta: [139, 0, 139],
        darkolivegreen: [85, 107, 47],
        darkorange: [255, 140, 0],
        darkorchid: [153, 50, 204],
        darkred: [139, 0, 0],
        darksalmon: [233, 150, 122],
        darkviolet: [148, 0, 211],
        fuchsia: [255, 0, 255],
        gold: [255, 215, 0],
        green: [0, 128, 0],
        indigo: [75, 0, 130],
        khaki: [240, 230, 140],
        lightblue: [173, 216, 230],
        lightcyan: [224, 255, 255],
        lightgreen: [144, 238, 144],
        lightgrey: [211, 211, 211],
        lightpink: [255, 182, 193],
        lightyellow: [255, 255, 224],
        lime: [0, 255, 0],
        magenta: [255, 0, 255],
        maroon: [128, 0, 0],
        navy: [0, 0, 128],
        olive: [128, 128, 0],
        orange: [255, 165, 0],
        pink: [255, 192, 203],
        purple: [128, 0, 128],
        violet: [128, 0, 128],
        red: [255, 0, 0],
        silver: [192, 192, 192],
        white: [255, 255, 255],
        yellow: [255, 255, 0],
        transparent: [255, 255, 255]
      },
      o = ["add", "remove", "toggle"],
      l = {
        border: 1,
        borderBottom: 1,
        borderColor: 1,
        borderLeft: 1,
        borderRight: 1,
        borderTop: 1,
        borderWidth: 1,
        margin: 1,
        padding: 1
      };
    n.effects.animateClass = function(t, i, r, u) {
      return (
        n.isFunction(r) && ((u = r), (r = null)),
        this.queue(function() {
          var f = n(this),
            e = f.attr("style") || " ",
            l = h(s.call(this)),
            c,
            v = f.attr("class") || "";
          n.each(o, function(n, i) {
            t[i] && f[i + "Class"](t[i]);
          });
          c = h(s.call(this));
          f.attr("class", v);
          f.animate(a(l, c), {
            queue: !1,
            duration: i,
            easing: r,
            complete: function() {
              n.each(o, function(n, i) {
                t[i] && f[i + "Class"](t[i]);
              });
              typeof f.attr("style") == "object"
                ? ((f.attr("style").cssText = ""),
                  (f.attr("style").cssText = e))
                : f.attr("style", e);
              u && u.apply(this, arguments);
              n.dequeue(this);
            }
          });
        })
      );
    };
    n.fn.extend({
      _addClass: n.fn.addClass,
      addClass: function(t, i, r, u) {
        return i
          ? n.effects.animateClass.apply(this, [{ add: t }, i, r, u])
          : this._addClass(t);
      },
      _removeClass: n.fn.removeClass,
      removeClass: function(t, i, r, u) {
        return i
          ? n.effects.animateClass.apply(this, [{ remove: t }, i, r, u])
          : this._removeClass(t);
      },
      _toggleClass: n.fn.toggleClass,
      toggleClass: function(i, r, u, f, e) {
        return typeof r == "boolean" || r === t
          ? u
            ? n.effects.animateClass.apply(this, [
                r ? { add: i } : { remove: i },
                u,
                f,
                e
              ])
            : this._toggleClass(i, r)
          : n.effects.animateClass.apply(this, [{ toggle: i }, r, u, f]);
      },
      switchClass: function(t, i, r, u, f) {
        return n.effects.animateClass.apply(this, [
          { add: i, remove: t },
          r,
          u,
          f
        ]);
      }
    });
    n.extend(n.effects, {
      version: "1.8.24",
      save: function(n, t) {
        for (var i = 0; i < t.length; i++)
          t[i] !== null && n.data("ec.storage." + t[i], n[0].style[t[i]]);
      },
      restore: function(n, t) {
        for (var i = 0; i < t.length; i++)
          t[i] !== null && n.css(t[i], n.data("ec.storage." + t[i]));
      },
      setMode: function(n, t) {
        return t == "toggle" && (t = n.is(":hidden") ? "show" : "hide"), t;
      },
      getBaseline: function(n, t) {
        var i, r;
        switch (n[0]) {
          case "top":
            i = 0;
            break;
          case "middle":
            i = 0.5;
            break;
          case "bottom":
            i = 1;
            break;
          default:
            i = n[0] / t.height;
        }
        switch (n[1]) {
          case "left":
            r = 0;
            break;
          case "center":
            r = 0.5;
            break;
          case "right":
            r = 1;
            break;
          default:
            r = n[1] / t.width;
        }
        return { x: r, y: i };
      },
      createWrapper: function(t) {
        if (t.parent().is(".ui-effects-wrapper")) return t.parent();
        var i = {
            width: t.outerWidth(!0),
            height: t.outerHeight(!0),
            float: t.css("float")
          },
          u = n("<div></div>")
            .addClass("ui-effects-wrapper")
            .css({
              fontSize: "100%",
              background: "transparent",
              border: "none",
              margin: 0,
              padding: 0
            }),
          r = document.activeElement;
        try {
          r.id;
        } catch (f) {
          r = document.body;
        }
        return (
          t.wrap(u),
          (t[0] === r || n.contains(t[0], r)) && n(r).focus(),
          (u = t.parent()),
          t.css("position") == "static"
            ? (u.css({ position: "relative" }), t.css({ position: "relative" }))
            : (n.extend(i, {
                position: t.css("position"),
                zIndex: t.css("z-index")
              }),
              n.each(["top", "left", "bottom", "right"], function(n, r) {
                i[r] = t.css(r);
                isNaN(parseInt(i[r], 10)) && (i[r] = "auto");
              }),
              t.css({
                position: "relative",
                top: 0,
                left: 0,
                right: "auto",
                bottom: "auto"
              })),
          u.css(i).show()
        );
      },
      removeWrapper: function(t) {
        var r,
          i = document.activeElement;
        return t.parent().is(".ui-effects-wrapper")
          ? ((r = t.parent().replaceWith(t)),
            (t[0] === i || n.contains(t[0], i)) && n(i).focus(),
            r)
          : t;
      },
      setTransition: function(t, i, r, u) {
        return (
          (u = u || {}),
          n.each(i, function(n, i) {
            var f = t.cssUnit(i);
            f[0] > 0 && (u[i] = f[0] * r + f[1]);
          }),
          u
        );
      }
    });
    n.fn.extend({
      effect: function(t) {
        var u = i.apply(this, arguments),
          r = { options: u[1], duration: u[2], callback: u[3] },
          f = r.options.mode,
          e = n.effects[t];
        return n.fx.off || !e
          ? f
            ? this[f](r.duration, r.callback)
            : this.each(function() {
                r.callback && r.callback.call(this);
              })
          : e.call(this, r);
      },
      _show: n.fn.show,
      show: function(n) {
        if (u(n)) return this._show.apply(this, arguments);
        var t = i.apply(this, arguments);
        return (t[1].mode = "show"), this.effect.apply(this, t);
      },
      _hide: n.fn.hide,
      hide: function(n) {
        if (u(n)) return this._hide.apply(this, arguments);
        var t = i.apply(this, arguments);
        return (t[1].mode = "hide"), this.effect.apply(this, t);
      },
      __toggle: n.fn.toggle,
      toggle: function(t) {
        if (u(t) || typeof t == "boolean" || n.isFunction(t))
          return this.__toggle.apply(this, arguments);
        var r = i.apply(this, arguments);
        return (r[1].mode = "toggle"), this.effect.apply(this, r);
      },
      cssUnit: function(t) {
        var i = this.css(t),
          r = [];
        return (
          n.each(["em", "px", "%", "pt"], function(n, t) {
            i.indexOf(t) > 0 && (r = [parseFloat(i), t]);
          }),
          r
        );
      }
    });
    r = {};
    n.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(n, t) {
      r[t] = function(t) {
        return Math.pow(t, n + 2);
      };
    });
    n.extend(r, {
      Sine: function(n) {
        return 1 - Math.cos((n * Math.PI) / 2);
      },
      Circ: function(n) {
        return 1 - Math.sqrt(1 - n * n);
      },
      Elastic: function(n) {
        return n === 0 || n === 1
          ? n
          : -Math.pow(2, 8 * (n - 1)) *
              Math.sin((((n - 1) * 80 - 7.5) * Math.PI) / 15);
      },
      Back: function(n) {
        return n * n * (3 * n - 2);
      },
      Bounce: function(n) {
        for (var t, i = 4; n < ((t = Math.pow(2, --i)) - 1) / 11; );
        return (
          1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((t * 3 - 2) / 22 - n, 2)
        );
      }
    });
    n.each(r, function(t, i) {
      n.easing["easeIn" + t] = i;
      n.easing["easeOut" + t] = function(n) {
        return 1 - i(1 - n);
      };
      n.easing["easeInOut" + t] = function(n) {
        return n < 0.5 ? i(n * 2) / 2 : i(n * -2 + 2) / -2 + 1;
      };
    });
  })(jQuery),
  (function(n) {
    n.effects.blind = function(t) {
      return this.queue(function() {
        var i = n(this),
          e = ["position", "top", "bottom", "left", "right"],
          u = n.effects.setMode(i, t.options.mode || "hide"),
          o = t.options.direction || "vertical",
          f;
        n.effects.save(i, e);
        i.show();
        var r = n.effects.createWrapper(i).css({ overflow: "hidden" }),
          s = o == "vertical" ? "height" : "width",
          h = o == "vertical" ? r.height() : r.width();
        u == "show" && r.css(s, 0);
        f = {};
        f[s] = u == "show" ? h : 0;
        r.animate(f, t.duration, t.options.easing, function() {
          u == "hide" && i.hide();
          n.effects.restore(i, e);
          n.effects.removeWrapper(i);
          t.callback && t.callback.apply(i[0], arguments);
          i.dequeue();
        });
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.bounce = function(t) {
      return this.queue(function() {
        var i = n(this),
          l = ["position", "top", "bottom", "left", "right"],
          f = n.effects.setMode(i, t.options.mode || "effect"),
          a = t.options.direction || "up",
          r = t.options.distance || 20,
          v = t.options.times || 5,
          c = t.duration || 250,
          y,
          o,
          s,
          h;
        /show|hide/.test(f) && l.push("opacity");
        n.effects.save(i, l);
        i.show();
        n.effects.createWrapper(i);
        var u = a == "up" || a == "down" ? "top" : "left",
          e = a == "up" || a == "left" ? "pos" : "neg",
          r =
            t.options.distance ||
            (u == "top" ? i.outerHeight(!0) / 3 : i.outerWidth(!0) / 3);
        for (
          f == "show" && i.css("opacity", 0).css(u, e == "pos" ? -r : r),
            f == "hide" && (r = r / (v * 2)),
            f != "hide" && v--,
            f == "show" &&
              ((o = { opacity: 1 }),
              (o[u] = (e == "pos" ? "+=" : "-=") + r),
              i.animate(o, c / 2, t.options.easing),
              (r = r / 2),
              v--),
            y = 0;
          y < v;
          y++
        )
          (s = {}),
            (h = {}),
            (s[u] = (e == "pos" ? "-=" : "+=") + r),
            (h[u] = (e == "pos" ? "+=" : "-=") + r),
            i
              .animate(s, c / 2, t.options.easing)
              .animate(h, c / 2, t.options.easing),
            (r = f == "hide" ? r * 2 : r / 2);
        f == "hide"
          ? ((o = { opacity: 0 }),
            (o[u] = (e == "pos" ? "-=" : "+=") + r),
            i.animate(o, c / 2, t.options.easing, function() {
              i.hide();
              n.effects.restore(i, l);
              n.effects.removeWrapper(i);
              t.callback && t.callback.apply(this, arguments);
            }))
          : ((s = {}),
            (h = {}),
            (s[u] = (e == "pos" ? "-=" : "+=") + r),
            (h[u] = (e == "pos" ? "+=" : "-=") + r),
            i
              .animate(s, c / 2, t.options.easing)
              .animate(h, c / 2, t.options.easing, function() {
                n.effects.restore(i, l);
                n.effects.removeWrapper(i);
                t.callback && t.callback.apply(this, arguments);
              }));
        i.queue("fx", function() {
          i.dequeue();
        });
        i.dequeue();
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.clip = function(t) {
      return this.queue(function() {
        var i = n(this),
          h = ["position", "top", "bottom", "left", "right", "height", "width"],
          u = n.effects.setMode(i, t.options.mode || "hide"),
          o = t.options.direction || "vertical",
          e;
        n.effects.save(i, h);
        i.show();
        var c = n.effects.createWrapper(i).css({ overflow: "hidden" }),
          r = i[0].tagName == "IMG" ? c : i,
          f = {
            size: o == "vertical" ? "height" : "width",
            position: o == "vertical" ? "top" : "left"
          },
          s = o == "vertical" ? r.height() : r.width();
        u == "show" && (r.css(f.size, 0), r.css(f.position, s / 2));
        e = {};
        e[f.size] = u == "show" ? s : 0;
        e[f.position] = u == "show" ? 0 : s / 2;
        r.animate(e, {
          queue: !1,
          duration: t.duration,
          easing: t.options.easing,
          complete: function() {
            u == "hide" && i.hide();
            n.effects.restore(i, h);
            n.effects.removeWrapper(i);
            t.callback && t.callback.apply(i[0], arguments);
            i.dequeue();
          }
        });
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.drop = function(t) {
      return this.queue(function() {
        var i = n(this),
          h = ["position", "top", "bottom", "left", "right", "opacity"],
          r = n.effects.setMode(i, t.options.mode || "hide"),
          u = t.options.direction || "left",
          s;
        n.effects.save(i, h);
        i.show();
        n.effects.createWrapper(i);
        var f = u == "up" || u == "down" ? "top" : "left",
          e = u == "up" || u == "left" ? "pos" : "neg",
          o =
            t.options.distance ||
            (f == "top" ? i.outerHeight(!0) / 2 : i.outerWidth(!0) / 2);
        r == "show" && i.css("opacity", 0).css(f, e == "pos" ? -o : o);
        s = { opacity: r == "show" ? 1 : 0 };
        s[f] =
          (r == "show"
            ? e == "pos"
              ? "+="
              : "-="
            : e == "pos"
            ? "-="
            : "+=") + o;
        i.animate(s, {
          queue: !1,
          duration: t.duration,
          easing: t.options.easing,
          complete: function() {
            r == "hide" && i.hide();
            n.effects.restore(i, h);
            n.effects.removeWrapper(i);
            t.callback && t.callback.apply(this, arguments);
            i.dequeue();
          }
        });
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.explode = function(t) {
      return this.queue(function() {
        var r = t.options.pieces ? Math.round(Math.sqrt(t.options.pieces)) : 3,
          u = t.options.pieces ? Math.round(Math.sqrt(t.options.pieces)) : 3,
          i,
          o,
          s,
          h,
          f,
          e;
        for (
          t.options.mode =
            t.options.mode == "toggle"
              ? n(this).is(":visible")
                ? "hide"
                : "show"
              : t.options.mode,
            i = n(this)
              .show()
              .css("visibility", "hidden"),
            o = i.offset(),
            o.top -= parseInt(i.css("marginTop"), 10) || 0,
            o.left -= parseInt(i.css("marginLeft"), 10) || 0,
            s = i.outerWidth(!0),
            h = i.outerHeight(!0),
            f = 0;
          f < r;
          f++
        )
          for (e = 0; e < u; e++)
            i.clone()
              .appendTo("body")
              .wrap("<div></div>")
              .css({
                position: "absolute",
                visibility: "visible",
                left: -e * (s / u),
                top: -f * (h / r)
              })
              .parent()
              .addClass("ui-effects-explode")
              .css({
                position: "absolute",
                overflow: "hidden",
                width: s / u,
                height: h / r,
                left:
                  o.left +
                  e * (s / u) +
                  (t.options.mode == "show"
                    ? (e - Math.floor(u / 2)) * (s / u)
                    : 0),
                top:
                  o.top +
                  f * (h / r) +
                  (t.options.mode == "show"
                    ? (f - Math.floor(r / 2)) * (h / r)
                    : 0),
                opacity: t.options.mode == "show" ? 0 : 1
              })
              .animate(
                {
                  left:
                    o.left +
                    e * (s / u) +
                    (t.options.mode == "show"
                      ? 0
                      : (e - Math.floor(u / 2)) * (s / u)),
                  top:
                    o.top +
                    f * (h / r) +
                    (t.options.mode == "show"
                      ? 0
                      : (f - Math.floor(r / 2)) * (h / r)),
                  opacity: t.options.mode == "show" ? 1 : 0
                },
                t.duration || 500
              );
        setTimeout(function() {
          t.options.mode == "show"
            ? i.css({ visibility: "visible" })
            : i.css({ visibility: "visible" }).hide();
          t.callback && t.callback.apply(i[0]);
          i.dequeue();
          n("div.ui-effects-explode").remove();
        }, t.duration || 500);
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.fade = function(t) {
      return this.queue(function() {
        var i = n(this),
          r = n.effects.setMode(i, t.options.mode || "hide");
        i.animate(
          { opacity: r },
          {
            queue: !1,
            duration: t.duration,
            easing: t.options.easing,
            complete: function() {
              t.callback && t.callback.apply(this, arguments);
              i.dequeue();
            }
          }
        );
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.fold = function(t) {
      return this.queue(function() {
        var i = n(this),
          h = ["position", "top", "bottom", "left", "right"],
          r = n.effects.setMode(i, t.options.mode || "hide"),
          f = t.options.size || 15,
          c = !!t.options.horizFirst,
          l = t.duration ? t.duration / 2 : n.fx.speeds._default / 2,
          o,
          s;
        n.effects.save(i, h);
        i.show();
        var u = n.effects.createWrapper(i).css({ overflow: "hidden" }),
          a = (r == "show") != c,
          v = a ? ["width", "height"] : ["height", "width"],
          e = a ? [u.width(), u.height()] : [u.height(), u.width()],
          y = /([0-9]+)%/.exec(f);
        y && (f = (parseInt(y[1], 10) / 100) * e[r == "hide" ? 0 : 1]);
        r == "show" &&
          u.css(c ? { height: 0, width: f } : { height: f, width: 0 });
        o = {};
        s = {};
        o[v[0]] = r == "show" ? e[0] : f;
        s[v[1]] = r == "show" ? e[1] : 0;
        u.animate(o, l, t.options.easing).animate(
          s,
          l,
          t.options.easing,
          function() {
            r == "hide" && i.hide();
            n.effects.restore(i, h);
            n.effects.removeWrapper(i);
            t.callback && t.callback.apply(i[0], arguments);
            i.dequeue();
          }
        );
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.highlight = function(t) {
      return this.queue(function() {
        var i = n(this),
          u = ["backgroundImage", "backgroundColor", "opacity"],
          r = n.effects.setMode(i, t.options.mode || "show"),
          f = { backgroundColor: i.css("backgroundColor") };
        r == "hide" && (f.opacity = 0);
        n.effects.save(i, u);
        i.show()
          .css({
            backgroundImage: "none",
            backgroundColor: t.options.color || "#ffff99"
          })
          .animate(f, {
            queue: !1,
            duration: t.duration,
            easing: t.options.easing,
            complete: function() {
              r == "hide" && i.hide();
              n.effects.restore(i, u);
              r != "show" ||
                n.support.opacity ||
                this.style.removeAttribute("filter");
              t.callback && t.callback.apply(this, arguments);
              i.dequeue();
            }
          });
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.pulsate = function(t) {
      return this.queue(function() {
        var i = n(this),
          e = n.effects.setMode(i, t.options.mode || "show"),
          o = (t.options.times || 5) * 2 - 1,
          s = t.duration ? t.duration / 2 : n.fx.speeds._default / 2,
          u = i.is(":visible"),
          r = 0,
          f;
        for (
          u || (i.css("opacity", 0).show(), (r = 1)),
            ((e == "hide" && u) || (e == "show" && !u)) && o--,
            f = 0;
          f < o;
          f++
        )
          i.animate({ opacity: r }, s, t.options.easing), (r = (r + 1) % 2);
        i.animate({ opacity: r }, s, t.options.easing, function() {
          r == 0 && i.hide();
          t.callback && t.callback.apply(this, arguments);
        });
        i.queue("fx", function() {
          i.dequeue();
        }).dequeue();
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.puff = function(t) {
      return this.queue(function() {
        var i = n(this),
          r = n.effects.setMode(i, t.options.mode || "hide"),
          f = parseInt(t.options.percent, 10) || 150,
          e = f / 100,
          u = { height: i.height(), width: i.width() };
        n.extend(t.options, {
          fade: !0,
          mode: r,
          percent: r == "hide" ? f : 100,
          from: r == "hide" ? u : { height: u.height * e, width: u.width * e }
        });
        i.effect("scale", t.options, t.duration, t.callback);
        i.dequeue();
      });
    };
    n.effects.scale = function(t) {
      return this.queue(function() {
        var i = n(this),
          r = n.extend(!0, {}, t.options),
          u = n.effects.setMode(i, t.options.mode || "effect"),
          o =
            parseInt(t.options.percent, 10) ||
            (parseInt(t.options.percent, 10) == 0 ? 0 : u == "hide" ? 0 : 100),
          s = t.options.direction || "both",
          h = t.options.origin,
          f,
          e;
        u != "effect" &&
          ((r.origin = h || ["middle", "center"]), (r.restore = !0));
        f = { height: i.height(), width: i.width() };
        i.from = t.options.from || (u == "show" ? { height: 0, width: 0 } : f);
        e = {
          y: s != "horizontal" ? o / 100 : 1,
          x: s != "vertical" ? o / 100 : 1
        };
        i.to = { height: f.height * e.y, width: f.width * e.x };
        t.options.fade &&
          (u == "show" && ((i.from.opacity = 0), (i.to.opacity = 1)),
          u == "hide" && ((i.from.opacity = 1), (i.to.opacity = 0)));
        r.from = i.from;
        r.to = i.to;
        r.mode = u;
        i.effect("size", r, t.duration, t.callback);
        i.dequeue();
      });
    };
    n.effects.size = function(t) {
      return this.queue(function() {
        var i = n(this),
          f = [
            "position",
            "top",
            "bottom",
            "left",
            "right",
            "width",
            "height",
            "overflow",
            "opacity"
          ],
          v = [
            "position",
            "top",
            "bottom",
            "left",
            "right",
            "overflow",
            "opacity"
          ],
          a = ["width", "height", "overflow"],
          c = ["fontSize"],
          e = [
            "borderTopWidth",
            "borderBottomWidth",
            "paddingTop",
            "paddingBottom"
          ],
          o = [
            "borderLeftWidth",
            "borderRightWidth",
            "paddingLeft",
            "paddingRight"
          ],
          p = n.effects.setMode(i, t.options.mode || "effect"),
          l = t.options.restore || !1,
          s = t.options.scale || "both",
          y = t.options.origin,
          u = { height: i.height(), width: i.width() },
          h,
          r;
        i.from = t.options.from || u;
        i.to = t.options.to || u;
        y &&
          ((h = n.effects.getBaseline(y, u)),
          (i.from.top = (u.height - i.from.height) * h.y),
          (i.from.left = (u.width - i.from.width) * h.x),
          (i.to.top = (u.height - i.to.height) * h.y),
          (i.to.left = (u.width - i.to.width) * h.x));
        r = {
          from: { y: i.from.height / u.height, x: i.from.width / u.width },
          to: { y: i.to.height / u.height, x: i.to.width / u.width }
        };
        (s == "box" || s == "both") &&
          (r.from.y != r.to.y &&
            ((f = f.concat(e)),
            (i.from = n.effects.setTransition(i, e, r.from.y, i.from)),
            (i.to = n.effects.setTransition(i, e, r.to.y, i.to))),
          r.from.x != r.to.x &&
            ((f = f.concat(o)),
            (i.from = n.effects.setTransition(i, o, r.from.x, i.from)),
            (i.to = n.effects.setTransition(i, o, r.to.x, i.to))));
        (s == "content" || s == "both") &&
          r.from.y != r.to.y &&
          ((f = f.concat(c)),
          (i.from = n.effects.setTransition(i, c, r.from.y, i.from)),
          (i.to = n.effects.setTransition(i, c, r.to.y, i.to)));
        n.effects.save(i, l ? f : v);
        i.show();
        n.effects.createWrapper(i);
        i.css("overflow", "hidden").css(i.from);
        (s == "content" || s == "both") &&
          ((e = e.concat(["marginTop", "marginBottom"]).concat(c)),
          (o = o.concat(["marginLeft", "marginRight"])),
          (a = f.concat(e).concat(o)),
          i.find("*[width]").each(function() {
            var i = n(this),
              u;
            l && n.effects.save(i, a);
            u = { height: i.height(), width: i.width() };
            i.from = { height: u.height * r.from.y, width: u.width * r.from.x };
            i.to = { height: u.height * r.to.y, width: u.width * r.to.x };
            r.from.y != r.to.y &&
              ((i.from = n.effects.setTransition(i, e, r.from.y, i.from)),
              (i.to = n.effects.setTransition(i, e, r.to.y, i.to)));
            r.from.x != r.to.x &&
              ((i.from = n.effects.setTransition(i, o, r.from.x, i.from)),
              (i.to = n.effects.setTransition(i, o, r.to.x, i.to)));
            i.css(i.from);
            i.animate(i.to, t.duration, t.options.easing, function() {
              l && n.effects.restore(i, a);
            });
          }));
        i.animate(i.to, {
          queue: !1,
          duration: t.duration,
          easing: t.options.easing,
          complete: function() {
            i.to.opacity === 0 && i.css("opacity", i.from.opacity);
            p == "hide" && i.hide();
            n.effects.restore(i, l ? f : v);
            n.effects.removeWrapper(i);
            t.callback && t.callback.apply(this, arguments);
            i.dequeue();
          }
        });
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.shake = function(t) {
      return this.queue(function() {
        var i = n(this),
          l = ["position", "top", "bottom", "left", "right"],
          y = n.effects.setMode(i, t.options.mode || "effect"),
          u = t.options.direction || "left",
          f = t.options.distance || 20,
          v = t.options.times || 3,
          r = t.duration || t.options.duration || 140,
          c;
        n.effects.save(i, l);
        i.show();
        n.effects.createWrapper(i);
        var e = u == "up" || u == "down" ? "top" : "left",
          o = u == "up" || u == "left" ? "pos" : "neg",
          s = {},
          h = {},
          a = {};
        for (
          s[e] = (o == "pos" ? "-=" : "+=") + f,
            h[e] = (o == "pos" ? "+=" : "-=") + f * 2,
            a[e] = (o == "pos" ? "-=" : "+=") + f * 2,
            i.animate(s, r, t.options.easing),
            c = 1;
          c < v;
          c++
        )
          i.animate(h, r, t.options.easing).animate(a, r, t.options.easing);
        i.animate(h, r, t.options.easing).animate(
          s,
          r / 2,
          t.options.easing,
          function() {
            n.effects.restore(i, l);
            n.effects.removeWrapper(i);
            t.callback && t.callback.apply(this, arguments);
          }
        );
        i.queue("fx", function() {
          i.dequeue();
        });
        i.dequeue();
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.slide = function(t) {
      return this.queue(function() {
        var i = n(this),
          h = ["position", "top", "bottom", "left", "right"],
          f = n.effects.setMode(i, t.options.mode || "show"),
          u = t.options.direction || "left",
          s;
        n.effects.save(i, h);
        i.show();
        n.effects.createWrapper(i).css({ overflow: "hidden" });
        var e = u == "up" || u == "down" ? "top" : "left",
          o = u == "up" || u == "left" ? "pos" : "neg",
          r =
            t.options.distance ||
            (e == "top" ? i.outerHeight(!0) : i.outerWidth(!0));
        f == "show" && i.css(e, o == "pos" ? (isNaN(r) ? "-" + r : -r) : r);
        s = {};
        s[e] =
          (f == "show"
            ? o == "pos"
              ? "+="
              : "-="
            : o == "pos"
            ? "-="
            : "+=") + r;
        i.animate(s, {
          queue: !1,
          duration: t.duration,
          easing: t.options.easing,
          complete: function() {
            f == "hide" && i.hide();
            n.effects.restore(i, h);
            n.effects.removeWrapper(i);
            t.callback && t.callback.apply(this, arguments);
            i.dequeue();
          }
        });
      });
    };
  })(jQuery),
  (function(n) {
    n.effects.transfer = function(t) {
      return this.queue(function() {
        var i = n(this),
          r = n(t.options.to),
          u = r.offset(),
          e = {
            top: u.top,
            left: u.left,
            height: r.innerHeight(),
            width: r.innerWidth()
          },
          f = i.offset(),
          o = n('<div class="ui-effects-transfer"></div>')
            .appendTo(document.body)
            .addClass(t.options.className)
            .css({
              top: f.top,
              left: f.left,
              height: i.innerHeight(),
              width: i.innerWidth(),
              position: "absolute"
            })
            .animate(e, t.duration, t.options.easing, function() {
              o.remove();
              t.callback && t.callback.apply(i[0], arguments);
              i.dequeue();
            });
      });
    };
  })(jQuery),
  (function(n) {
    n.fn.customAttr = function(t) {
      var c = n(this).attr("isCustomAttributeProcessed"),
        f,
        r,
        h,
        i;
      if (typeof c == "undefined") {
        var o = [],
          u = "",
          s = !1,
          e = !1,
          i = n(this).attr("rel");
        if (typeof i == "undefined" || i.length == 0 || i.indexOf("=") == -1) {
          n(this).attr("isCustomAttributeProcessed", !0);
          return;
        }
        for (r = 0; r < i.length; r++)
          (f = i.substring(r, r + 1)),
            f == "'"
              ? e == !0
                ? ((u += f), (e = !1))
                : (s = !s)
              : f == "\\"
              ? (e = !0)
              : s == !0
              ? (u += f)
              : f == ","
              ? e == !0
                ? ((u += f), (e = !1))
                : (o.push(u), (u = ""))
              : (u += f);
        for (u.length > 0 && o.push(u), r = 0; r < o.length; r++)
          (h = o[r].split(/=/)), n(this).attr(h[0], h[1]);
        n(this).attr("isCustomAttributeProcessed", !0);
      }
      return ((i = n(this).attr(t)), typeof i != "undefined" && i.length > 0)
        ? i
        : "";
    };
  })(jQuery);
Namespace = window.Namespace || {};
Namespace.create = function(n, t) {
  for (var r = n.split(t || "."), u = window, f = r.length, i = 0; i < f; i++)
    (u[r[i]] = u[r[i]] || {}), (u = u[r[i]]);
};
Enum = Namespace;
Namespace.create("Focus.ObjectFinder");
window.findRootWindow = Focus.ObjectFinder.findRootWindow = function(n) {
  return (
    (n = n || window),
    n.location.href != n.parent.location.href
      ? Focus.ObjectFinder.findRootWindow(n.parent)
      : n
  );
};
this.JSON || (JSON = {}),
  (function() {
    function i(n) {
      return n < 10 ? "0" + n : n;
    }
    function o(n) {
      return (
        (e.lastIndex = 0),
        e.test(n)
          ? '"' +
            n.replace(e, function(n) {
              var t = s[n];
              return typeof t == "string"
                ? t
                : "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4);
            }) +
            '"'
          : '"' + n + '"'
      );
    }
    function u(i, f) {
      var c,
        l,
        s,
        a,
        v = n,
        h,
        e = f[i];
      e &&
        typeof e == "object" &&
        typeof e.toJSON == "function" &&
        (e = e.toJSON(i));
      typeof t == "function" && (e = t.call(f, i, e));
      switch (typeof e) {
        case "string":
          return o(e);
        case "number":
          return isFinite(e) ? String(e) : "null";
        case "boolean":
        case "null":
          return String(e);
        case "object":
          if (!e) return "null";
          if (
            ((n += r),
            (h = []),
            Object.prototype.toString.apply(e) === "[object Array]")
          ) {
            for (a = e.length, c = 0; c < a; c += 1) h[c] = u(c, e) || "null";
            return (
              (s =
                h.length === 0
                  ? "[]"
                  : n
                  ? "[\n" + n + h.join(",\n" + n) + "\n" + v + "]"
                  : "[" + h.join(",") + "]"),
              (n = v),
              s
            );
          }
          if (t && typeof t == "object")
            for (a = t.length, c = 0; c < a; c += 1)
              (l = t[c]),
                typeof l == "string" &&
                  ((s = u(l, e)), s && h.push(o(l) + (n ? ": " : ":") + s));
          else
            for (l in e)
              Object.hasOwnProperty.call(e, l) &&
                ((s = u(l, e)), s && h.push(o(l) + (n ? ": " : ":") + s));
          return (
            (s =
              h.length === 0
                ? "{}"
                : n
                ? "{\n" + n + h.join(",\n" + n) + "\n" + v + "}"
                : "{" + h.join(",") + "}"),
            (n = v),
            s
          );
      }
    }
    typeof Date.prototype.toJSON != "function" &&
      ((Date.prototype.toJSON = function() {
        return (
          this.getUTCFullYear() +
          "-" +
          i(this.getUTCMonth() + 1) +
          "-" +
          i(this.getUTCDate()) +
          "T" +
          i(this.getUTCHours()) +
          ":" +
          i(this.getUTCMinutes()) +
          ":" +
          i(this.getUTCSeconds()) +
          "Z"
        );
      }),
      (String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {
        return this.valueOf();
      }));
    var f = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
      e = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
      n,
      r,
      s = {
        "\b": "\\b",
        "\t": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
      },
      t;
    typeof JSON.stringify != "function" &&
      (JSON.stringify = function(i, f, e) {
        var o;
        if (((n = ""), (r = ""), typeof e == "number"))
          for (o = 0; o < e; o += 1) r += " ";
        else typeof e == "string" && (r = e);
        if (
          ((t = f),
          f &&
            typeof f != "function" &&
            (typeof f != "object" || typeof f.length != "number"))
        )
          throw new Error("JSON.stringify");
        return u("", { "": i });
      });
    typeof JSON.parse != "function" &&
      (JSON.parse = function(text, reviver) {
        function walk(n, t) {
          var r,
            u,
            i = n[t];
          if (i && typeof i == "object")
            for (r in i)
              Object.hasOwnProperty.call(i, r) &&
                ((u = walk(i, r)), u !== undefined ? (i[r] = u) : delete i[r]);
          return reviver.call(n, t, i);
        }
        var j;
        if (
          ((f.lastIndex = 0),
          f.test(text) &&
            (text = text.replace(f, function(n) {
              return "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4);
            })),
          /^[\],:{}\s]*$/.test(
            text
              .replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@")
              .replace(
                /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
                "]"
              )
              .replace(/(?:^|:|,)(?:\s*\[)+/g, "")
          ))
        )
          return (
            (j = eval("(" + text + ")")),
            typeof reviver == "function" ? walk({ "": j }, "") : j
          );
        throw new SyntaxError("JSON.parse");
      });
  })();
!(function(n) {
  n.jGrowl = function(t, i) {
    0 == n("#jGrowl").size() &&
      n('<div id="jGrowl"></div>')
        .addClass(n.jGrowl.defaults.position)
        .appendTo("body");
    n("#jGrowl").jGrowl(t, i);
  };
  n.fn.jGrowl = function(t, i) {
    if (n.isFunction(this.each)) {
      var r = arguments;
      return this.each(function() {
        void 0 == n(this).data("jGrowl.instance") &&
          (n(this).data("jGrowl.instance", new n.fn.jGrowl()),
          n(this)
            .data("jGrowl.instance")
            .startup(this));
        n.isFunction(n(this).data("jGrowl.instance")[t])
          ? n(this)
              .data("jGrowl.instance")
              [t].apply(
                n(this).data("jGrowl.instance"),
                n.makeArray(r).slice(1)
              )
          : n(this)
              .data("jGrowl.instance")
              .create(t, i);
      });
    }
  };
  n.extend(n.fn.jGrowl.prototype, {
    defaults: {
      pool: 0,
      header: "",
      group: "",
      sticky: !1,
      position: "top-right",
      glue: "after",
      theme: "default",
      corners: "10px",
      check: 250,
      life: 3e3,
      speed: "normal",
      easing: "swing",
      closer: !0,
      closeTemplate: "&times;",
      closerTemplate: "<div>[ close all ]</div>",
      log: function() {},
      beforeOpen: function() {},
      open: function() {},
      beforeClose: function() {},
      close: function() {},
      animateOpen: { opacity: "show" },
      animateClose: { opacity: "hide" }
    },
    notifications: [],
    element: null,
    interval: null,
    create: function(t, i) {
      var i = n.extend({}, this.defaults, i);
      this.notifications[this.notifications.length] = {
        message: t,
        options: i
      };
      i.log.apply(this.element, [this.element, t, i]);
    },
    render: function(t) {
      var r = this,
        u = t.message,
        i = t.options,
        t = n(
          '<div class="jGrowl-notification' +
            (void 0 != i.group && "" != i.group ? " " + i.group : "") +
            '"><div class="close">' +
            i.closeTemplate +
            "</div>" +
            ("" != i.header && "ALERT" === i.header
              ? '<img class="jgrowl-alert" src="/ParagonLS/Content/images/Warnings/error.png">'
              : "" != i.header && "WARNING" === i.header
              ? '<img class="jgrowl-warn" src="/ParagonLS/Content/images/Warnings/warning.png">'
              : "" != i.header && "SUCCESS" === i.header
              ? '<img class="jgrowl-success" src="/ParagonLS/Content/images/Warnings/success.png">'
              : '<img class="jgrowl-info" src="/ParagonLS/Content/images/Warnings/info.png">') +
            '<div class="jgrowl-msg-container"><div class="header">' +
            i.header +
            '</div><div class="message">' +
            u +
            "</div></div></div>"
        )
          .data("jGrowl", i)
          .addClass(i.theme)
          .children("div.close")
          .bind("click.jGrowl", function() {
            n(this)
              .parent()
              .trigger("jGrowl.close");
          })
          .parent();
      "after" == i.glue
        ? n("div.jGrowl-notification:last", this.element).after(t)
        : n("div.jGrowl-notification:first", this.element).before(t);
      n(t)
        .bind("mouseover.jGrowl", function() {
          n(this).data("jGrowl").pause = !0;
        })
        .bind("mouseout.jGrowl", function() {
          n(this).data("jGrowl").pause = !1;
        })
        .bind("jGrowl.beforeOpen", function() {
          i.beforeOpen.apply(r.element, [r.element, u, i]);
        })
        .bind("jGrowl.open", function() {
          i.open.apply(r.element, [r.element, u, i]);
        })
        .bind("jGrowl.beforeClose", function() {
          i.beforeClose.apply(r.element, [r.element, u, i]);
        })
        .bind("jGrowl.close", function() {
          n(this)
            .trigger("jGrowl.beforeClose")
            .animate(i.animateClose, i.speed, i.easing, function() {
              n(this).remove();
              i.close.apply(r.element, [r.element, u, i]);
            });
        })
        .trigger("jGrowl.beforeOpen")
        .animate(i.animateOpen, i.speed, i.easing, function() {
          n(this).data("jGrowl").created = new Date();
        })
        .trigger("jGrowl.open");
      void 0 != n.fn.corner && n(t).corner(i.corners);
      n("div.jGrowl-notification:parent", this.element).size() > 1 &&
        0 == n("div.jGrowl-closer", this.element).size() &&
        0 != this.defaults.closer &&
        n(this.defaults.closerTemplate)
          .addClass("jGrowl-closer")
          .addClass(this.defaults.theme)
          .appendTo(this.element)
          .animate(
            this.defaults.animateOpen,
            this.defaults.speed,
            this.defaults.easing
          )
          .bind("click.jGrowl", function() {
            n(this)
              .siblings()
              .children("div.close")
              .trigger("click.jGrowl");
            n.isFunction(r.defaults.closer) &&
              r.defaults.closer.apply(n(this).parent()[0], [
                n(this).parent()[0]
              ]);
          });
    },
    update: function() {
      n(this.element)
        .find("div.jGrowl-notification:parent")
        .each(function() {
          void 0 != n(this).data("jGrowl") &&
            void 0 != n(this).data("jGrowl").created &&
            n(this)
              .data("jGrowl")
              .created.getTime() +
              n(this).data("jGrowl").life <
              new Date().getTime() &&
            1 != n(this).data("jGrowl").sticky &&
            (void 0 == n(this).data("jGrowl").pause ||
              1 != n(this).data("jGrowl").pause) &&
            n(this).trigger("jGrowl.close");
        });
      this.notifications.length > 0 &&
        (0 == this.defaults.pool ||
          n(this.element)
            .find("div.jGrowl-notification:parent")
            .size() < this.defaults.pool) &&
        this.render(this.notifications.shift());
      n(this.element)
        .find("div.jGrowl-notification:parent")
        .size() < 2 &&
        n(this.element)
          .find("div.jGrowl-closer")
          .animate(
            this.defaults.animateClose,
            this.defaults.speed,
            this.defaults.easing,
            function() {
              n(this).remove();
            }
          );
    },
    startup: function(t) {
      this.element = n(t)
        .addClass("jGrowl")
        .append('<div class="jGrowl-notification"></div>');
      this.interval = setInterval(function() {
        jQuery(t)
          .data("jGrowl.instance")
          .update();
      }, this.defaults.check);
      n.browser.msie &&
        parseInt(n.browser.version) < 7 &&
        !window.XMLHttpRequest &&
        n(this.element).addClass("ie6");
    },
    shutdown: function() {
      n(this.element)
        .removeClass("jGrowl")
        .find("div.jGrowl-notification")
        .remove();
      clearInterval(this.interval);
    }
  });
  n.jGrowl.defaults = n.fn.jGrowl.prototype.defaults;
})(jQuery),
  (function(n) {
    function a(i, u, e) {
      var s = this;
      s.id = e;
      s.options = u;
      s.status = { animated: !1, rendered: !1, disabled: !1, focused: !1 };
      s.elements = {
        target: i.addClass(s.options.style.classes.target),
        tooltip: null,
        wrapper: null,
        content: null,
        contentWrapper: null,
        title: null,
        button: null,
        tip: null,
        bgiframe: null
      };
      s.cache = { mouse: {}, position: {}, toggle: 0 };
      s.timers = {};
      n.extend(s, s.options.api, {
        show: function(t) {
          function i() {
            n(this).css({ opacity: "" });
            s.options.position.type !== "static" && s.focus();
            s.onShow.call(s, t);
            n.browser.msie &&
              s.elements.tooltip.get(0).style.removeAttribute("filter");
          }
          var u, r;
          if (!s.status.rendered)
            return n.fn.qtip.log.error.call(
              s,
              2,
              n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
              "show"
            );
          if (
            s.elements.tooltip.css("display") !== "none" ||
            (s.elements.tooltip.stop(!0, !1),
            (u = s.beforeShow.call(s, t)),
            u === !1)
          )
            return s;
          if (
            ((s.cache.toggle = 1),
            s.options.position.type !== "static" &&
              s.updatePosition(t, s.options.show.effect.length > 0),
            typeof s.options.show.solo == "object"
              ? (r = n(s.options.show.solo))
              : s.options.show.solo === !0 &&
                (r = n("div.qtip").not(s.elements.tooltip)),
            r &&
              r.each(function() {
                n(this).qtip("api").status.rendered === !0 &&
                  n(this)
                    .qtip("api")
                    .hide();
              }),
            typeof s.options.show.effect.type == "function")
          )
            s.options.show.effect.type.call(
              s.elements.tooltip,
              s.options.show.effect.length
            ),
              s.elements.tooltip.queue(function() {
                i();
                n(this).dequeue();
              });
          else {
            switch (s.options.show.effect.type.toLowerCase()) {
              case "fade":
                s.elements.tooltip.fadeIn(s.options.show.effect.length, i);
                break;
              case "slide":
                s.elements.tooltip.slideDown(
                  s.options.show.effect.length,
                  function() {
                    i();
                    s.options.position.type !== "static" &&
                      s.updatePosition(t, !0);
                  }
                );
                break;
              case "grow":
                s.elements.tooltip.show(s.options.show.effect.length, i);
                break;
              default:
                s.elements.tooltip.show(null, i);
                s.elements.tooltip.css({ opacity: "" });
            }
            s.elements.tooltip.addClass(s.options.style.classes.active);
          }
          return n.fn.qtip.log.error.call(
            s,
            1,
            n.fn.qtip.constants.EVENT_SHOWN,
            "show"
          );
        },
        hide: function(t) {
          function i() {
            s.onHide.call(s, t);
          }
          var r;
          if (s.status.rendered) {
            if (s.elements.tooltip.css("display") === "none") return s;
          } else
            return n.fn.qtip.log.error.call(
              s,
              2,
              n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
              "hide"
            );
          if (
            (clearTimeout(s.timers.show),
            s.elements.tooltip.stop(!0, !1),
            (r = s.beforeHide.call(s, t)),
            r === !1)
          )
            return s;
          if (
            ((s.cache.toggle = 0),
            typeof s.options.hide.effect.type == "function")
          )
            s.options.hide.effect.type.call(
              s.elements.tooltip,
              s.options.hide.effect.length
            ),
              s.elements.tooltip.queue(function() {
                i();
                n(this).dequeue();
              });
          else {
            switch (s.options.hide.effect.type.toLowerCase()) {
              case "fade":
                s.elements.tooltip.fadeOut(s.options.hide.effect.length, i);
                break;
              case "slide":
                s.elements.tooltip.slideUp(s.options.hide.effect.length, i);
                break;
              case "grow":
                s.elements.tooltip.hide(s.options.hide.effect.length, i);
                break;
              default:
                s.elements.tooltip.hide(null, i);
            }
            s.elements.tooltip.removeClass(s.options.style.classes.active);
          }
          return n.fn.qtip.log.error.call(
            s,
            1,
            n.fn.qtip.constants.EVENT_HIDDEN,
            "hide"
          );
        },
        updatePosition: function(t, i) {
          var o, r, e, f, y, h, u, l, w, a, c, v, p;
          if (s.status.rendered) {
            if (s.options.position.type == "static")
              return n.fn.qtip.log.error.call(
                s,
                1,
                n.fn.qtip.constants.CANNOT_POSITION_STATIC,
                "updatePosition"
              );
          } else
            return n.fn.qtip.log.error.call(
              s,
              2,
              n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
              "updatePosition"
            );
          if (
            ((r = {
              position: { left: 0, top: 0 },
              dimensions: { height: 0, width: 0 },
              corner: s.options.position.corner.target
            }),
            (e = {
              position: s.getPosition(),
              dimensions: s.getDimensions(),
              corner: s.options.position.corner.tooltip
            }),
            s.options.position.target !== "mouse")
          ) {
            if (
              s.options.position.target.get(0).nodeName.toLowerCase() == "area"
            ) {
              for (
                f = s.options.position.target.attr("coords").split(","), o = 0;
                o < f.length;
                o++
              )
                f[o] = parseInt(f[o]);
              y = s.options.position.target.parent("map").attr("name");
              h = n('img[usemap="#' + y + '"]:first').offset();
              r.position = {
                left: Math.floor(h.left + f[0]),
                top: Math.floor(h.top + f[1])
              };
              switch (s.options.position.target.attr("shape").toLowerCase()) {
                case "rect":
                  r.dimensions = {
                    width: Math.ceil(Math.abs(f[2] - f[0])),
                    height: Math.ceil(Math.abs(f[3] - f[1]))
                  };
                  break;
                case "circle":
                  r.dimensions = { width: f[2] + 1, height: f[2] + 1 };
                  break;
                case "poly":
                  for (
                    r.dimensions = { width: f[0], height: f[1] }, o = 0;
                    o < f.length;
                    o++
                  )
                    o % 2 == 0
                      ? (f[o] > r.dimensions.width &&
                          (r.dimensions.width = f[o]),
                        f[o] < f[0] &&
                          (r.position.left = Math.floor(h.left + f[o])))
                      : (f[o] > r.dimensions.height &&
                          (r.dimensions.height = f[o]),
                        f[o] < f[1] &&
                          (r.position.top = Math.floor(h.top + f[o])));
                  r.dimensions.width =
                    r.dimensions.width - (r.position.left - h.left);
                  r.dimensions.height =
                    r.dimensions.height - (r.position.top - h.top);
                  break;
                default:
                  return n.fn.qtip.log.error.call(
                    s,
                    4,
                    n.fn.qtip.constants.INVALID_AREA_SHAPE,
                    "updatePosition"
                  );
              }
              r.dimensions.width -= 2;
              r.dimensions.height -= 2;
            } else
              s.options.position.target.add(document.body).length === 1
                ? ((r.position = {
                    left: n(document).scrollLeft(),
                    top: n(document).scrollTop()
                  }),
                  (r.dimensions = {
                    height: n(window).height(),
                    width: n(window).width()
                  }))
                : ((r.position =
                    typeof s.options.position.target.attr("qtip") != "undefined"
                      ? s.options.position.target.qtip("api").cache.position
                      : s.options.position.target.offset()),
                  (r.dimensions = {
                    height: s.options.position.target.outerHeight(),
                    width: s.options.position.target.outerWidth()
                  }));
            u = n.extend({}, r.position);
            /right/i.test(r.corner) && (u.left += r.dimensions.width);
            /bottom/i.test(r.corner) && (u.top += r.dimensions.height);
            /((top|bottom)Middle)|center/.test(r.corner) &&
              (u.left += r.dimensions.width / 2);
            /((left|right)Middle)|center/.test(r.corner) &&
              (u.top += r.dimensions.height / 2);
          } else
            (r.position = u = { left: s.cache.mouse.x, top: s.cache.mouse.y }),
              (r.dimensions = { height: 1, width: 1 });
          if (
            (/right/i.test(e.corner) && (u.left -= e.dimensions.width),
            /bottom/i.test(e.corner) && (u.top -= e.dimensions.height),
            /((top|bottom)Middle)|center/.test(e.corner) &&
              (u.left -= e.dimensions.width / 2),
            /((left|right)Middle)|center/.test(e.corner) &&
              (u.top -= e.dimensions.height / 2),
            (l = n.browser.msie ? 1 : 0),
            (w =
              n.browser.msie && parseInt(n.browser.version.charAt(0)) === 6
                ? 1
                : 0),
            s.options.style.border.radius > 0 &&
              (/Left/i.test(e.corner)
                ? (u.left -= s.options.style.border.radius)
                : /Right/i.test(e.corner) &&
                  (u.left += s.options.style.border.radius),
              /Top/i.test(e.corner)
                ? (u.top -= s.options.style.border.radius)
                : /Bottom/i.test(e.corner) &&
                  (u.top += s.options.style.border.radius)),
            l &&
              (/top/i.test(e.corner)
                ? (u.top -= l)
                : /bottom/i.test(e.corner) && (u.top += l),
              /left/i.test(e.corner)
                ? (u.left -= l)
                : /right/i.test(e.corner) && (u.left += l),
              /leftMiddle|rightMiddle/.test(e.corner) && (u.top -= 1)),
            s.options.position.adjust.screen === !0 && (u = b.call(s, u, r, e)),
            s.options.position.target === "mouse" &&
              s.options.position.adjust.mouse === !0 &&
              ((a =
                s.options.position.adjust.screen === !0 && s.elements.tip
                  ? s.elements.tip.attr("rel")
                  : s.options.position.corner.tooltip),
              (u.left += /right/i.test(a) ? -6 : 6),
              (u.top += /bottom/i.test(a) ? -6 : 6)),
            !s.elements.bgiframe &&
              n.browser.msie &&
              parseInt(n.browser.version.charAt(0)) == 6 &&
              n("select, object").each(function() {
                c = n(this).offset();
                c.bottom = c.top + n(this).height();
                c.right = c.left + n(this).width();
                u.top + e.dimensions.height >= c.top &&
                  u.left + e.dimensions.width >= c.left &&
                  k.call(s);
              }),
            (u.left += s.options.position.adjust.x),
            (u.top += s.options.position.adjust.y),
            (v = s.getPosition()),
            u.left != v.left || u.top != v.top)
          ) {
            if (((p = s.beforePositionUpdate.call(s, t)), p === !1)) return s;
            s.cache.position = u;
            i === !0
              ? ((s.status.animated = !0),
                s.elements.tooltip.animate(u, 200, "swing", function() {
                  s.status.animated = !1;
                }))
              : s.elements.tooltip.css(u);
            s.onPositionUpdate.call(s, t);
            typeof t != "undefined" &&
              t.type &&
              t.type !== "mousemove" &&
              n.fn.qtip.log.error.call(
                s,
                1,
                n.fn.qtip.constants.EVENT_POSITION_UPDATED,
                "updatePosition"
              );
          }
          return s;
        },
        updateWidth: function(t) {
          if (s.status.rendered) {
            if (t != undefined && typeof t != "number")
              return n.fn.qtip.log.error.call(
                s,
                2,
                "newWidth must be of type number",
                "updateWidth"
              );
          } else
            return n.fn.qtip.log.error.call(
              s,
              2,
              n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
              "updateWidth"
            );
          var i = s.elements.contentWrapper
              .siblings()
              .add(s.elements.tip)
              .add(s.elements.button),
            r = s.elements.wrapper.add(s.elements.contentWrapper.children()),
            e = s.elements.tooltip,
            u = s.options.style.width.max,
            f = s.options.style.width.min;
          return (
            t ||
              (typeof s.options.style.width.value == "number"
                ? (t = s.options.style.width.value)
                : (s.elements.tooltip.css({ width: "auto" }),
                  i.hide(),
                  n.browser.msie && r.css({ zoom: "" }),
                  (t = s.getDimensions().width),
                  s.options.style.width.value ||
                    (t = Math.min(Math.max(t, f), u)))),
            t % 2 && (t -= 1),
            s.elements.tooltip.width(t),
            i.show(),
            s.options.style.border.radius &&
              s.elements.tooltip.find(".qtip-betweenCorners").each(function() {
                n(this).width(t - s.options.style.border.radius * 2);
              }),
            n.browser.msie &&
              (r.css({ zoom: 1 }),
              s.elements.bgiframe &&
                s.elements.bgiframe.width(t).height(s.getDimensions.height)),
            n.fn.qtip.log.error.call(
              s,
              1,
              n.fn.qtip.constants.EVENT_WIDTH_UPDATED,
              "updateWidth"
            )
          );
        },
        updateStyle: function(i) {
          var r, a, u, e, v;
          if (s.status.rendered) {
            if (typeof i != "string" || !n.fn.qtip.styles[i])
              return n.fn.qtip.log.error.call(
                s,
                2,
                n.fn.qtip.constants.STYLE_NOT_DEFINED,
                "updateStyle"
              );
          } else
            return n.fn.qtip.log.error.call(
              s,
              2,
              n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
              "updateStyle"
            );
          return (
            (s.options.style = h.call(
              s,
              n.fn.qtip.styles[i],
              s.options.user.style
            )),
            s.elements.content.css(t(s.options.style)),
            s.options.content.title.text !== !1 &&
              s.elements.title.css(t(s.options.style.title, !0)),
            s.elements.contentWrapper.css({
              borderColor: s.options.style.border.color
            }),
            s.options.style.tip.corner !== !1 &&
              (n("<canvas>").get(0).getContext
                ? ((r = s.elements.tooltip.find(".qtip-tip canvas:first")),
                  (u = r.get(0).getContext("2d")),
                  u.clearRect(0, 0, 300, 300),
                  (e = r.parent("div[rel]:first").attr("rel")),
                  (v = c(
                    e,
                    s.options.style.tip.size.width,
                    s.options.style.tip.size.height
                  )),
                  o.call(
                    s,
                    r,
                    v,
                    s.options.style.tip.color || s.options.style.border.color
                  ))
                : n.browser.msie &&
                  ((r = s.elements.tooltip.find(
                    '.qtip-tip [nodeName="shape"]'
                  )),
                  r.attr(
                    "fillcolor",
                    s.options.style.tip.color || s.options.style.border.color
                  ))),
            s.options.style.border.radius > 0 &&
              (s.elements.tooltip
                .find(".qtip-betweenCorners")
                .css({ backgroundColor: s.options.style.border.color }),
              n("<canvas>").get(0).getContext
                ? ((a = l(s.options.style.border.radius)),
                  s.elements.tooltip
                    .find(".qtip-wrapper canvas")
                    .each(function() {
                      u = n(this)
                        .get(0)
                        .getContext("2d");
                      u.clearRect(0, 0, 300, 300);
                      e = n(this)
                        .parent("div[rel]:first")
                        .attr("rel");
                      f.call(
                        s,
                        n(this),
                        a[e],
                        s.options.style.border.radius,
                        s.options.style.border.color
                      );
                    }))
                : n.browser.msie &&
                  s.elements.tooltip
                    .find('.qtip-wrapper [nodeName="arc"]')
                    .each(function() {
                      n(this).attr("fillcolor", s.options.style.border.color);
                    })),
            n.fn.qtip.log.error.call(
              s,
              1,
              n.fn.qtip.constants.EVENT_STYLE_UPDATED,
              "updateStyle"
            )
          );
        },
        updateContent: function(t, i) {
          function e() {
            s.updateWidth();
            i !== !1 &&
              (s.options.position.type !== "static" &&
                s.updatePosition(s.elements.tooltip.is(":visible"), !0),
              s.options.style.tip.corner !== !1 && r.call(s));
          }
          var f, u, o;
          if (s.status.rendered) {
            if (!t)
              return n.fn.qtip.log.error.call(
                s,
                2,
                n.fn.qtip.constants.NO_CONTENT_PROVIDED,
                "updateContent"
              );
          } else
            return n.fn.qtip.log.error.call(
              s,
              2,
              n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
              "updateContent"
            );
          if (((f = s.beforeContentUpdate.call(s, t)), typeof f == "string"))
            t = f;
          else if (f === !1) return;
          return (
            n.browser.msie &&
              s.elements.contentWrapper.children().css({ zoom: "normal" }),
            t.jquery && t.length > 0
              ? t
                  .clone(!0)
                  .appendTo(s.elements.content)
                  .show()
              : s.elements.content.html(t),
            (o = 0),
            (u = s.elements.content.find("img")),
            u.length
              ? n.fn.qtip.preload
                ? (u.each(function() {
                    preloaded = n(
                      'body > img[src="' + n(this).attr("src") + '"]:first'
                    );
                    preloaded.length > 0 &&
                      n(this)
                        .attr("width", preloaded.innerWidth())
                        .attr("height", preloaded.innerHeight());
                  }),
                  e())
                : u.bind("load error", function() {
                    ++o === u.length && e();
                  })
              : e(),
            s.updateWidth(),
            i !== !1 &&
              (s.options.position.type !== "static" &&
                s.updatePosition(s.elements.tooltip.is(":visible"), !0),
              s.options.style.tip.corner !== !1 && r.call(s)),
            s.onContentUpdate.call(s),
            n.fn.qtip.log.error.call(
              s,
              1,
              n.fn.qtip.constants.EVENT_CONTENT_UPDATED,
              "loadContent"
            )
          );
        },
        loadContent: function(t, i, r) {
          function f(t) {
            s.onContentLoad.call(s);
            n.fn.qtip.log.error.call(
              s,
              1,
              n.fn.qtip.constants.EVENT_CONTENT_LOADED,
              "loadContent"
            );
            s.updateContent(t);
          }
          var u;
          return s.status.rendered
            ? ((u = s.beforeContentLoad.call(s)), u === !1)
              ? s
              : (r == "post" ? n.post(t, i, f) : n.get(t, i, f), s)
            : n.fn.qtip.log.error.call(
                s,
                2,
                n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
                "loadContent"
              );
        },
        updateTitle: function(t) {
          if (s.status.rendered) {
            if (!t)
              return n.fn.qtip.log.error.call(
                s,
                2,
                n.fn.qtip.constants.NO_CONTENT_PROVIDED,
                "updateTitle"
              );
          } else
            return n.fn.qtip.log.error.call(
              s,
              2,
              n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
              "updateTitle"
            );
          return ((returned = s.beforeTitleUpdate.call(s)), returned === !1)
            ? s
            : (s.elements.button &&
                (s.elements.button = s.elements.button.clone(!0)),
              s.elements.title.html(t),
              s.elements.button && s.elements.title.prepend(s.elements.button),
              s.onTitleUpdate.call(s),
              n.fn.qtip.log.error.call(
                s,
                1,
                n.fn.qtip.constants.EVENT_TITLE_UPDATED,
                "updateTitle"
              ));
        },
        focus: function(t) {
          var u, i, r, f;
          if (s.status.rendered) {
            if (s.options.position.type == "static")
              return n.fn.qtip.log.error.call(
                s,
                1,
                n.fn.qtip.constants.CANNOT_FOCUS_STATIC,
                "focus"
              );
          } else
            return n.fn.qtip.log.error.call(
              s,
              2,
              n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
              "focus"
            );
          if (
            ((u = parseInt(s.elements.tooltip.css("z-index"))),
            (i = 32001 + n("div.qtip[qtip]").length - 1),
            !s.status.focused && u !== i)
          ) {
            if (((f = s.beforeFocus.call(s, t)), f === !1)) return s;
            n("div.qtip[qtip]")
              .not(s.elements.tooltip)
              .each(function() {
                n(this).qtip("api").status.rendered === !0 &&
                  ((r = parseInt(n(this).css("z-index"))),
                  typeof r == "number" &&
                    r > -1 &&
                    n(this).css({
                      zIndex: parseInt(n(this).css("z-index")) - 1
                    }),
                  (n(this).qtip("api").status.focused = !1));
              });
            s.elements.tooltip.css({ zIndex: i });
            s.status.focused = !0;
            s.onFocus.call(s, t);
            n.fn.qtip.log.error.call(
              s,
              1,
              n.fn.qtip.constants.EVENT_FOCUSED,
              "focus"
            );
          }
          return s;
        },
        disable: function(t) {
          return s.status.rendered
            ? (t
                ? s.status.disabled
                  ? n.fn.qtip.log.error.call(
                      s,
                      1,
                      n.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED,
                      "disable"
                    )
                  : ((s.status.disabled = !0),
                    n.fn.qtip.log.error.call(
                      s,
                      1,
                      n.fn.qtip.constants.EVENT_DISABLED,
                      "disable"
                    ))
                : s.status.disabled
                ? ((s.status.disabled = !1),
                  n.fn.qtip.log.error.call(
                    s,
                    1,
                    n.fn.qtip.constants.EVENT_ENABLED,
                    "disable"
                  ))
                : n.fn.qtip.log.error.call(
                    s,
                    1,
                    n.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED,
                    "disable"
                  ),
              s)
            : n.fn.qtip.log.error.call(
                s,
                2,
                n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
                "disable"
              );
        },
        destroy: function() {
          var i, r, t;
          if (((r = s.beforeDestroy.call(s)), r === !1)) return s;
          if (
            (s.status.rendered
              ? (s.options.show.when.target.unbind(
                  "mousemove.qtip",
                  s.updatePosition
                ),
                s.options.show.when.target.unbind("mouseout.qtip", s.hide),
                s.options.show.when.target.unbind(
                  s.options.show.when.event + ".qtip"
                ),
                s.options.hide.when.target.unbind(
                  s.options.hide.when.event + ".qtip"
                ),
                s.elements.tooltip.unbind(s.options.hide.when.event + ".qtip"),
                s.elements.tooltip.unbind("mouseover.qtip", s.focus),
                s.elements.tooltip.remove())
              : s.options.show.when.target.unbind(
                  s.options.show.when.event + ".qtip-create"
                ),
            typeof s.elements.target.data("qtip") == "object" &&
              ((t = s.elements.target.data("qtip").interfaces),
              typeof t == "object" && t.length > 0))
          )
            for (i = 0; i < t.length - 1; i++)
              t[i].id == s.id && t.splice(i, 1);
          return (
            n.fn.qtip.interfaces.splice(s.id, 1),
            typeof t == "object" && t.length > 0
              ? (s.elements.target.data("qtip").current = t.length - 1)
              : s.elements.target.removeData("qtip"),
            s.onDestroy.call(s),
            n.fn.qtip.log.error.call(
              s,
              1,
              n.fn.qtip.constants.EVENT_DESTROYED,
              "destroy"
            ),
            s.elements.target
          );
        },
        getPosition: function() {
          var t, i;
          return s.status.rendered
            ? ((t = s.elements.tooltip.css("display") !== "none" ? !1 : !0),
              t && s.elements.tooltip.css({ visiblity: "hidden" }).show(),
              (i = s.elements.tooltip.offset()),
              t && s.elements.tooltip.css({ visiblity: "visible" }).hide(),
              i)
            : n.fn.qtip.log.error.call(
                s,
                2,
                n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
                "getPosition"
              );
        },
        getDimensions: function() {
          var t, i;
          return s.status.rendered
            ? ((t = s.elements.tooltip.is(":visible") ? !1 : !0),
              t && s.elements.tooltip.css({ visiblity: "hidden" }).show(),
              (i = {
                height: s.elements.tooltip.outerHeight(),
                width: s.elements.tooltip.outerWidth()
              }),
              t && s.elements.tooltip.css({ visiblity: "visible" }).hide(),
              i)
            : n.fn.qtip.log.error.call(
                s,
                2,
                n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,
                "getDimensions"
              );
        }
      });
    }
    function u() {
      var i, r, u, f, o;
      i = this;
      i.beforeRender.call(i);
      i.status.rendered = !0;
      i.elements.tooltip =
        '<div qtip="' +
        i.id +
        '" class="qtip ' +
        (i.options.style.classes.tooltip || i.options.style) +
        '"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:' +
        i.options.position.type +
        ';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content ' +
        i.options.style.classes.content +
        '"></div></div></div></div>';
      i.elements.tooltip = n(i.elements.tooltip);
      i.elements.tooltip.appendTo(i.options.position.container);
      i.elements.tooltip.data("qtip", { current: 0, interfaces: [i] });
      i.elements.wrapper = i.elements.tooltip.children("div:first");
      i.elements.contentWrapper = i.elements.wrapper
        .children("div:first")
        .css({ background: i.options.style.background });
      i.elements.content = i.elements.contentWrapper
        .children("div:first")
        .css(t(i.options.style));
      n.browser.msie &&
        i.elements.wrapper.add(i.elements.content).css({ zoom: 1 });
      /unfocus/i.test(i.options.hide.when.event) &&
        i.elements.tooltip.attr("unfocus", !0);
      typeof i.options.style.width.value == "number" && i.updateWidth();
      n("<canvas>").get(0).getContext || n.browser.msie
        ? (i.options.style.border.radius > 0
            ? v.call(i)
            : i.elements.contentWrapper.css({
                border:
                  i.options.style.border.width +
                  "px solid " +
                  i.options.style.border.color
              }),
          i.options.style.tip.corner !== !1 && e.call(i))
        : (i.elements.contentWrapper.css({
            border:
              i.options.style.border.width +
              "px solid " +
              i.options.style.border.color
          }),
          (i.options.style.border.radius = 0),
          (i.options.style.tip.corner = !1),
          n.fn.qtip.log.error.call(
            i,
            2,
            n.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED,
            "render"
          ));
      (typeof i.options.content.text == "string" &&
        i.options.content.text.length > 0) ||
      (i.options.content.text.jquery && i.options.content.text.length > 0)
        ? (r = i.options.content.text)
        : typeof i.elements.target.attr("title") == "string" &&
          i.elements.target.attr("title").length > 0
        ? ((r = i.elements.target.attr("title").replace("\\n", "<br />")),
          i.elements.target.attr("title", ""))
        : typeof i.elements.target.attr("alt") == "string" &&
          i.elements.target.attr("alt").length > 0
        ? ((r = i.elements.target.attr("alt").replace("\\n", "<br />")),
          i.elements.target.attr("alt", ""))
        : ((r = " "),
          n.fn.qtip.log.error.call(
            i,
            1,
            n.fn.qtip.constants.NO_VALID_CONTENT,
            "render"
          ));
      i.options.content.title.text !== !1 && p.call(i);
      i.updateContent(r);
      w.call(i);
      i.options.show.ready === !0 && i.show();
      i.options.content.url !== !1 &&
        ((u = i.options.content.url),
        (f = i.options.content.data),
        (o = i.options.content.method || "get"),
        i.loadContent(u, f, o));
      i.onRender.call(i);
      n.fn.qtip.log.error.call(
        i,
        1,
        n.fn.qtip.constants.EVENT_RENDERED,
        "render"
      );
    }
    function v() {
      var i, r, s, t, o, e, u, h, a, c, v, y, p, w, b;
      i = this;
      i.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove();
      s = i.options.style.border.width;
      t = i.options.style.border.radius;
      o = i.options.style.border.color || i.options.style.tip.color;
      e = l(t);
      u = {};
      for (r in e)
        (u[r] =
          '<div rel="' +
          r +
          '" style="' +
          (/Left/.test(r) ? "left" : "right") +
          ":0; position:absolute; height:" +
          t +
          "px; width:" +
          t +
          'px; overflow:hidden; line-height:0.1px; font-size:1px">'),
          n("<canvas>").get(0).getContext
            ? (u[r] +=
                '<canvas height="' +
                t +
                '" width="' +
                t +
                '" style="vertical-align: top"></canvas>')
            : n.browser.msie &&
              ((h = t * 2 + 3),
              (u[r] +=
                '<v:arc stroked="false" fillcolor="' +
                o +
                '" startangle="' +
                e[r][0] +
                '" endangle="' +
                e[r][1] +
                '" style="width:' +
                h +
                "px; height:" +
                h +
                "px; margin-top:" +
                (/bottom/.test(r) ? -2 : -1) +
                "px; margin-left:" +
                (/Right/.test(r) ? e[r][2] - 3.5 : -1) +
                'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>')),
          (u[r] += "</div>");
      a = i.getDimensions().width - Math.max(s, t) * 2;
      c =
        '<div class="qtip-betweenCorners" style="height:' +
        t +
        "px; width:" +
        a +
        "px; overflow:hidden; background-color:" +
        o +
        '; line-height:0.1px; font-size:1px;">';
      v =
        '<div class="qtip-borderTop" dir="ltr" style="height:' +
        t +
        "px; margin-left:" +
        t +
        'px; line-height:0.1px; font-size:1px; padding:0;">' +
        u.topLeft +
        u.topRight +
        c;
      i.elements.wrapper.prepend(v);
      y =
        '<div class="qtip-borderBottom" dir="ltr" style="height:' +
        t +
        "px; margin-left:" +
        t +
        'px; line-height:0.1px; font-size:1px; padding:0;">' +
        u.bottomLeft +
        u.bottomRight +
        c;
      i.elements.wrapper.append(y);
      n("<canvas>").get(0).getContext
        ? i.elements.wrapper.find("canvas").each(function() {
            p =
              e[
                n(this)
                  .parent("[rel]:first")
                  .attr("rel")
              ];
            f.call(i, n(this), p, t, o);
          })
        : n.browser.msie &&
          i.elements.tooltip.append(
            '<v:image style="behavior:url(#default#VML);"></v:image>'
          );
      w = Math.max(t, t + (s - t));
      b = Math.max(s - t, 0);
      i.elements.contentWrapper.css({
        border: "0px solid " + o,
        borderWidth: b + "px " + w + "px"
      });
    }
    function f(n, t, i, r) {
      var u = n.get(0).getContext("2d");
      u.fillStyle = r;
      u.beginPath();
      u.arc(t[0], t[1], i, 0, Math.PI * 2, !1);
      u.fill();
    }
    function e(t) {
      var i, s, u, h, f, e;
      ((i = this),
      i.elements.tip !== null && i.elements.tip.remove(),
      (s = i.options.style.tip.color || i.options.style.border.color),
      i.options.style.tip.corner !== !1) &&
        (t || (t = i.options.style.tip.corner),
        (u = c(
          t,
          i.options.style.tip.size.width,
          i.options.style.tip.size.height
        )),
        (i.elements.tip =
          '<div class="' +
          i.options.style.classes.tip +
          '" dir="ltr" rel="' +
          t +
          '" style="position:absolute; height:' +
          i.options.style.tip.size.height +
          "px; width:" +
          i.options.style.tip.size.width +
          'px; margin:0 auto; line-height:0.1px; font-size:1px;"></div>'),
        i.elements.tooltip.prepend(i.elements.tip),
        n("<canvas>").get(0).getContext
          ? (e =
              '<canvas height="' +
              i.options.style.tip.size.height +
              '" width="' +
              i.options.style.tip.size.width +
              '"></canvas>')
          : n.browser.msie &&
            ((h =
              i.options.style.tip.size.width +
              "," +
              i.options.style.tip.size.height),
            (f = "m" + u[0][0] + "," + u[0][1]),
            (f += " l" + u[1][0] + "," + u[1][1]),
            (f += " " + u[2][0] + "," + u[2][1]),
            (f += " xe"),
            (e =
              '<v:shape fillcolor="' +
              s +
              '" stroked="false" filled="true" path="' +
              f +
              '" coordsize="' +
              h +
              '" style="width:' +
              i.options.style.tip.size.width +
              "px; height:" +
              i.options.style.tip.size.height +
              "px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:" +
              (/top/.test(t) ? "bottom" : "top") +
              '"></v:shape>'),
            (e += '<v:image style="behavior:url(#default#VML);"></v:image>'),
            i.elements.contentWrapper.css("position", "relative")),
        (i.elements.tip = i.elements.tooltip
          .find("." + i.options.style.classes.tip)
          .eq(0)),
        i.elements.tip.html(e),
        n("<canvas>").get(0).getContext &&
          o.call(i, i.elements.tip.find("canvas:first"), u, s),
        /top/.test(t) &&
          n.browser.msie &&
          parseInt(n.browser.version.charAt(0)) === 6 &&
          i.elements.tip.css({ marginTop: -4 }),
        r.call(i, t));
    }
    function o(n, t, i) {
      var r = n.get(0).getContext("2d");
      r.fillStyle = i;
      r.beginPath();
      r.moveTo(t[0][0], t[0][1]);
      r.lineTo(t[1][0], t[1][1]);
      r.lineTo(t[2][0], t[2][1]);
      r.fill();
    }
    function r(t) {
      var i, r, u, e, f;
      ((i = this), i.options.style.tip.corner !== !1 && i.elements.tip) &&
        (t || (t = i.elements.tip.attr("rel")),
        (r = positionAdjust = n.browser.msie ? 1 : 0),
        i.elements.tip.css(t.match(/left|right|top|bottom/)[0], 0),
        /top|bottom/.test(t)
          ? (n.browser.msie &&
              (positionAdjust =
                parseInt(n.browser.version.charAt(0)) === 6
                  ? /top/.test(t)
                    ? -3
                    : 1
                  : /top/.test(t)
                  ? 1
                  : 2),
            /Middle/.test(t)
              ? i.elements.tip.css({
                  left: "50%",
                  marginLeft: -(i.options.style.tip.size.width / 2)
                })
              : /Left/.test(t)
              ? i.elements.tip.css({ left: i.options.style.border.radius - r })
              : /Right/.test(t) &&
                i.elements.tip.css({
                  right: i.options.style.border.radius + r
                }),
            /top/.test(t)
              ? i.elements.tip.css({ top: -positionAdjust })
              : i.elements.tip.css({ bottom: positionAdjust }))
          : /left|right/.test(t) &&
            (n.browser.msie &&
              (positionAdjust =
                parseInt(n.browser.version.charAt(0)) === 6
                  ? 1
                  : /left/.test(t)
                  ? 1
                  : 2),
            /Middle/.test(t)
              ? i.elements.tip.css({
                  top: "50%",
                  marginTop: -(i.options.style.tip.size.height / 2)
                })
              : /Top/.test(t)
              ? i.elements.tip.css({ top: i.options.style.border.radius - r })
              : /Bottom/.test(t) &&
                i.elements.tip.css({
                  bottom: i.options.style.border.radius + r
                }),
            /left/.test(t)
              ? i.elements.tip.css({ left: -positionAdjust })
              : i.elements.tip.css({ right: positionAdjust })),
        (u = "padding-" + t.match(/left|right|top|bottom/)[0]),
        (e =
          i.options.style.tip.size[/left|right/.test(u) ? "width" : "height"]),
        i.elements.tooltip.css("padding", 0),
        i.elements.tooltip.css(u, e),
        n.browser.msie &&
          parseInt(n.browser.version.charAt(0)) == 6 &&
          ((f = parseInt(i.elements.tip.css("margin-top")) || 0),
          (f += parseInt(i.elements.content.css("margin-top")) || 0),
          i.elements.tip.css({ marginTop: f })));
    }
    function p() {
      var i = this;
      i.elements.title !== null && i.elements.title.remove();
      i.elements.title = n(
        '<div class="' + i.options.style.classes.title + '">'
      )
        .css(t(i.options.style.title, !0))
        .css({ zoom: n.browser.msie ? 1 : 0 })
        .prependTo(i.elements.contentWrapper);
      i.options.content.title.text &&
        i.updateTitle.call(i, i.options.content.title.text);
      i.options.content.title.button !== !1 &&
        typeof i.options.content.title.button == "string" &&
        (i.elements.button = n(
          '<a class="' +
            i.options.style.classes.button +
            '" style="float:right; position: relative"></a>'
        )
          .css(t(i.options.style.button, !0))
          .html(i.options.content.title.button)
          .prependTo(i.elements.title)
          .click(function(n) {
            i.status.disabled || i.hide(n);
          }));
    }
    function w() {
      function f(r) {
        t.status.disabled !== !0 &&
          (t.options.hide.when.event == "inactive" &&
            (n(u).each(function() {
              i.bind(this + ".qtip-inactive", y);
              t.elements.content.bind(this + ".qtip-inactive", y);
            }),
            y()),
          clearTimeout(t.timers.show),
          clearTimeout(t.timers.hide),
          t.options.show.delay > 0
            ? (t.timers.show = setTimeout(function() {
                t.show(r);
              }, t.options.show.delay))
            : t.show(r));
      }
      function e(i) {
        if (t.status.disabled !== !0) {
          if (
            t.options.hide.fixed === !0 &&
            /mouse(out|leave)/i.test(t.options.hide.when.event) &&
            n(i.relatedTarget).parents("div.qtip[qtip]").length > 0
          )
            return (
              i.stopPropagation(),
              i.preventDefault(),
              clearTimeout(t.timers.hide),
              !1
            );
          clearTimeout(t.timers.show);
          clearTimeout(t.timers.hide);
          t.elements.tooltip.stop(!0, !0);
          t.timers.hide = setTimeout(function() {
            t.hide(i);
          }, t.options.hide.delay);
        }
      }
      var t, r, i, u;
      if (
        ((t = this),
        (r = t.options.show.when.target),
        (i = t.options.hide.when.target),
        t.options.hide.fixed && (i = i.add(t.elements.tooltip)),
        t.options.hide.when.event == "inactive")
      ) {
        u = [
          "click",
          "dblclick",
          "mousedown",
          "mouseup",
          "mousemove",
          "mouseout",
          "mouseenter",
          "mouseleave",
          "mouseover",
          "touchstart"
        ];
        function y(r) {
          t.status.disabled !== !0 &&
            (clearTimeout(t.timers.inactive),
            (t.timers.inactive = setTimeout(function() {
              n(u).each(function() {
                i.unbind(this + ".qtip-inactive");
                t.elements.content.unbind(this + ".qtip-inactive");
              });
              t.hide(r);
            }, t.options.hide.delay)));
        }
      } else
        t.options.hide.fixed === !0 &&
          t.elements.tooltip.bind("mouseover.qtip", function() {
            t.status.disabled !== !0 && clearTimeout(t.timers.hide);
          });
      (t.options.show.when.target.add(t.options.hide.when.target).length ===
        1 &&
        t.options.show.when.event == t.options.hide.when.event &&
        t.options.hide.when.event !== "inactive") ||
      t.options.hide.when.event == "unfocus"
        ? ((t.cache.toggle = 0),
          r.bind(t.options.show.when.event + ".qtip", function(n) {
            t.cache.toggle == 0 ? f(n) : e(n);
          }))
        : (r.bind(t.options.show.when.event + ".qtip", f),
          t.options.hide.when.event !== "inactive" &&
            i.bind(t.options.hide.when.event + ".qtip", e));
      /(fixed|absolute)/.test(t.options.position.type) &&
        t.elements.tooltip.bind("mouseover.qtip", t.focus);
      t.options.position.target === "mouse" &&
        t.options.position.type !== "static" &&
        r.bind("mousemove.qtip", function(n) {
          t.cache.mouse = { x: n.pageX, y: n.pageY };
          t.status.disabled === !1 &&
            t.options.position.adjust.mouse === !0 &&
            t.options.position.type !== "static" &&
            t.elements.tooltip.css("display") !== "none" &&
            t.updatePosition(n);
        });
    }
    function b(t, i, r) {
      var o, u, h, f, s;
      return ((o = this), r.corner == "center")
        ? i.position
        : ((u = n.extend({}, t)),
          (f = { x: !1, y: !1 }),
          (s = {
            left: u.left < n.fn.qtip.cache.screen.scroll.left,
            right:
              u.left + r.dimensions.width + 2 >=
              n.fn.qtip.cache.screen.width + n.fn.qtip.cache.screen.scroll.left,
            top: u.top < n.fn.qtip.cache.screen.scroll.top,
            bottom:
              u.top + r.dimensions.height + 2 >=
              n.fn.qtip.cache.screen.height + n.fn.qtip.cache.screen.scroll.top
          }),
          (h = {
            left: s.left && (/right/i.test(r.corner) || !s.right),
            right: s.right && (/left/i.test(r.corner) || !s.left),
            top: s.top && !/top/i.test(r.corner),
            bottom: s.bottom && !/bottom/i.test(r.corner)
          }),
          h.left
            ? ((u.left =
                o.options.position.target !== "mouse"
                  ? i.position.left + i.dimensions.width
                  : o.cache.mouse.x),
              (f.x = "Left"))
            : h.right &&
              ((u.left =
                o.options.position.target !== "mouse"
                  ? i.position.left - r.dimensions.width
                  : o.cache.mouse.x - r.dimensions.width),
              (f.x = "Right")),
          h.top
            ? ((u.top =
                o.options.position.target !== "mouse"
                  ? i.position.top + i.dimensions.height
                  : o.cache.mouse.y),
              (f.y = "top"))
            : h.bottom &&
              ((u.top =
                o.options.position.target !== "mouse"
                  ? i.position.top - r.dimensions.height
                  : o.cache.mouse.y - r.dimensions.height),
              (f.y = "bottom")),
          u.left < 0 && ((u.left = t.left), (f.x = !1)),
          u.top < 0 && ((u.top = t.top), (f.y = !1)),
          o.options.style.tip.corner !== !1 &&
            ((u.corner = new String(r.corner)),
            u.corner.match(/^(right|left)/)
              ? f.x !== !1 &&
                (u.corner = u.corner.replace(/(left|right)/, f.x.toLowerCase()))
              : (f.x !== !1 &&
                  (u.corner = u.corner.replace(/Left|Right|Middle/, f.x)),
                f.y !== !1 && (u.corner = u.corner.replace(/top|bottom/, f.y))),
            u.corner !== o.elements.tip.attr("rel") && e.call(o, u.corner)),
          u);
    }
    function t(t, i) {
      var r, u;
      r = n.extend(!0, {}, t);
      for (u in r)
        i === !0 && /(tip|classes)/i.test(u)
          ? delete r[u]
          : !i &&
            /(width|border|tip|title|classes|user)/i.test(u) &&
            delete r[u];
      return r;
    }
    function s(n) {
      return (
        typeof n.tip != "object" && (n.tip = { corner: n.tip }),
        typeof n.tip.size != "object" &&
          (n.tip.size = { width: n.tip.size, height: n.tip.size }),
        typeof n.border != "object" && (n.border = { width: n.border }),
        typeof n.width != "object" && (n.width = { value: n.width }),
        typeof n.width.max == "string" &&
          (n.width.max = parseInt(n.width.max.replace(/([0-9]+)/i, "$1"))),
        typeof n.width.min == "string" &&
          (n.width.min = parseInt(n.width.min.replace(/([0-9]+)/i, "$1"))),
        typeof n.tip.size.x == "number" &&
          ((n.tip.size.width = n.tip.size.x), delete n.tip.size.x),
        typeof n.tip.size.y == "number" &&
          ((n.tip.size.height = n.tip.size.y), delete n.tip.size.y),
        n
      );
    }
    function h() {
      var u, r, f, i, t, e;
      for (u = this, f = [!0, {}], r = 0; r < arguments.length; r++)
        f.push(arguments[r]);
      for (i = [n.extend.apply(n, f)]; typeof i[0].name == "string"; )
        i.unshift(s(n.fn.qtip.styles[i[0].name]));
      return (
        i.unshift(
          !0,
          { classes: { tooltip: "qtip-" + (arguments[0].name || "defaults") } },
          n.fn.qtip.styles.defaults
        ),
        (t = n.extend.apply(n, i)),
        (e = n.browser.msie ? 1 : 0),
        (t.tip.size.width += e),
        (t.tip.size.height += e),
        t.tip.size.width % 2 > 0 && (t.tip.size.width += 1),
        t.tip.size.height % 2 > 0 && (t.tip.size.height += 1),
        t.tip.corner === !0 &&
          (t.tip.corner =
            u.options.position.corner.tooltip === "center"
              ? !1
              : u.options.position.corner.tooltip),
        t
      );
    }
    function c(n, t, i) {
      var r = {
        bottomRight: [
          [0, 0],
          [t, i],
          [t, 0]
        ],
        bottomLeft: [
          [0, 0],
          [t, 0],
          [0, i]
        ],
        topRight: [
          [0, i],
          [t, 0],
          [t, i]
        ],
        topLeft: [
          [0, 0],
          [0, i],
          [t, i]
        ],
        topMiddle: [
          [0, i],
          [t / 2, 0],
          [t, i]
        ],
        bottomMiddle: [
          [0, 0],
          [t, 0],
          [t / 2, i]
        ],
        rightMiddle: [
          [0, 0],
          [t, i / 2],
          [0, i]
        ],
        leftMiddle: [
          [t, 0],
          [t, i],
          [0, i / 2]
        ]
      };
      return (
        (r.leftTop = r.bottomRight),
        (r.rightTop = r.bottomLeft),
        (r.leftBottom = r.topRight),
        (r.rightBottom = r.topLeft),
        r[n]
      );
    }
    function l(t) {
      var i;
      return (
        n("<canvas>").get(0).getContext
          ? (i = {
              topLeft: [t, t],
              topRight: [0, t],
              bottomLeft: [t, 0],
              bottomRight: [0, 0]
            })
          : n.browser.msie &&
            (i = {
              topLeft: [-90, 90, 0],
              topRight: [-90, 90, -t],
              bottomLeft: [90, 270, 0],
              bottomRight: [90, 270, -t]
            }),
        i
      );
    }
    function k() {
      var n, i, t;
      n = this;
      t = n.getDimensions();
      i =
        '<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:' +
        t.height +
        "px; width:" +
        t.width +
        'px" />';
      n.elements.bgiframe = n.elements.wrapper
        .prepend(i)
        .children(".qtip-bgiframe:first");
    }
    n.fn.qtip = function(t, i) {
      var e, v, f, o, y, c, r, l;
      if (typeof t == "string") {
        if (
          (n.isPlainObject(n(this).data("qtip")) &&
            n.fn.qtip.log.error.call(
              self,
              1,
              n.fn.qtip.constants.NO_TOOLTIP_PRESENT,
              !1
            ),
          t == "api")
        )
          return n(this).data("qtip").interfaces[n(this).data("qtip").current];
        if (t == "interfaces") return n(this).data("qtip").interfaces;
      } else
        t || (t = {}),
          (typeof t.content != "object" ||
            (t.content.jquery && t.content.length > 0)) &&
            (t.content = { text: t.content }),
          typeof t.content.title != "object" &&
            (t.content.title = { text: t.content.title }),
          typeof t.position != "object" &&
            (t.position = { corner: t.position }),
          typeof t.position.corner != "object" &&
            (t.position.corner = {
              target: t.position.corner,
              tooltip: t.position.corner
            }),
          typeof t.show != "object" && (t.show = { when: t.show }),
          typeof t.show.when != "object" &&
            (t.show.when = { event: t.show.when }),
          typeof t.show.effect != "object" &&
            (t.show.effect = { type: t.show.effect }),
          typeof t.hide != "object" && (t.hide = { when: t.hide }),
          typeof t.hide.when != "object" &&
            (t.hide.when = { event: t.hide.when }),
          typeof t.hide.effect != "object" &&
            (t.hide.effect = { type: t.hide.effect }),
          typeof t.style != "object" && (t.style = { name: t.style }),
          (t.style = s(t.style)),
          (o = n.extend(!0, {}, n.fn.qtip.defaults, t)),
          (o.style = h.call({ options: o }, o.style)),
          (o.user = n.extend(!0, {}, t));
      return n(this).each(function() {
        if (typeof t == "string") {
          if (
            ((c = t.toLowerCase()),
            (f = n(this).qtip("interfaces")),
            typeof f == "object")
          )
            if (i === !0 && c == "destroy")
              while (f.length > 0) f[f.length - 1].destroy();
            else
              for (
                i !== !0 && (f = [n(this).qtip("api")]), e = 0;
                e < f.length;
                e++
              )
                c == "destroy"
                  ? f[e].destroy()
                  : f[e].status.rendered === !0 &&
                    (c == "show"
                      ? f[e].show()
                      : c == "hide"
                      ? f[e].hide()
                      : c == "focus"
                      ? f[e].focus()
                      : c == "disable"
                      ? f[e].disable(!0)
                      : c == "enable" && f[e].disable(!1));
        } else {
          for (
            r = n.extend(!0, {}, o),
              r.hide.effect.length = o.hide.effect.length,
              r.show.effect.length = o.show.effect.length,
              r.position.container === !1 &&
                (r.position.container = n(document.body)),
              r.position.target === !1 && (r.position.target = n(this)),
              r.show.when.target === !1 && (r.show.when.target = n(this)),
              r.hide.when.target === !1 && (r.hide.when.target = n(this)),
              v = n.fn.qtip.interfaces.length,
              e = 0;
            e < v;
            e++
          )
            typeof n(this).data("qtip") == "object" && n(this).data("qtip");
          y = new a(n(this), r, v);
          n.fn.qtip.interfaces[v] = y;
          n.isPlainObject(n(this).data("qtip"))
            ? (typeof n(this).attr("qtip") == "undefined" &&
                (n(this).data("qtip").current = n(this).data(
                  "qtip"
                ).interfaces.length),
              n(this)
                .data("qtip")
                .interfaces.push(y))
            : n(this).data("qtip", { current: 0, interfaces: [y] });
          r.content.prerender === !1 &&
          r.show.when.event !== !1 &&
          r.show.ready !== !0
            ? r.show.when.target.bind(
                r.show.when.event + ".qtip-" + v + "-create",
                { qtip: v },
                function(t) {
                  l = n.fn.qtip.interfaces[t.data.qtip];
                  l.options.show.when.target.unbind(
                    l.options.show.when.event +
                      ".qtip-" +
                      t.data.qtip +
                      "-create"
                  );
                  l.cache.mouse = { x: t.pageX, y: t.pageY };
                  u.call(l);
                  l.options.show.when.target.trigger(l.options.show.when.event);
                }
              )
            : ((y.cache.mouse = {
                x: r.show.when.target.offset().left,
                y: r.show.when.target.offset().top
              }),
              u.call(y));
        }
      });
    };
    n(document).ready(function() {
      n.fn.qtip.cache = {
        screen: {
          scroll: { left: n(window).scrollLeft(), top: n(window).scrollTop() },
          width: n(window).width(),
          height: n(window).height()
        }
      };
      var t;
      n(window).bind("resize scroll", function(r) {
        clearTimeout(t);
        t = setTimeout(function() {
          for (
            r.type === "scroll"
              ? (n.fn.qtip.cache.screen.scroll = {
                  left: n(window).scrollLeft(),
                  top: n(window).scrollTop()
                })
              : ((n.fn.qtip.cache.screen.width = n(window).width()),
                (n.fn.qtip.cache.screen.height = n(window).height())),
              i = 0;
            i < n.fn.qtip.interfaces.length;
            i++
          ) {
            var t = n.fn.qtip.interfaces[i];
            t.status.rendered === !0 &&
              ((t.options.position.adjust.scroll && r.type === "scroll") ||
                (t.options.position.adjust.resize && r.type === "resize")) &&
              t.updatePosition(r, !0);
          }
        }, 100);
      });
      n(document).bind("touchstart.qtip", function(t) {
        n(t.target).parents("div.qtip").length === 0 &&
          n(".qtip[unfocus]").each(function() {
            var i = n(this).qtip("api");
            n(this).is(":visible") &&
              !i.status.disabled &&
              n(t.target).add(i.elements.target).length > 1 &&
              i.hide(t);
          });
      });
      n(document).bind("mousedown.qtip", function(t) {
        n(t.target).parents("div.qtip").length === 0 &&
          n(".qtip[unfocus]").each(function() {
            var i = n(this).qtip("api");
            n(this).is(":visible") &&
              !i.status.disabled &&
              n(t.target).add(i.elements.target).length > 1 &&
              i.hide(t);
          });
      });
    });
    n.fn.qtip.interfaces = [];
    n.fn.qtip.log = {
      error: function() {
        return this;
      }
    };
    n.fn.qtip.constants = {};
    n.fn.qtip.defaults = {
      content: {
        prerender: !1,
        text: !1,
        url: !1,
        data: null,
        title: { text: !1, button: !1 }
      },
      position: {
        target: !1,
        corner: { target: "bottomRight", tooltip: "topLeft" },
        adjust: { x: 0, y: 0, mouse: !0, screen: !1, scroll: !0, resize: !0 },
        type: "absolute",
        container: !1
      },
      show: {
        when: { target: !1, event: "mouseover" },
        effect: { type: "fade", length: 100 },
        delay: 140,
        solo: !1,
        ready: !1
      },
      hide: {
        when: { target: !1, event: "mouseout" },
        effect: { type: "fade", length: 100 },
        delay: 0,
        fixed: !1
      },
      api: {
        beforeRender: function() {},
        onRender: function() {},
        beforePositionUpdate: function() {},
        onPositionUpdate: function() {},
        beforeShow: function() {},
        onShow: function() {},
        beforeHide: function() {},
        onHide: function() {},
        beforeContentUpdate: function() {},
        onContentUpdate: function() {},
        beforeContentLoad: function() {},
        onContentLoad: function() {},
        beforeTitleUpdate: function() {},
        onTitleUpdate: function() {},
        beforeDestroy: function() {},
        onDestroy: function() {},
        beforeFocus: function() {},
        onFocus: function() {}
      }
    };
    n.fn.qtip.styles = {
      defaults: {
        background: "white",
        color: "#111",
        overflow: "hidden",
        textAlign: "left",
        width: { min: 0, max: 250 },
        padding: "5px 9px",
        border: { width: 1, radius: 0, color: "#d3d3d3" },
        tip: {
          corner: !1,
          color: !1,
          size: { width: 13, height: 13 },
          opacity: 1
        },
        title: {
          background: "#e1e1e1",
          fontWeight: "bold",
          padding: "7px 12px"
        },
        button: { cursor: "pointer" },
        classes: {
          target: "",
          tip: "qtip-tip",
          title: "qtip-title",
          button: "qtip-button",
          content: "qtip-content",
          active: "qtip-active"
        }
      },
      cream: {
        border: { width: 3, radius: 0, color: "#F9E98E" },
        title: { background: "#F0DE7D", color: "#A27D35" },
        background: "#FBF7AA",
        color: "#A27D35",
        classes: { tooltip: "qtip-cream" }
      },
      light: {
        border: { width: 3, radius: 0, color: "#E2E2E2" },
        title: { background: "#f1f1f1", color: "#454545" },
        background: "white",
        color: "#454545",
        classes: { tooltip: "qtip-light" }
      },
      dark: {
        border: { width: 3, radius: 0, color: "#303030" },
        title: { background: "#404040", color: "#f3f3f3" },
        background: "#505050",
        color: "#f3f3f3",
        classes: { tooltip: "qtip-dark" }
      },
      red: {
        border: { width: 3, radius: 0, color: "#CE6F6F" },
        title: { background: "#f28279", color: "#9C2F2F" },
        background: "#F79992",
        color: "#9C2F2F",
        classes: { tooltip: "qtip-red" }
      },
      green: {
        border: { width: 3, radius: 0, color: "#A9DB66" },
        title: { background: "#b9db8c", color: "#58792E" },
        background: "#CDE6AC",
        color: "#58792E",
        classes: { tooltip: "qtip-green" }
      },
      blue: {
        border: { width: 3, radius: 0, color: "#ADD9ED" },
        title: { background: "#D0E9F5", color: "#5E99BD" },
        background: "#E5F6FE",
        color: "#4D9FBF",
        classes: { tooltip: "qtip-blue" }
      }
    };
  })(jQuery),
  (function(n) {
    function t(n, t) {
      var i, r;
      return (
        (r = t ? "ig" : "i"),
        (i = new RegExp(
          "< *[img][^>]*[src] *= *[\"']{0,1}([^\"' >]*)[^>]*>",
          r
        )),
        i.exec(n)
      );
    }
    n.fn.qtip.preload = function(i) {
      var r = [],
        u,
        f;
      if (
        (i.jquery && i.length > 0 && i.html && (i = i.html()),
        (r = t(i, !0)),
        r && r.length > 0)
      )
        for (u = r.length; u--; )
          r[u].search(/^</i) < 0 ||
            r[u].search(/(width|height){1} *= *["']{0,1}([^>]*)/i) > -1 ||
            ((f = t(r[u])),
            f &&
              f.length > 1 &&
              f[1] &&
              n(document.body).append(
                '<img src="' +
                  f[1] +
                  '" style="position: absolute; left: -10000em; " />'
              ));
    };
  })(jQuery),
  (function(n) {
    n.fn.hoverIntent = function(t, i) {
      var r = { sensitivity: 7, interval: 100, timeout: 0 };
      r = n.extend(r, i ? { over: t, out: i } : t);
      var u,
        f,
        e,
        o,
        s = function(n) {
          u = n.pageX;
          f = n.pageY;
        },
        h = function(t, i) {
          if (
            ((i.hoverIntent_t = clearTimeout(i.hoverIntent_t)),
            Math.abs(e - u) + Math.abs(o - f) < r.sensitivity)
          )
            return (
              n(i).unbind("mousemove", s),
              (i.hoverIntent_s = 1),
              r.over.apply(i, [t])
            );
          e = u;
          o = f;
          i.hoverIntent_t = setTimeout(function() {
            h(t, i);
          }, r.interval);
        },
        l = function(n, t) {
          return (
            (t.hoverIntent_t = clearTimeout(t.hoverIntent_t)),
            (t.hoverIntent_s = 0),
            r.out.apply(t, [n])
          );
        },
        c = function(t) {
          for (
            var u =
                (t.type == "mouseover" ? t.fromElement : t.toElement) ||
                t.relatedTarget,
              f,
              i;
            u && u != this;

          )
            try {
              u = u.parentNode;
            } catch (t) {
              u = this;
            }
          if (u == this) return !1;
          f = jQuery.extend({}, t);
          i = this;
          i.hoverIntent_t && (i.hoverIntent_t = clearTimeout(i.hoverIntent_t));
          t.type == "mouseover"
            ? ((e = f.pageX),
              (o = f.pageY),
              n(i).bind("mousemove", s),
              i.hoverIntent_s != 1 &&
                (i.hoverIntent_t = setTimeout(function() {
                  h(f, i);
                }, r.interval)))
            : (n(i).unbind("mousemove", s),
              i.hoverIntent_s == 1 &&
                (i.hoverIntent_t = setTimeout(function() {
                  l(f, i);
                }, r.timeout)));
        };
      return this.mouseover(c).mouseout(c);
    };
  })(jQuery),
  (function(n) {
    n.fn.bgIframe = n.fn.bgiframe = function(t) {
      if (n.browser.msie && parseInt(n.browser.version) <= 6) {
        t = n.extend(
          {
            top: "auto",
            left: "auto",
            width: "auto",
            height: "auto",
            opacity: !0,
            src: "javascript:false;"
          },
          t || {}
        );
        var i = function(n) {
            return n && n.constructor == Number ? n + "px" : n;
          },
          r =
            '<iframe class="bgiframe"frameborder="0"tabindex="-1"src="' +
            t.src +
            '"style="display:block;position:absolute;z-index:-1;' +
            (t.opacity !== !1 ? "filter:Alpha(Opacity='0');" : "") +
            "top:" +
            (t.top == "auto"
              ? "expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')"
              : i(t.top)) +
            ";left:" +
            (t.left == "auto"
              ? "expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')"
              : i(t.left)) +
            ";width:" +
            (t.width == "auto"
              ? "expression(this.parentNode.offsetWidth+'px')"
              : i(t.width)) +
            ";height:" +
            (t.height == "auto"
              ? "expression(this.parentNode.offsetHeight+'px')"
              : i(t.height)) +
            ';"/>';
        return this.each(function() {
          n("> iframe.bgiframe", this).length == 0 &&
            this.insertBefore(document.createElement(r), this.firstChild);
        });
      }
      return this;
    };
    n.browser.version ||
      (n.browser.version = navigator.userAgent
        .toLowerCase()
        .match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)[1]);
  })(jQuery),
  (function(n) {
    n.fn.superfish = function(t) {
      var i = n.fn.superfish,
        r = i.c,
        o = n(['<span class="', r.arrowClass, '"> &#187;</span>'].join("")),
        u = function() {
          var t = n(this),
            i = e(t);
          clearTimeout(i.sfTimer);
          t.showSuperfishUl()
            .siblings()
            .hideSuperfishUl();
        },
        f = function() {
          var r = n(this),
            f = e(r),
            t = i.op;
          clearTimeout(f.sfTimer);
          f.sfTimer = setTimeout(function() {
            t.retainPath = n.inArray(r[0], t.$path) > -1;
            r.hideSuperfishUl();
            t.$path.length &&
              r.parents(["li.", t.hoverClass].join("")).length < 1 &&
              u.call(t.$path);
          }, t.delay);
        },
        e = function(n) {
          var t = n.parents(["ul.", r.menuClass, ":first"].join(""))[0];
          return (i.op = i.o[t.serial]), t;
        },
        s = function(n) {
          n.addClass(r.anchorClass).append(o.clone());
        };
      return this.each(function() {
        var h = (this.serial = i.o.length),
          e = n.extend({}, i.defaults, t),
          o;
        e.$path = n("li." + e.pathClass, this)
          .slice(0, e.pathLevels)
          .each(function() {
            n(this)
              .addClass([e.hoverClass, r.bcClass].join(" "))
              .filter("li:has(ul)")
              .removeClass(e.pathClass);
          });
        i.o[h] = i.op = e;
        n("li:has(ul)", this)
          [n.fn.hoverIntent && !e.disableHI ? "hoverIntent" : "hover"](u, f)
          .each(function() {
            e.autoArrows && s(n(">a:first-child", this));
          })
          .not("." + r.bcClass)
          .hideSuperfishUl();
        o = n("a", this);
        o.each(function(n) {
          var t = o.eq(n).parents("li");
          o.eq(n)
            .focus(function() {
              u.call(t);
            })
            .blur(function() {
              f.call(t);
            });
        });
        e.onInit.call(this);
      }).each(function() {
        var t = [r.menuClass];
        !i.op.dropShadows ||
          (n.browser.msie && n.browser.version < 7) ||
          t.push(r.shadowClass);
        n(this).addClass(t.join(" "));
      });
    };
    var t = n.fn.superfish;
    t.o = [];
    t.op = {};
    t.IE7fix = function() {
      var i = t.op;
      n.browser.msie &&
        n.browser.version > 6 &&
        i.dropShadows &&
        i.animation.opacity != undefined &&
        this.toggleClass(t.c.shadowClass + "-off");
    };
    t.c = {
      bcClass: "sf-breadcrumb",
      menuClass: "sf-js-enabled",
      anchorClass: "sf-with-ul",
      arrowClass: "sf-sub-indicator",
      shadowClass: "sf-shadow"
    };
    t.defaults = {
      hoverClass: "sfHover",
      pathClass: "overideThisToUse",
      pathLevels: 1,
      delay: 800,
      animation: { opacity: "show" },
      speed: "normal",
      autoArrows: !0,
      dropShadows: !0,
      disableHI: !1,
      onInit: function() {},
      onBeforeShow: function() {},
      onShow: function() {},
      onHide: function() {}
    };
    n.fn.extend({
      hideSuperfishUl: function() {
        var i = t.op,
          u = i.retainPath === !0 ? i.$path : "",
          r;
        return (
          (i.retainPath = !1),
          (r = n(["li.", i.hoverClass].join(""), this)
            .add(this)
            .not(u)
            .removeClass(i.hoverClass)
            .find(">ul")
            .hide()
            .css("visibility", "hidden")),
          i.onHide.call(r),
          this
        );
      },
      showSuperfishUl: function() {
        var n = t.op,
          r = t.c.shadowClass + "-off",
          i = this.addClass(n.hoverClass)
            .find(">ul:hidden")
            .css("visibility", "visible");
        return (
          t.IE7fix.call(i),
          n.onBeforeShow.call(i),
          i.animate(n.animation, n.speed, function() {
            t.IE7fix.call(i);
            n.onShow.call(i);
          }),
          this
        );
      }
    });
  })(jQuery),
  (function(n, t, i) {
    function ai(i, r, u) {
      var f = t.createElement(i);
      return r && (f.id = c + r), u && (f.style.cssText = u), n(f);
    }
    function f(i, r, u) {
      return (
        (u = t.createElement("div")),
        i && (u.id = c + i),
        (u.style.cssText = r || ""),
        n(u)
      );
    }
    function a(n, t) {
      return Math.round(
        (/%/.test(n) ? (t === "x" ? v.width() : v.height()) / 100 : 1) *
          parseInt(n, 10)
      );
    }
    function si(n) {
      return (
        r.photo || /\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(n)
      );
    }
    function vi(t) {
      r = n.extend({}, n.data(y, w));
      for (t in r)
        n.isFunction(r[t]) &&
          t.substring(0, 2) !== "on" &&
          (r[t] = r[t].call(y));
      r.rel = r.rel || y.rel || "nofollow";
      r.href = r.href || n(y).attr("href");
      r.title = r.title || y.title;
      typeof r.href == "string" && (r.href = n.trim(r.href));
    }
    function rt(i, r) {
      n(t).trigger(i);
      ft.trigger(i);
      n.isFunction(r) && r.call(y);
    }
    function wi() {
      var a,
        n = c + "Slideshow_",
        i = "click." + c,
        f,
        s,
        l,
        t;
      r.slideshow && e[1]
        ? ((f = function() {
            clearTimeout(a);
          }),
          (s = function() {
            (r.loop || e[o + 1]) && (a = setTimeout(u.next, r.slideshowSpeed));
          }),
          (l = function() {
            ht.html(r.slideshowStop)
              .unbind(i)
              .one(i, t);
            ft.bind(dt, s)
              .bind(kt, f)
              .bind(vt, t);
            h.removeClass(n + "off").addClass(n + "on");
          }),
          (t = function() {
            f();
            ft.unbind(dt, s)
              .unbind(kt, f)
              .unbind(vt, t);
            ht.html(r.slideshowStart)
              .unbind(i)
              .one(i, function() {
                u.next();
                l();
              });
            h.removeClass(n + "on").addClass(n + "off");
          }),
          r.slideshowAuto ? l() : t())
        : h.removeClass(n + "off " + n + "on");
    }
    function yi(t) {
      if (!bt) {
        if (
          ((y = t),
          vi(),
          (e = n(y)),
          (o = 0),
          r.rel !== "nofollow" &&
            ((e = n("." + ut).filter(function() {
              var t = n.data(this, w).rel || this.rel;
              return t === r.rel;
            })),
            (o = e.index(y)),
            o === -1 && ((e = e.add(y)), (o = e.length - 1))),
          !d)
        ) {
          if (((d = at = !0), h.show(), r.returnFocus))
            try {
              y.blur();
              ft.one(li, function() {
                n(y).focus();
              });
            } catch (i) {}
          g.css({
            opacity: +r.opacity,
            cursor: r.overlayClose ? "pointer" : "auto"
          }).show();
          r.w = a(r.initialWidth, "x");
          r.h = a(r.initialHeight, "y");
          u.position();
          ot &&
            v
              .bind("resize." + pt + " scroll." + pt, function() {
                g.css({
                  width: v.width(),
                  height: v.height(),
                  top: v.scrollTop(),
                  left: v.scrollLeft()
                });
              })
              .trigger("resize." + pt);
          rt(ci, r.onOpen);
          ei.add(ri).hide();
        }
        fi.html(r.close).show();
        u.load(!0);
      }
    }
    var hi = {
        transition: "elastic",
        speed: 300,
        width: !1,
        initialWidth: "600",
        innerWidth: !1,
        maxWidth: !1,
        height: !1,
        initialHeight: "450",
        innerHeight: !1,
        maxHeight: !1,
        scalePhotos: !0,
        scrolling: !0,
        inline: !1,
        preiframe: !1,
        minBoxClass: "MinimizedBox",
        html: !1,
        iframe: !1,
        fastIframe: !0,
        photo: !1,
        href: !1,
        title: !1,
        rel: !1,
        opacity: 0.4,
        preloading: !0,
        current: "image {current} of {total}",
        previous: "previous",
        next: "next",
        close: "close",
        open: !1,
        returnFocus: !0,
        loop: !0,
        slideshow: !1,
        slideshowAuto: !0,
        slideshowSpeed: 2500,
        slideshowStart: "start slideshow",
        slideshowStop: "stop slideshow",
        onOpen: !1,
        onLoad: !1,
        onComplete: !1,
        onCleanup: !1,
        onClosed: !1,
        overlayClose: !0,
        escKey: !0,
        arrowKey: !0,
        top: !1,
        bottom: !1,
        left: !1,
        right: !1,
        fixed: !1,
        data: !1
      },
      w = "colorbox",
      c = "cbox",
      ut = c + "Element",
      ci = c + "_open",
      kt = c + "_load",
      dt = c + "_complete",
      vt = c + "_cleanup",
      li = c + "_closed",
      yt = c + "_purge",
      et = n.browser.msie && !n.support.opacity,
      ot = et && n.browser.version < 7,
      pt = c + "_IE6",
      g,
      h,
      it,
      p,
      gt,
      ni,
      ti,
      ii,
      e,
      v,
      l,
      st,
      wt,
      ri,
      ui,
      ht,
      ct,
      lt,
      fi,
      ei,
      ft = n({}),
      r,
      nt,
      tt,
      b,
      k,
      y,
      o,
      s,
      d,
      at,
      bt,
      oi,
      u,
      pi = "div";
    u = n.fn[w] = n[w] = function(t, i) {
      var r = this;
      if (((t = t || {}), !r[0])) {
        if (r.selector) return r;
        r = n("<a/>");
        t.open = !0;
      }
      return (
        i && (t.onComplete = i),
        r.each(function() {
          n.data(this, w, n.extend({}, n.data(this, w) || hi, t));
          n(this).addClass(ut);
        }),
        ((n.isFunction(t.open) && t.open.call(r)) || t.open) && yi(r[0]),
        r
      );
    };
    u.init = function() {
      v = n(i);
      h = f().attr({ id: w, class: et ? c + (ot ? "IE6" : "IE") : "" });
      g = f("Overlay", ot ? "position:absolute" : "").hide();
      it = f("Wrapper");
      p = f("Content").append(
        (l = f("LoadedContent", "width:0; height:0; overflow:hidden")),
        (wt = f("LoadingOverlay").add(f("LoadingGraphic"))),
        (ri = f("Title")),
        (ui = f("Current")),
        (ct = f("Next")),
        (lt = f("Previous")),
        (ht = f("Slideshow").bind(ci, wi)),
        (fi = f("Close"))
      );
      it.append(
        f().append(f("TopLeft"), (gt = f("TopCenter")), f("TopRight")),
        f(!1, "clear:left").append(
          (ni = f("MiddleLeft")),
          p,
          (ti = f("MiddleRight"))
        ),
        f(!1, "clear:left").append(
          f("BottomLeft"),
          (ii = f("BottomCenter")),
          f("BottomRight")
        )
      )
        .children()
        .children()
        .css({ float: "left" });
      st = f(
        !1,
        "position:absolute; width:9999px; visibility:hidden; display:none"
      );
      n("body").prepend(g, h.append(it, st));
      p.children()
        .hover(
          function() {
            n(this).addClass("hover");
          },
          function() {
            n(this).removeClass("hover");
          }
        )
        .addClass("hover");
      nt = gt.height() + ii.height() + p.outerHeight(!0) - p.height();
      tt = ni.width() + ti.width() + p.outerWidth(!0) - p.width();
      b = l.outerHeight(!0);
      k = l.outerWidth(!0);
      h.css({ "padding-bottom": nt, "padding-right": tt }).hide();
      ct.click(function() {
        u.next();
      });
      lt.click(function() {
        u.prev();
      });
      fi.click(function() {
        u.close();
      });
      ei = ct
        .add(lt)
        .add(ui)
        .add(ht);
      p.children().removeClass("hover");
      g.click(function() {
        r != null && r.overlayClose && u.close();
      });
      n(t).bind("keydown." + c, function(n) {
        var t = n.keyCode;
        d && r.escKey && t === 27 && (n.preventDefault(), u.close());
        d &&
          r.arrowKey &&
          e[1] &&
          (t === 37
            ? (n.preventDefault(), lt.click())
            : t === 39 && (n.preventDefault(), ct.click()));
      });
    };
    u.remove = function() {
      h.add(g).remove();
      n("." + ut)
        .removeData(w)
        .removeClass(ut);
    };
    u.position = function(n, i) {
      function o(n) {
        gt[0].style.width = ii[0].style.width = p[0].style.width =
          n.style.width;
        wt[0].style.height = wt[1].style.height = p[0].style.height = ni[0].style.height = ti[0].style.height =
          n.style.height;
      }
      var f = 0,
        e = 0;
      v.unbind("resize." + c);
      h.hide();
      r.fixed && !ot
        ? h.css({ position: "fixed" })
        : ((f = v.scrollTop()),
          (e = v.scrollLeft()),
          h.css({ position: "absolute" }));
      e +=
        r.right !== !1
          ? Math.max(v.width() - r.w - k - tt - a(r.right, "x"), 0)
          : r.left !== !1
          ? a(r.left, "x")
          : Math.round(Math.max(v.width() - r.w - k - tt, 0) / 2);
      f +=
        r.bottom !== !1
          ? Math.max(
              t.documentElement.clientHeight - r.h - b - nt - a(r.bottom, "y"),
              0
            )
          : r.top !== !1
          ? a(r.top, "y")
          : Math.round(
              Math.max(t.documentElement.clientHeight - r.h - b - nt, 0) / 2
            );
      h.show();
      n = h.width() === r.w + k && h.height() === r.h + b ? 0 : n || 0;
      it[0].style.width = it[0].style.height = "9999px";
      h.dequeue().animate(
        { width: r.w + k, height: r.h + b, top: f, left: e },
        {
          duration: n,
          complete: function() {
            o(this);
            at = !1;
            it[0].style.width = r.w + k + tt + "px";
            it[0].style.height = r.h + b + nt + "px";
            i && i();
            setTimeout(function() {
              v.bind("resize." + c, u.position);
            }, 1);
          },
          step: function() {
            o(this);
          }
        }
      );
    };
    u.resize = function(n) {
      if (d) {
        if (
          ((n = n || {}),
          n.width && (r.w = a(n.width, "x") - k - tt),
          n.innerWidth && (r.w = a(n.innerWidth, "x")),
          l.css({ width: r.w }),
          n.height && (r.h = a(n.height, "y") - b - nt),
          n.innerHeight && (r.h = a(n.innerHeight, "y")),
          !n.innerHeight && !n.height)
        ) {
          var t = l.wrapInner("<div style='overflow:auto'></div>").children();
          r.h = t.height();
          t.replaceWith(t.children());
        }
        l.css({ height: r.h });
        u.position(r.transition === "none" ? 0 : r.speed);
      }
    };
    u.prep = function(t) {
      function v() {
        return (
          (r.w = r.w || l.width()), (r.w = r.mw && r.mw < r.w ? r.mw : r.w), r.w
        );
      }
      function y() {
        return (
          (r.h = r.h || l.height()),
          (r.h = r.mh && r.mh < r.h ? r.mh : r.h),
          r.h
        );
      }
      if (d) {
        var i,
          a = r.transition === "none" ? 0 : r.speed;
        if (
          (l.remove(),
          r.preiframe || (l = f("LoadedContent").append(t)),
          r.preiframe || l.hide().appendTo(st.show()),
          (r.preiframe ? t : l)
            .css({ width: v(), overflow: r.scrolling ? "auto" : "hidden" })
            .css({ height: y() }),
          r.preiframe || l.prependTo(p),
          st.hide(),
          n(s).css({ float: "none" }),
          ot)
        )
          n("select")
            .not(h.find("select"))
            .filter(function() {
              return this.style.visibility !== "hidden";
            })
            .css({ visibility: "hidden" })
            .one(vt, function() {
              this.style.visibility = "inherit";
            });
        i = function() {
          function nt() {
            et && h[0].style.removeAttribute("filter");
          }
          var v,
            i,
            y,
            u,
            f = e.length,
            t,
            k = "frameBorder",
            g = "allowTransparency",
            p,
            b;
          if (d) {
            if (
              ((p = function() {
                wt.hide();
                rt(dt, r.onComplete);
              }),
              et && s && l.fadeIn(100),
              ri
                .html(r.title)
                .add(l)
                .show(),
              f > 1
                ? (typeof r.current == "string" &&
                    ui
                      .html(
                        r.current
                          .replace("{current}", o + 1)
                          .replace("{total}", f)
                      )
                      .show(),
                  ct[r.loop || o < f - 1 ? "show" : "hide"]().html(r.next),
                  lt[r.loop || o ? "show" : "hide"]().html(r.previous),
                  (v = o ? e[o - 1] : e[f - 1]),
                  (y = o < f - 1 ? e[o + 1] : e[0]),
                  r.slideshow && ht.show(),
                  r.preloading &&
                    ((u = n.data(y, w).href || y.href),
                    (i = n.data(v, w).href || v.href),
                    (u = n.isFunction(u) ? u.call(y) : u),
                    (i = n.isFunction(i) ? i.call(v) : i),
                    si(u) && (n("<img/>")[0].src = u),
                    si(i) && (n("<img/>")[0].src = i)))
                : ei.hide(),
              r.iframe)
            ) {
              t = ai("iframe")[0];
              k in t && (t[k] = 0);
              g in t && (t[g] = "true");
              r.scrolling || (t.scrolling = "no");
              b = new Date().getTime();
              n(t)
                .attr({
                  src: r.href,
                  name: b,
                  id: b,
                  class: c + "Iframe",
                  allowFullScreen: !0,
                  webkitAllowFullScreen: !0,
                  mozallowfullscreen: !0
                })
                .one("load", p)
                .appendTo(l);
              ft.one(yt, function() {
                t.src = "//about:blank";
              });
              r.fastIframe && n(t).trigger("load");
            } else p();
            r.transition === "fade" ? h.fadeTo(a, 1, nt) : nt();
          }
        };
        r.transition === "fade"
          ? h.fadeTo(a, 0, function() {
              u.position(0, i);
            })
          : u.position(a, i);
      }
    };
    u.load = function(t) {
      var i,
        v,
        h = u.prep,
        p;
      if (
        ((at = !0),
        (s = !1),
        (y = e[o]),
        t || vi(),
        rt(yt),
        rt(kt, r.onLoad),
        (r.h = r.height
          ? a(r.height, "y") - b - nt
          : r.innerHeight && a(r.innerHeight, "y")),
        (r.w = r.width
          ? a(r.width, "x") - k - tt
          : r.innerWidth && a(r.innerWidth, "x")),
        (r.mw = r.w),
        (r.mh = r.h),
        r.maxWidth &&
          ((r.mw = a(r.maxWidth, "x") - k - tt),
          (r.mw = r.w && r.w < r.mw ? r.w : r.mw)),
        r.maxHeight &&
          ((r.mh = a(r.maxHeight, "y") - b - nt),
          (r.mh = r.h && r.h < r.mh ? r.h : r.mh)),
        (i = r.href),
        r.inline)
      ) {
        p = ai(pi)
          .hide()
          .insertBefore(n(i)[0]);
        ft.one(yt, function() {
          p.replaceWith(l.children());
        });
        h(n(i));
      } else
        r.preiframe
          ? h(n(i))
          : r.iframe
          ? h(" ")
          : r.html
          ? h(r.html)
          : si(i)
          ? (n((s = new Image()))
              .addClass(c + "Photo")
              .error(function() {
                r.title = !1;
                h(f("Error").text("This image could not be loaded"));
              })
              .load(function() {
                var n;
                s.onload = null;
                r.scalePhotos &&
                  ((v = function() {
                    s.height -= s.height * n;
                    s.width -= s.width * n;
                  }),
                  r.mw &&
                    s.width > r.mw &&
                    ((n = (s.width - r.mw) / s.width), v()),
                  r.mh &&
                    s.height > r.mh &&
                    ((n = (s.height - r.mh) / s.height), v()));
                r.h &&
                  (s.style.marginTop = Math.max(r.h - s.height, 0) / 2 + "px");
                e[1] &&
                  (o < e.length - 1 || r.loop) &&
                  ((s.style.cursor = "pointer"),
                  (s.onclick = function() {
                    u.next();
                  }));
                et && (s.style.msInterpolationMode = "bicubic");
                setTimeout(function() {
                  h(s);
                }, 1);
              }),
            setTimeout(function() {
              s.src = i;
            }, 1))
          : i &&
            st.load(i, r.data, function(t, i, r) {
              h(
                i === "error"
                  ? f("Error").text("Request unsuccessful: " + r.statusText)
                  : n(this).contents()
              );
            });
    };
    u.next = function() {
      !at &&
        e[1] &&
        (o < e.length - 1 || r.loop) &&
        ((o = o < e.length - 1 ? o + 1 : 0), u.load());
    };
    u.prev = function() {
      !at &&
        e[1] &&
        (o || r.loop) &&
        ((o = o ? o - 1 : e.length - 1), u.load());
    };
    u.close = function() {
      d &&
        !bt &&
        ((bt = !0),
        (d = !1),
        rt(vt, r.onCleanup),
        v.unbind("." + c + " ." + pt),
        g.fadeTo(200, 0),
        h.stop().fadeTo(300, 0, function() {
          h.add(g)
            .css({ opacity: 1, cursor: "auto" })
            .hide();
          rt(yt);
          l.remove();
          setTimeout(function() {
            bt = !1;
            rt(li, r.onClosed);
          }, 1);
        }));
    };
    u.element = function() {
      return n(y);
    };
    u.settings = hi;
    oi = function(n) {
      (n.button !== 0 && typeof n.button != "undefined") ||
        n.ctrlKey ||
        n.shiftKey ||
        n.altKey ||
        (n.preventDefault(), yi(this));
    };
    n.fn.delegate
      ? n(t).delegate("." + ut, "click", oi)
      : n("." + ut).live("click", oi);
    n(u.init);
  })(jQuery, document, this);
Date.prototype.toMMDDYYYYString = function() {
  return isNaN(this)
    ? "NaN"
    : [
        this.getMonth() > 8 ? this.getMonth() + 1 : "0" + (this.getMonth() + 1),
        this.getDate() > 9 ? this.getDate() : "0" + this.getDate(),
        this.getFullYear()
      ].join("/");
};
String.prototype.startsWith ||
  (String.prototype.startsWith = function(n, t) {
    return (t = t || 0), this.substr(t, n.length) === n;
  });
window._docReady = !1;
$(document).ready(function() {
  window._docReady = !0;
  $(".f-form-clear").click(function() {
    $("input").each(function() {
      $(this).val("");
    });
    $("select").each(function() {
      $(this).selectedIndex = 0;
    });
  });
  generalFormSetupEvents();
});
_currentAcfbFocus = "";
$.extend($.ui.dialog.prototype.options, {
  create: function() {
    $(this)
      .parent()
      .css({ position: "absolute" });
  }
});
$(document).bind("cbox_open", function() {
  $.extend($.fn.colorbox.element().data("colorbox"), {
    opacity: 0.75,
    overlayClose: !0
  });
});
$(document).bind("cbox_cleanup", function() {
  $.fn.colorbox.element().data("colorbox", "");
});
$(document)
  .ajaxError(function(n, t) {
    t.status == 403 &&
      t.getResponseHeader("Location") &&
      (window.top.location = t.getResponseHeader("Location"));
  })
  .ajaxSuccess(function() {
    try {
      updateSession();
    } catch (n) {}
  });
$.ajaxSetup({
  timeout: window._ajaxTimeout,
  traditional: !0,
  retryLimit: 3,
  tryCount: 1,
  ajaxRetryOnError: function(n, t) {
    return (n.status == 500 ||
      n.status == 502 ||
      n.status == 503 ||
      n.status == 504) &&
      ++this.tryCount <= this.retryLimit
      ? ($.ajax(this), !0)
      : (n.statusText !== "abort" &&
          $.jGrowl(t, { header: "ALERT", group: "jgrowl-alert" }),
        !1);
  },
  error: function(n) {
    this.ajaxRetryOnError(
      n,
      "An unexpected error occurred while processing your request."
    );
  }
}),
  (function(n) {
    function r(r, u, f) {
      this.element = r;
      this.options = n.extend({}, i, { mask: u }, f);
      this._defaults = i;
      this._name = t;
      this.init();
    }
    var t = "focusMask",
      i = {
        decMask: /^(\d{0,15})([\.][\d]{0,6})?$/,
        intMask: /^[0-9]+$/,
        stringMask: /^.+$/,
        moneyMask: /^(\d{0,15})([\.][\d]{0,2})?$/
      };
    r.prototype = {
      init: function() {
        var t = this;
        n(this.element).keypress(function(r) {
          var u = r.charCode || r.keyCode,
            f;
          if (u != 8 && u != 39 && u != 9 && u != 46) {
            if (
              ((f = n(this).val() + String.fromCharCode(u)),
              i[t.options.mask].test(f))
            )
              return;
            r.preventDefault();
          }
        });
      }
    };
    n.fn[t] = function(i) {
      return this.each(function() {
        n.data(this, "plugin_" + t)
          ? i && i.mask && (n.data(this, "plugin_" + t).options = i)
          : n.data(this, "plugin_" + t, new r(this, i));
      });
    };
  })(jQuery, window, document),
  (function(n) {
    n.jgrid = {
      defaults: {
        recordtext: "View {0} - {1} of {2}",
        emptyrecords: "No records to view",
        loadtext: "Loading...",
        pgtext: "Page {0} of {1}"
      },
      search: {
        caption: "Search...",
        Find: "Find",
        Reset: "Reset",
        odata: [
          "equal",
          "not equal",
          "less",
          "less or equal",
          "greater",
          "greater or equal",
          "begins with",
          "does not begin with",
          "is in",
          "is not in",
          "ends with",
          "does not end with",
          "contains",
          "does not contain"
        ],
        groupOps: [
          { op: "AND", text: "all" },
          { op: "OR", text: "any" }
        ],
        matchText: " match",
        rulesText: " rules"
      },
      edit: {
        addCaption: "Add Record",
        editCaption: "Edit Record",
        bSubmit: "Submit",
        bCancel: "Cancel",
        bClose: "Close",
        saveData: "Data has been changed! Save changes?",
        bYes: "Yes",
        bNo: "No",
        bExit: "Cancel",
        msg: {
          required: "Field is required",
          number: "Please, enter valid number",
          minValue: "value must be greater than or equal to ",
          maxValue: "value must be less than or equal to",
          email: "is not a valid e-mail",
          integer: "Please, enter valid integer value",
          date: "Please, enter valid date value",
          url: "is not a valid URL. Prefix required ('http://' or 'https://')",
          nodefined: " is not defined!",
          novalue: " return value is required!",
          customarray: "Custom function should return array!",
          customfcheck:
            "Custom function should be present in case of custom checking!"
        }
      },
      view: { caption: "View Record", bClose: "Close" },
      del: {
        caption: "Delete",
        msg: "Delete selected record(s)?",
        bSubmit: "Delete",
        bCancel: "Cancel"
      },
      nav: {
        edittext: "",
        edittitle: "Edit selected row",
        addtext: "",
        addtitle: "Add new row",
        deltext: "",
        deltitle: "Delete selected row",
        searchtext: "",
        searchtitle: "Find records",
        refreshtext: "",
        refreshtitle: "Reload Grid",
        alertcap: "Warning",
        alerttext: "Please, select row",
        viewtext: "",
        viewtitle: "View selected row"
      },
      col: { caption: "Select columns", bSubmit: "Ok", bCancel: "Cancel" },
      errors: {
        errcap: "Error",
        nourl: "No url is set",
        norecords: "No records to process",
        model: "Length of colNames <> colModel!"
      },
      formatter: {
        integer: { thousandsSeparator: " ", defaultValue: "0" },
        number: {
          decimalSeparator: ".",
          thousandsSeparator: " ",
          decimalPlaces: 2,
          defaultValue: "0.00"
        },
        currency: {
          decimalSeparator: ".",
          thousandsSeparator: " ",
          decimalPlaces: 2,
          prefix: "",
          suffix: "",
          defaultValue: "0.00"
        },
        date: {
          dayNames: [
            "Sun",
            "Mon",
            "Tue",
            "Wed",
            "Thr",
            "Fri",
            "Sat",
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday"
          ],
          monthNames: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December"
          ],
          AmPm: ["am", "pm", "AM", "PM"],
          S: function(n) {
            return n < 11 || n > 13
              ? ["st", "nd", "rd", "th"][Math.min((n - 1) % 10, 3)]
              : "th";
          },
          srcformat: "Y-m-d",
          newformat: "d/m/Y",
          masks: {
            ISO8601Long: "Y-m-d H:i:s",
            ISO8601Short: "Y-m-d",
            ShortDate: "n/j/Y",
            LongDate: "l, F d, Y",
            FullDateTime: "l, F d, Y g:i:s A",
            MonthDay: "F d",
            ShortTime: "g:i A",
            LongTime: "g:i:s A",
            SortableDateTime: "Y-m-d\\TH:i:s",
            UniversalSortableDateTime: "Y-m-d H:i:sO",
            YearMonth: "F, Y"
          },
          reformatAfterEdit: !1
        },
        baseLinkUrl: "",
        showAction: "",
        target: "",
        checkbox: { disabled: !0 },
        idName: "id"
      }
    };
  })(jQuery),
  (function(n) {
    n.jgrid = n.jgrid || {};
    n.extend(n.jgrid, {
      htmlDecode: function(n) {
        return n == "&nbsp;" ||
          n == "&#160;" ||
          (n.length == 1 && n.charCodeAt(0) == 160)
          ? ""
          : n
          ? String(n)
              .replace(/&amp;/g, "&")
              .replace(/&gt;/g, ">")
              .replace(/&lt;/g, "<")
              .replace(/&quot;/g, '"')
          : n;
      },
      htmlEncode: function(n) {
        return n
          ? String(n)
              .replace(/&/g, "&amp;")
              .replace(/>/g, "&gt;")
              .replace(/</g, "&lt;")
              .replace(/\"/g, "&quot;")
          : n;
      },
      format: function(t) {
        var i = n.makeArray(arguments).slice(1);
        return (
          t === undefined && (t = ""),
          t.replace(/\{(\d+)\}/g, function(n, t) {
            return i[t];
          })
        );
      },
      getCellIndex: function(t) {
        return ((t = n(t)), t.is("tr"))
          ? -1
          : ((t = (!t.is("td") && !t.is("th") ? t.closest("td,th") : t)[0]),
            n.browser.msie)
          ? n.inArray(t, t.parentNode.cells)
          : t.cellIndex;
      },
      stripHtml: function(n) {
        n += "";
        return n
          ? (n = n.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi, "")) &&
            n !== "&nbsp;" &&
            n !== "&#160;"
            ? n.replace(/\"/g, "'")
            : ""
          : n;
      },
      stringToDoc: function(n) {
        var t;
        if (typeof n != "string") return n;
        try {
          t = new DOMParser().parseFromString(n, "text/xml");
        } catch (i) {
          t = new ActiveXObject("Microsoft.XMLDOM");
          t.async = !1;
          t.loadXML(n);
        }
        return t &&
          t.documentElement &&
          t.documentElement.tagName != "parsererror"
          ? t
          : null;
      },
      parse: function(f) {
        return (
          (f = f),
          f.substr(0, 9) == "while(1);" && (f = f.substr(9)),
          f.substr(0, 2) == "/*" && (f = f.substr(2, f.length - 4)),
          f || (f = "{}"),
          n.jgrid.useJSON === !0 &&
          typeof JSON == "object" &&
          typeof JSON.parse == "function"
            ? JSON.parse(f)
            : eval("(" + f + ")")
        );
      },
      parseDate: function(t, i) {
        var u = { m: 1, d: 1, y: 1970, h: 0, i: 0, s: 0 },
          r,
          o,
          f;
        if (i && i !== null && i !== undefined) {
          i = n.trim(i);
          i = i.split(/[\\\/:_;.\t\T\s-]/);
          t = t.split(/[\\\/:_;.\t\T\s-]/);
          var s = n.jgrid.formatter.date.monthNames,
            e = n.jgrid.formatter.date.AmPm,
            h = function(n, t) {
              return n === 0 ? t == 12 && (t = 0) : t != 12 && (t += 12), t;
            };
          for (r = 0, o = t.length; r < o; r++)
            t[r] == "M" &&
              ((f = n.inArray(i[r], s)), f !== -1 && f < 12 && (i[r] = f + 1)),
              t[r] == "F" &&
                ((f = n.inArray(i[r], s)),
                f !== -1 && f > 11 && (i[r] = f + 1 - 12)),
              t[r] == "a" &&
                ((f = n.inArray(i[r], e)),
                f !== -1 &&
                  f < 2 &&
                  i[r] == e[f] &&
                  ((i[r] = f), (u.h = h(i[r], u.h)))),
              t[r] == "A" &&
                ((f = n.inArray(i[r], e)),
                f !== -1 &&
                  f > 1 &&
                  i[r] == e[f] &&
                  ((i[r] = f - 2), (u.h = h(i[r], u.h)))),
              i[r] !== undefined &&
                (u[t[r].toLowerCase()] = parseInt(i[r], 10));
          u.m = parseInt(u.m, 10) - 1;
          t = u.y;
          t >= 70 && t <= 99
            ? (u.y = 1900 + u.y)
            : t >= 0 && t <= 69 && (u.y = 2e3 + u.y);
        }
        return new Date(u.y, u.m, u.d, u.h, u.i, u.s, 0);
      },
      jqID: function(n) {
        return (n += ""), n.replace(/([\.\:\[\]])/g, "\\$1");
      },
      getAccessor: function(n, t) {
        var i, u, r, f;
        if (typeof t == "function") return t(n);
        if (((i = n[t]), i === undefined))
          try {
            if ((typeof t == "string" && (r = t.split(".")), (f = r.length)))
              for (i = n; i && f--; ) (u = r.shift()), (i = i[u]);
          } catch (e) {}
        return i;
      },
      ajaxOptions: {},
      from: function(t) {
        return new (function(t, i) {
          typeof t == "string" && (t = n.data(t));
          var r = this,
            u = t,
            h = !0,
            f = !1,
            o = i,
            v = /[\$,%]/g,
            c = null,
            y = null,
            e = !1,
            a = "",
            s = [],
            l = !0;
          if (typeof t == "object" && t.push)
            t.length > 0 && (l = typeof t[0] != "object" ? !1 : !0);
          else throw "data provides is not an array";
          return (
            (this._hasData = function() {
              return u === null ? !1 : u.length === 0 ? !1 : !0;
            }),
            (this._getStr = function(n) {
              var t = [];
              return (
                f && t.push("jQuery.trim("),
                t.push("String(" + n + ")"),
                f && t.push(")"),
                h || t.push(".toLowerCase()"),
                t.join("")
              );
            }),
            (this._strComp = function(n) {
              return typeof n == "string" ? ".toString()" : "";
            }),
            (this._group = function(n, t) {
              return { field: n.toString(), unique: t, items: [] };
            }),
            (this._toStr = function(t) {
              return (
                f && (t = n.trim(t)),
                h || (t = t.toLowerCase()),
                t.toString().replace(new RegExp('\\"', "g"), '\\"')
              );
            }),
            (this._funcLoop = function(t) {
              var i = [];
              return (
                n.each(u, function(n, r) {
                  i.push(t(r));
                }),
                i
              );
            }),
            (this._append = function(n) {
              o === null ? (o = "") : (o += a === "" ? " && " : a);
              e && (o += "!");
              o += "(" + n + ")";
              e = !1;
              a = "";
            }),
            (this._setCommand = function(n, t) {
              c = n;
              y = t;
            }),
            (this._resetNegate = function() {
              e = !1;
            }),
            (this._repeatCommand = function(n, t) {
              return c === null
                ? r
                : n != null && t != null
                ? c(n, t)
                : y === null
                ? c(n)
                : l
                ? c(y, n)
                : c(n);
            }),
            (this._equals = function(n, t) {
              return r._compare(n, t, 1) === 0;
            }),
            (this._compare = function(n, t, i) {
              return (i === undefined && (i = 1),
              n === undefined && (n = null),
              t === undefined && (t = null),
              n === null && t === null)
                ? 0
                : n === null && t !== null
                ? 1
                : n !== null && t === null
                ? -1
                : (h ||
                    typeof n == "number" ||
                    typeof t == "number" ||
                    ((n = String(n).toLowerCase()),
                    (t = String(t).toLowerCase())),
                  n < t)
                ? -i
                : n > t
                ? i
                : 0;
            }),
            (this._performSort = function() {
              s.length !== 0 && (u = r._doSort(u, 0));
            }),
            (this._doSort = function(n, t) {
              var f = s[t].by,
                i = s[t].dir,
                e = s[t].type,
                u = s[t].datefmt;
              if (t == s.length - 1) return r._getOrder(n, f, i, e, u);
              for (
                t++, n = r._getGroup(n, f, i, e, u), f = [], i = 0;
                i < n.length;
                i++
              )
                for (e = r._doSort(n[i].items, t), u = 0; u < e.length; u++)
                  f.push(e[u]);
              return f;
            }),
            (this._getOrder = function(t, i, u, f, e) {
              var h = [],
                s = [],
                a = u == "a" ? 1 : -1,
                o,
                c,
                l;
              for (
                f === undefined && (f = "text"),
                  c =
                    f == "float" ||
                    f == "number" ||
                    f == "currency" ||
                    f == "numeric"
                      ? function(n) {
                          return (
                            (n = parseFloat(String(n).replace(v, ""))),
                            isNaN(n) ? 0 : n
                          );
                        }
                      : f == "int" || f == "integer"
                      ? function(n) {
                          return n ? parseFloat(String(n).replace(v, "")) : 0;
                        }
                      : f == "date" || f == "datetime"
                      ? function(t) {
                          return n.jgrid.parseDate(e, t).getTime();
                        }
                      : n.isFunction(f)
                      ? f
                      : function(t) {
                          return t || (t = ""), n.trim(String(t).toUpperCase());
                        },
                  n.each(t, function(t, r) {
                    o = i !== "" ? n.jgrid.getAccessor(r, i) : r;
                    o === undefined && (o = "");
                    o = c(o, r);
                    s.push({ vSort: o, index: t });
                  }),
                  s.sort(function(n, t) {
                    return (n = n.vSort), (t = t.vSort), r._compare(n, t, a);
                  }),
                  f = 0,
                  l = t.length;
                f < l;

              )
                (u = s[f].index), h.push(t[u]), f++;
              return h;
            }),
            (this._getGroup = function(t, i, u, f, e) {
              var h = [],
                o = null,
                c = null,
                s;
              return (
                n.each(r._getOrder(t, i, u, f, e), function(t, u) {
                  s = n.jgrid.getAccessor(u, i);
                  s === undefined && (s = "");
                  r._equals(c, s) ||
                    ((c = s), o != null && h.push(o), (o = r._group(i, s)));
                  o.items.push(u);
                }),
                o != null && h.push(o),
                h
              );
            }),
            (this.ignoreCase = function() {
              return (h = !1), r;
            }),
            (this.useCase = function() {
              return (h = !0), r;
            }),
            (this.trim = function() {
              return (f = !0), r;
            }),
            (this.noTrim = function() {
              return (f = !1), r;
            }),
            (this.combine = function(t) {
              var i = n.from(u);
              return (
                h || i.ignoreCase(),
                f && i.trim(),
                (t = t(i).showQuery()),
                r._append(t),
                r
              );
            }),
            (this.execute = function() {
              var t = o,
                i = [];
              return t === null
                ? r
                : (n.each(u, function() {
                    eval(t) && i.push(this);
                  }),
                  (u = i),
                  r);
            }),
            (this.data = function() {
              return u;
            }),
            (this.select = function(t) {
              if ((r._performSort(), !r._hasData())) return [];
              if ((r.execute(), n.isFunction(t))) {
                var i = [];
                return (
                  n.each(u, function(n, r) {
                    i.push(t(r));
                  }),
                  i
                );
              }
              return u;
            }),
            (this.hasMatch = function() {
              return r._hasData() ? (r.execute(), u.length > 0) : !1;
            }),
            (this.showQuery = function(t) {
              var i = o;
              return (i === null && (i = "no query found"), n.isFunction(t))
                ? (t(i), r)
                : i;
            }),
            (this.andNot = function(n, t, i) {
              return (e = !e), r.and(n, t, i);
            }),
            (this.orNot = function(n, t, i) {
              return (e = !e), r.or(n, t, i);
            }),
            (this.not = function(n, t, i) {
              return r.andNot(n, t, i);
            }),
            (this.and = function(n, t, i) {
              return ((a = " && "), n === undefined)
                ? r
                : r._repeatCommand(n, t, i);
            }),
            (this.or = function(n, t, i) {
              return ((a = " || "), n === undefined)
                ? r
                : r._repeatCommand(n, t, i);
            }),
            (this.isNot = function(n) {
              return (e = !e), r.is(n);
            }),
            (this.is = function(n) {
              return r._append("this." + n), r._resetNegate(), r;
            }),
            (this._compareValues = function(t, i, u, f, e) {
              var o;
              o = l ? "this." + i : "this";
              u === undefined && (u = null);
              u = u === null ? i : u;
              switch (e.stype === undefined ? "text" : e.stype) {
                case "int":
                case "integer":
                  u = isNaN(Number(u)) ? "0" : u;
                  o = "parseInt(" + o + ",10)";
                  u = "parseInt(" + u + ",10)";
                  break;
                case "float":
                case "number":
                case "numeric":
                  u = String(u).replace(v, "");
                  u = isNaN(Number(u)) ? "0" : u;
                  o = "parseFloat(" + o + ")";
                  u = "parseFloat(" + u + ")";
                  break;
                case "date":
                case "datetime":
                  u = String(
                    n.jgrid.parseDate(e.newfmt || "Y-m-d", u).getTime()
                  );
                  o =
                    'jQuery.jgrid.parseDate("' +
                    e.srcfmt +
                    '",' +
                    o +
                    ").getTime()";
                  break;
                default:
                  o = r._getStr(o);
                  u = r._getStr('"' + r._toStr(u) + '"');
              }
              return (
                r._append(o + " " + f + " " + u),
                r._setCommand(t, i),
                r._resetNegate(),
                r
              );
            }),
            (this.equals = function(n, t, i) {
              return r._compareValues(r.equals, n, t, "==", i);
            }),
            (this.greater = function(n, t, i) {
              return r._compareValues(r.greater, n, t, ">", i);
            }),
            (this.less = function(n, t, i) {
              return r._compareValues(r.less, n, t, "<", i);
            }),
            (this.greaterOrEquals = function(n, t, i) {
              return r._compareValues(r.greaterOrEquals, n, t, ">=", i);
            }),
            (this.lessOrEquals = function(n, t, i) {
              return r._compareValues(r.lessOrEquals, n, t, "<=", i);
            }),
            (this.startsWith = function(t, i) {
              var u = i === undefined || i === null ? t : i;
              return (
                (u = f ? n.trim(u.toString()).length : u.toString().length),
                l
                  ? r._append(
                      r._getStr("this." + t) +
                        ".substr(0," +
                        u +
                        ") == " +
                        r._getStr('"' + r._toStr(i) + '"')
                    )
                  : ((u = f
                      ? n.trim(i.toString()).length
                      : i.toString().length),
                    r._append(
                      r._getStr("this") +
                        ".substr(0," +
                        u +
                        ") == " +
                        r._getStr('"' + r._toStr(t) + '"')
                    )),
                r._setCommand(r.startsWith, t),
                r._resetNegate(),
                r
              );
            }),
            (this.endsWith = function(t, i) {
              var u = i === undefined || i === null ? t : i;
              return (
                (u = f ? n.trim(u.toString()).length : u.toString().length),
                l
                  ? r._append(
                      r._getStr("this." + t) +
                        ".substr(" +
                        r._getStr("this." + t) +
                        ".length-" +
                        u +
                        "," +
                        u +
                        ') == "' +
                        r._toStr(i) +
                        '"'
                    )
                  : r._append(
                      r._getStr("this") +
                        ".substr(" +
                        r._getStr("this") +
                        '.length-"' +
                        r._toStr(t) +
                        '".length,"' +
                        r._toStr(t) +
                        '".length) == "' +
                        r._toStr(t) +
                        '"'
                    ),
                r._setCommand(r.endsWith, t),
                r._resetNegate(),
                r
              );
            }),
            (this.contains = function(n, t) {
              return (
                l
                  ? r._append(
                      r._getStr("this." + n) +
                        '.indexOf("' +
                        r._toStr(t) +
                        '",0) > -1'
                    )
                  : r._append(
                      r._getStr("this") +
                        '.indexOf("' +
                        r._toStr(n) +
                        '",0) > -1'
                    ),
                r._setCommand(r.contains, n),
                r._resetNegate(),
                r
              );
            }),
            (this.groupBy = function(n, t, i, f) {
              return r._hasData() ? r._getGroup(u, n, t, i, f) : null;
            }),
            (this.orderBy = function(t, i, u, f) {
              return (
                (i =
                  i === undefined || i === null
                    ? "a"
                    : n.trim(i.toString().toLowerCase())),
                (u === null || u === undefined) && (u = "text"),
                (f === null || f === undefined) && (f = "Y-m-d"),
                (i == "desc" || i == "descending") && (i = "d"),
                (i == "asc" || i == "ascending") && (i = "a"),
                s.push({ by: t, dir: i, type: u, datefmt: f }),
                r
              );
            }),
            r
          );
        })(t, null);
      },
      extend: function(t) {
        n.extend(n.fn.jqGrid, t);
        this.no_legacy_api || n.fn.extend(t);
      }
    });
    n.fn.jqGrid = function(t) {
      var i, r;
      if (typeof t == "string") {
        if (((i = n.jgrid.getAccessor(n.fn.jqGrid, t)), !i))
          throw "jqGrid - No such method: " + t;
        return (r = n.makeArray(arguments).slice(1)), i.apply(this, r);
      }
      return this.each(function() {
        var u,
          r,
          f,
          o,
          i,
          s,
          b,
          ri,
          p,
          ct,
          rt,
          lt,
          h,
          e,
          w,
          at,
          vt,
          ut,
          ft,
          l,
          v,
          y,
          yt,
          ui;
        if (!this.grid)
          if (
            ((u = n.extend(
              !0,
              {
                url: "",
                height: 150,
                page: 1,
                rowNum: 20,
                rowTotal: null,
                records: 0,
                pager: "",
                pgbuttons: !0,
                pginput: !0,
                colModel: [],
                rowList: [],
                colNames: [],
                sortorder: "asc",
                sortname: "",
                datatype: "xml",
                mtype: "GET",
                altRows: !1,
                selarrrow: [],
                savedRow: [],
                shrinkToFit: !0,
                xmlReader: {},
                jsonReader: {},
                subGrid: !1,
                subGridModel: [],
                reccount: 0,
                lastpage: 0,
                lastsort: 0,
                selrow: null,
                beforeSelectRow: null,
                onSelectRow: null,
                onSortCol: null,
                ondblClickRow: null,
                onRightClickRow: null,
                onPaging: null,
                onSelectAll: null,
                loadComplete: null,
                gridComplete: null,
                loadError: null,
                loadBeforeSend: null,
                afterInsertRow: null,
                beforeRequest: null,
                onHeaderClick: null,
                viewrecords: !1,
                loadonce: !1,
                multiselect: !1,
                multikey: !1,
                editurl: null,
                search: !1,
                caption: "",
                hidegrid: !0,
                hiddengrid: !1,
                postData: {},
                userData: {},
                treeGrid: !1,
                treeGridModel: "nested",
                treeReader: {},
                treeANode: -1,
                ExpandColumn: null,
                tree_root_level: 0,
                prmNames: {
                  page: "page",
                  rows: "rows",
                  sort: "sidx",
                  order: "sord",
                  search: "_search",
                  nd: "nd",
                  id: "id",
                  oper: "oper",
                  editoper: "edit",
                  addoper: "add",
                  deloper: "del",
                  subgridid: "id",
                  npage: null,
                  totalrows: "totalrows"
                },
                forceFit: !1,
                gridstate: "visible",
                cellEdit: !1,
                cellsubmit: "remote",
                nv: 0,
                loadui: "enable",
                toolbar: [!1, ""],
                scroll: !1,
                multiboxonly: !1,
                deselectAfterSort: !0,
                scrollrows: !1,
                autowidth: !1,
                scrollOffset: 18,
                cellLayout: 5,
                subGridWidth: 20,
                multiselectWidth: 20,
                gridview: !1,
                rownumWidth: 25,
                rownumbers: !1,
                pagerpos: "center",
                recordpos: "right",
                footerrow: !1,
                userDataOnFooter: !1,
                hoverrows: !0,
                altclass: "ui-priority-secondary",
                viewsortcols: [!1, "vertical", !0],
                resizeclass: "",
                autoencode: !1,
                remapColumns: [],
                ajaxGridOptions: {},
                direction: "ltr",
                toppager: !1,
                headertitles: !1,
                scrollTimeout: 40,
                data: [],
                _index: {},
                grouping: !1,
                groupingView: {
                  groupField: [],
                  groupOrder: [],
                  groupText: [],
                  groupColumnShow: [],
                  groupSummary: [],
                  showSummaryOnHide: !1,
                  sortitems: [],
                  sortnames: [],
                  groupDataSorted: !1,
                  summary: [],
                  summaryval: [],
                  plusicon: "ui-icon-circlesmall-plus",
                  minusicon: "ui-icon-circlesmall-minus"
                },
                ignoreCase: !1,
                cmTemplate: {}
              },
              n.jgrid.defaults,
              t || {}
            )),
            (r = {
              headers: [],
              cols: [],
              footers: [],
              dragStart: function(t, i, r) {
                this.resizing = { idx: t, startX: i.clientX, sOL: r[0] };
                this.hDiv.style.cursor = "col-resize";
                this.curGbox = n("#rs_m" + u.id, "#gbox_" + u.id);
                this.curGbox.css({
                  display: "block",
                  left: r[0],
                  top: r[1],
                  height: r[2]
                });
                n.isFunction(u.resizeStart) && u.resizeStart.call(this, i, t);
                document.onselectstart = function() {
                  return !1;
                };
              },
              dragMove: function(n) {
                var t, i, r;
                this.resizing &&
                  ((t = n.clientX - this.resizing.startX),
                  (n = this.headers[this.resizing.idx]),
                  (i = u.direction === "ltr" ? n.width + t : n.width - t),
                  i > 33 &&
                    (this.curGbox.css({ left: this.resizing.sOL + t }),
                    u.forceFit === !0
                      ? ((r = this.headers[this.resizing.idx + u.nv]),
                        (t = u.direction === "ltr" ? r.width - t : r.width + t),
                        t > 33 && ((n.newWidth = i), (r.newWidth = t)))
                      : ((this.newWidth =
                          u.direction === "ltr"
                            ? u.tblwidth + t
                            : u.tblwidth - t),
                        (n.newWidth = i))));
              },
              dragEnd: function() {
                if (((this.hDiv.style.cursor = "default"), this.resizing)) {
                  var t = this.resizing.idx,
                    i = this.headers[t].newWidth || this.headers[t].width;
                  i = parseInt(i, 10);
                  this.resizing = !1;
                  n("#rs_m" + u.id).css("display", "none");
                  u.colModel[t].width = i;
                  this.headers[t].width = i;
                  this.headers[t].el.style.width = i + "px";
                  this.cols[t].style.width = i + "px";
                  this.footers.length > 0 &&
                    (this.footers[t].style.width = i + "px");
                  u.forceFit === !0
                    ? ((i =
                        this.headers[t + u.nv].newWidth ||
                        this.headers[t + u.nv].width),
                      (this.headers[t + u.nv].width = i),
                      (this.headers[t + u.nv].el.style.width = i + "px"),
                      (this.cols[t + u.nv].style.width = i + "px"),
                      this.footers.length > 0 &&
                        (this.footers[t + u.nv].style.width = i + "px"),
                      (u.colModel[t + u.nv].width = i))
                    : ((u.tblwidth = this.newWidth || u.tblwidth),
                      n("table:first", this.bDiv).css(
                        "width",
                        u.tblwidth + "px"
                      ),
                      n("table:first", this.hDiv).css(
                        "width",
                        u.tblwidth + "px"
                      ),
                      (this.hDiv.scrollLeft = this.bDiv.scrollLeft),
                      u.footerrow &&
                        (n("table:first", this.sDiv).css(
                          "width",
                          u.tblwidth + "px"
                        ),
                        (this.sDiv.scrollLeft = this.bDiv.scrollLeft)));
                  n.isFunction(u.resizeStop) && u.resizeStop.call(this, i, t);
                }
                this.curGbox = null;
                document.onselectstart = function() {
                  return !0;
                };
              },
              populateVisible: function() {
                var i, f, t, h, c, l;
                if (
                  (r.timer && clearTimeout(r.timer),
                  (r.timer = null),
                  (i = n(r.bDiv).height()),
                  i &&
                    ((f = n("table:first", r.bDiv)),
                    (t =
                      n("> tbody > tr:gt(0):visible:first", f).outerHeight() ||
                      r.prevRowHeight),
                    t))
                ) {
                  r.prevRowHeight = t;
                  var a = u.rowNum,
                    e = (r.scrollTop = r.bDiv.scrollTop),
                    o = Math.round(f.position().top) - e,
                    s = o + f.height();
                  t = t * a;
                  s < i &&
                    o <= 0 &&
                    (u.lastpage === undefined ||
                      parseInt((s + e + t - 1) / t, 10) <= u.lastpage) &&
                    ((c = parseInt((i - s + t - 1) / t, 10)),
                    s >= 0 || c < 2 || u.scroll === !0
                      ? ((h = Math.round((s + e) / t) + 1), (o = -1))
                      : (o = 1));
                  o > 0 &&
                    ((h = parseInt(e / t, 10) + 1),
                    (c = parseInt((e + i) / t, 10) + 2 - h),
                    (l = !0));
                  c &&
                    ((u.lastpage && h > u.lastpage) ||
                      u.lastpage == 1 ||
                      (r.hDiv.loading
                        ? (r.timer = setTimeout(
                            r.populateVisible,
                            u.scrollTimeout
                          ))
                        : ((u.page = h),
                          l &&
                            (r.selectionPreserver(f[0]),
                            r.emptyRows(r.bDiv, !1)),
                          r.populate(c))));
                }
              },
              scrollGrid: function() {
                if (u.scroll) {
                  var n = r.bDiv.scrollTop;
                  r.scrollTop === undefined && (r.scrollTop = 0);
                  n != r.scrollTop &&
                    ((r.scrollTop = n),
                    r.timer && clearTimeout(r.timer),
                    (r.timer = setTimeout(r.populateVisible, u.scrollTimeout)));
                }
                r.hDiv.scrollLeft = r.bDiv.scrollLeft;
                u.footerrow && (r.sDiv.scrollLeft = r.bDiv.scrollLeft);
              },
              selectionPreserver: function(t) {
                var i = t.p,
                  u = i.selrow,
                  r = i.selarrrow ? n.makeArray(i.selarrrow) : null,
                  e = t.grid.bDiv.scrollLeft,
                  f = i.gridComplete;
                i.gridComplete = function() {
                  if (
                    ((i.selrow = null),
                    (i.selarrrow = []),
                    i.multiselect && r && r.length > 0)
                  )
                    for (var o = 0; o < r.length; o++)
                      r[o] != u && n(t).jqGrid("setSelection", r[o], !1);
                  u && n(t).jqGrid("setSelection", u, !1);
                  t.grid.bDiv.scrollLeft = e;
                  i.gridComplete = f;
                  i.gridComplete && f();
                };
              }
            }),
            this.tagName != "TABLE")
          )
            alert("Element is not a table");
          else {
            if ((n(this).empty(), (this.p = u), this.p.colNames.length === 0))
              for (f = 0; f < this.p.colModel.length; f++)
                this.p.colNames[f] =
                  this.p.colModel[f].label || this.p.colModel[f].name;
            if (this.p.colNames.length !== this.p.colModel.length)
              alert(n.jgrid.errors.model);
            else {
              var c = n("<div class='ui-jqgrid-view'></div>"),
                k,
                et = n.browser.msie ? !0 : !1,
                pt = n.browser.safari ? !0 : !1;
              i = this;
              i.p.direction = n.trim(i.p.direction.toLowerCase());
              n.inArray(i.p.direction, ["ltr", "rtl"]) == -1 &&
                (i.p.direction = "ltr");
              o = i.p.direction;
              n(c).insertBefore(this);
              n(this)
                .appendTo(c)
                .removeClass("scroll");
              b = n(
                "<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>"
              );
              n(b)
                .insertBefore(c)
                .attr({ id: "gbox_" + this.id, dir: o });
              n(c)
                .appendTo(b)
                .attr("id", "gview_" + this.id);
              k =
                et && n.browser.version <= 6
                  ? '<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>'
                  : "";
              n(
                "<div class='ui-widget-overlay jqgrid-overlay' id='lui_" +
                  this.id +
                  "'></div>"
              )
                .append(k)
                .insertBefore(c);
              n(
                "<div class='loading ui-state-default ui-state-active' id='load_" +
                  this.id +
                  "'>" +
                  this.p.loadtext +
                  "</div>"
              ).insertBefore(c);
              n(this).attr({
                cellspacing: "0",
                cellpadding: "0",
                border: "0",
                role: "grid",
                "aria-multiselectable": !!this.p.multiselect,
                "aria-labelledby": "gbox_" + this.id
              });
              var d = function(n, t) {
                  return (n = parseInt(n, 10)), isNaN(n) ? (t ? t : 0) : n;
                },
                g = function(t, u, f) {
                  var e = i.p.colModel[t],
                    s = e.align,
                    o = 'style="',
                    h = e.classes,
                    c = e.name;
                  return (
                    s && (o += "text-align:" + s + ";"),
                    e.hidden === !0 && (o += "display:none;"),
                    u === 0 && (o += "width: " + r.headers[t].width + "px;"),
                    (o +=
                      '"' +
                      (h !== undefined ? ' class="' + h + '"' : "") +
                      (e.title && f
                        ? ' title="' + n.jgrid.stripHtml(f) + '"'
                        : "")),
                    o + (' aria-describedby="' + i.p.id + "_" + c + '"')
                  );
                },
                kt = function(t) {
                  return t === undefined || t === null || t === ""
                    ? "&#160;"
                    : i.p.autoencode
                    ? n.jgrid.htmlEncode(t)
                    : t + "";
                },
                dt = function(t, r, u, f, e) {
                  var o = i.p.colModel[u];
                  return (
                    typeof o.formatter != "undefined"
                      ? ((t = { rowId: t, colModel: o, gid: i.p.id, pos: u }),
                        (r = n.isFunction(o.formatter)
                          ? o.formatter.call(i, r, t, f, e)
                          : n.fmatter
                          ? n.fn.fmatter(o.formatter, r, t, f, e)
                          : kt(r)))
                      : (r = kt(r)),
                    r
                  );
                },
                wt = function(n, t, i, r, u) {
                  return (
                    (n = dt(n, t, i, u, "add")),
                    '<td role="gridcell" ' + g(i, r, n) + ">" + n + "</td>"
                  );
                },
                gt = function(n, t, r) {
                  return (
                    (n =
                      '<input role="checkbox" type="checkbox" id="jqg_' +
                      i.p.id +
                      "_" +
                      n +
                      '" class="cbox" name="jqg_' +
                      i.p.id +
                      "_" +
                      n +
                      '"/>'),
                    '<td role="gridcell" ' + g(t, r, "") + ">" + n + "</td>"
                  );
                },
                ni = function(n, t, i, r) {
                  return (
                    (i = (parseInt(i, 10) - 1) * parseInt(r, 10) + 1 + t),
                    '<td role="gridcell" class="ui-state-default jqgrid-rownum" ' +
                      g(n, t, "") +
                      ">" +
                      i +
                      "</td>"
                  );
                },
                ti = function(n) {
                  for (
                    var t, u = [], f = 0, r = 0;
                    r < i.p.colModel.length;
                    r++
                  )
                    (t = i.p.colModel[r]),
                      t.name !== "cb" &&
                        t.name !== "subgrid" &&
                        t.name !== "rn" &&
                        ((u[f] =
                          n == "local"
                            ? t.name
                            : n == "xml"
                            ? t.xmlmap || t.name
                            : t.jsonmap || t.name),
                        f++);
                  return u;
                },
                ot = function(t) {
                  var r = i.p.remapColumns;
                  return (
                    (r && r.length) ||
                      (r = n.map(i.p.colModel, function(n, t) {
                        return t;
                      })),
                    t &&
                      (r = n.map(r, function(n) {
                        return n < t ? null : n - t;
                      })),
                    r
                  );
                },
                nt = function(t, r) {
                  if (i.p.deepempty)
                    n("#" + i.p.id + " tbody:first tr:gt(0)").remove();
                  else {
                    var u = n("#" + i.p.id + " tbody:first tr:first")[0];
                    n("#" + i.p.id + " tbody:first")
                      .empty()
                      .append(u);
                  }
                  r &&
                    i.p.scroll &&
                    (n(">div:first", t)
                      .css({ height: "auto" })
                      .children("div:first")
                      .css({ height: 0, display: "none" }),
                    (t.scrollTop = 0));
                },
                tt = function() {
                  var f = i.p.data.length,
                    r,
                    t,
                    u;
                  for (
                    r = i.p.rownumbers === !0 ? 1 : 0,
                      t = i.p.multiselect === !0 ? 1 : 0,
                      u = i.p.subGrid === !0 ? 1 : 0,
                      r =
                        i.p.keyIndex === !1 || i.p.loadonce === !0
                          ? i.p.localReader.id
                          : i.p.colModel[i.p.keyIndex + t + u + r].name,
                      t = 0;
                    t < f;
                    t++
                  )
                    (u = n.jgrid.getAccessor(i.p.data[t], r)),
                      (i.p._index[u] = t);
                },
                bt = function(t, r, u, f, e) {
                  var pt = new Date(),
                    et =
                      (i.p.datatype != "local" && i.p.loadonce) ||
                      i.p.datatype == "xmlstring",
                    ct,
                    st = i.p.datatype == "local" ? "local" : "xml",
                    g,
                    l,
                    ut,
                    at,
                    ft,
                    lt,
                    vt,
                    ht,
                    yt;
                  if (
                    (et &&
                      ((i.p.data = []),
                      (i.p._index = {}),
                      (i.p.localReader.id = ct = "_id_")),
                    (i.p.reccount = 0),
                    n.isXMLDoc(t))
                  ) {
                    i.p.treeANode !== -1 || i.p.scroll
                      ? (u = u > 1 ? u : 1)
                      : (nt(r, !1), (u = 1));
                    var o,
                      k = 0,
                      y,
                      it,
                      a = 0,
                      w = 0,
                      c = 0,
                      p,
                      d = [],
                      rt,
                      s = {},
                      v,
                      b,
                      h = [],
                      bt = i.p.altRows === !0 ? " " + i.p.altclass : "";
                    if (
                      (i.p.xmlReader.repeatitems || (d = ti(st)),
                      (p =
                        i.p.keyIndex === !1 ? i.p.xmlReader.id : i.p.keyIndex),
                      d.length > 0 &&
                        !isNaN(p) &&
                        (i.p.remapColumns &&
                          i.p.remapColumns.length &&
                          (p = n.inArray(p, i.p.remapColumns)),
                        (p = d[p])),
                      (st =
                        (p + "").indexOf("[") === -1
                          ? d.length
                            ? function(t, i) {
                                return n(p, t).text() || i;
                              }
                            : function(t, r) {
                                return (
                                  n(i.p.xmlReader.cell, t)
                                    .eq(p)
                                    .text() || r
                                );
                              }
                          : function(n, t) {
                              return (
                                n.getAttribute(p.replace(/[\[\]]/g, "")) || t
                              );
                            }),
                      (i.p.userData = {}),
                      n(i.p.xmlReader.page, t).each(function() {
                        i.p.page = this.textContent || this.text || 0;
                      }),
                      n(i.p.xmlReader.total, t).each(function() {
                        i.p.lastpage = this.textContent || this.text;
                        i.p.lastpage === undefined && (i.p.lastpage = 1);
                      }),
                      n(i.p.xmlReader.records, t).each(function() {
                        i.p.records = this.textContent || this.text || 0;
                      }),
                      n(i.p.xmlReader.userdata, t).each(function() {
                        i.p.userData[this.getAttribute("name")] =
                          this.textContent || this.text;
                      }),
                      (t = n(
                        i.p.xmlReader.root + " " + i.p.xmlReader.row,
                        t
                      )) || (t = []),
                      (g = t.length),
                      (l = 0),
                      t && g)
                    )
                      for (
                        ut = parseInt(i.p.rowNum, 10),
                          at = i.p.scroll
                            ? (parseInt(i.p.page, 10) - 1) * ut + 1
                            : 1,
                          e && (ut *= e + 1),
                          e = n.isFunction(i.p.afterInsertRow),
                          ft = {},
                          lt = "",
                          i.p.grouping &&
                            i.p.groupingView.groupCollapse === !0 &&
                            (lt = ' style="display:none;"');
                        l < g;

                      ) {
                        if (
                          ((v = t[l]),
                          (b = st(v, at + l)),
                          (o = u === 0 ? 0 : u + 1),
                          (o = (o + l) % 2 == 1 ? bt : ""),
                          h.push(
                            "<tr" +
                              lt +
                              ' id="' +
                              b +
                              '" role="row" class ="ui-widget-content jqgrow ui-row-' +
                              i.p.direction +
                              "" +
                              o +
                              '">'
                          ),
                          i.p.rownumbers === !0 &&
                            (h.push(ni(0, l, i.p.page, i.p.rowNum)), (c = 1)),
                          i.p.multiselect === !0 &&
                            (h.push(gt(b, c, l)), (a = 1)),
                          i.p.subGrid === !0 &&
                            (h.push(
                              n(i).jqGrid("addSubGridCell", a + c, l + u)
                            ),
                            (w = 1)),
                          i.p.xmlReader.repeatitems)
                        )
                          rt || (rt = ot(a + w + c)),
                            (vt = n(i.p.xmlReader.cell, v)),
                            n.each(rt, function(n) {
                              var t = vt[this];
                              if (!t) return !1;
                              y = t.textContent || t.text;
                              s[i.p.colModel[n + a + w + c].name] = y;
                              h.push(wt(b, y, n + a + w + c, l + u, v));
                            });
                        else
                          for (o = 0; o < d.length; o++)
                            (y = n(d[o], v).text()),
                              (s[i.p.colModel[o + a + w + c].name] = y),
                              h.push(wt(b, y, o + a + w + c, l + u, v));
                        if ((h.push("</tr>"), i.p.grouping)) {
                          for (
                            o = i.p.groupingView.groupField.length,
                              it = [],
                              ht = 0;
                            ht < o;
                            ht++
                          )
                            it.push(s[i.p.groupingView.groupField[ht]]);
                          ft = n(i).jqGrid("groupingPrepare", h, it, ft, s);
                          h = [];
                        }
                        if (
                          (et && ((s[ct] = b), i.p.data.push(s)),
                          i.p.gridview === !1)
                        ) {
                          if (i.p.treeGrid === !0) {
                            o = i.p.treeANode > -1 ? i.p.treeANode : 0;
                            it = n(h.join(""))[0];
                            n(i.rows[l + o]).after(it);
                            try {
                              n(i).jqGrid("setTreeNode", s, it);
                            } catch (kt) {}
                          } else n("tbody:first", r).append(h.join(""));
                          if (i.p.subGrid === !0)
                            try {
                              n(i).jqGrid(
                                "addSubGrid",
                                i.rows[i.rows.length - 1],
                                a + c
                              );
                            } catch (dt) {}
                          e && i.p.afterInsertRow.call(i, b, s, v);
                          h = [];
                        }
                        if (((s = {}), k++, l++, k == ut)) break;
                      }
                    if (
                      (i.p.gridview === !0 &&
                        (i.p.grouping
                          ? (n(i).jqGrid(
                              "groupingRender",
                              ft,
                              i.p.colModel.length
                            ),
                            (ft = null))
                          : n("tbody:first", r).append(h.join(""))),
                      (i.p.totaltime = new Date() - pt),
                      k > 0 && i.p.records === 0 && (i.p.records = g),
                      (h = null),
                      i.p.treeGrid || i.p.scroll || (i.grid.bDiv.scrollTop = 0),
                      (i.p.reccount = k),
                      (i.p.treeANode = -1),
                      i.p.userDataOnFooter &&
                        n(i).jqGrid("footerData", "set", i.p.userData, !0),
                      et &&
                        ((i.p.records = g), (i.p.lastpage = Math.ceil(g / ut))),
                      f || i.updatepager(!1, !0),
                      et)
                    ) {
                      for (; k < g; ) {
                        if (
                          ((v = t[k]),
                          (b = st(v, k)),
                          i.p.xmlReader.repeatitems)
                        )
                          rt || (rt = ot(a + w + c)),
                            (yt = n(i.p.xmlReader.cell, v)),
                            n.each(rt, function(n) {
                              var t = yt[this];
                              if (!t) return !1;
                              y = t.textContent || t.text;
                              s[i.p.colModel[n + a + w + c].name] = y;
                            });
                        else
                          for (o = 0; o < d.length; o++)
                            (y = n(d[o], v).text()),
                              (s[i.p.colModel[o + a + w + c].name] = y);
                        s[ct] = b;
                        i.p.data.push(s);
                        s = {};
                        k++;
                      }
                      tt();
                    }
                  }
                },
                st = function(t, r, u, f, e) {
                  var lt = new Date(),
                    ft,
                    c,
                    d,
                    ht,
                    rt,
                    et,
                    ut;
                  if (t) {
                    i.p.treeANode !== -1 || i.p.scroll
                      ? (u = u > 1 ? u : 1)
                      : (nt(r, !1), (u = 1));
                    d =
                      (i.p.datatype != "local" && i.p.loadonce) ||
                      i.p.datatype == "jsonstring";
                    d &&
                      ((i.p.data = []),
                      (i.p._index = {}),
                      (ft = i.p.localReader.id = "_id_"));
                    i.p.reccount = 0;
                    i.p.datatype == "local"
                      ? ((r = i.p.localReader), (c = "local"))
                      : ((r = i.p.jsonReader), (c = "json"));
                    var w = 0,
                      l,
                      h,
                      o,
                      g = [],
                      v,
                      b = 0,
                      k = 0,
                      y = 0,
                      p,
                      it,
                      a = {},
                      s;
                    o = [];
                    ht = i.p.altRows === !0 ? " " + i.p.altclass : "";
                    i.p.page = n.jgrid.getAccessor(t, r.page) || 0;
                    p = n.jgrid.getAccessor(t, r.total);
                    i.p.lastpage = p === undefined ? 1 : p;
                    i.p.records = n.jgrid.getAccessor(t, r.records) || 0;
                    i.p.userData = n.jgrid.getAccessor(t, r.userdata) || {};
                    r.repeatitems || (v = g = ti(c));
                    c = i.p.keyIndex === !1 ? r.id : i.p.keyIndex;
                    g.length > 0 &&
                      !isNaN(c) &&
                      (i.p.remapColumns &&
                        i.p.remapColumns.length &&
                        (c = n.inArray(c, i.p.remapColumns)),
                      (c = g[c]));
                    (it = n.jgrid.getAccessor(t, r.root)) || (it = []);
                    p = it.length;
                    t = 0;
                    rt = parseInt(i.p.rowNum, 10);
                    et = i.p.scroll ? (parseInt(i.p.page, 10) - 1) * rt + 1 : 1;
                    e && (rt *= e + 1);
                    var at = n.isFunction(i.p.afterInsertRow),
                      st = {},
                      ct = "";
                    for (
                      i.p.grouping &&
                      i.p.groupingView.groupCollapse === !0 &&
                      (ct = ' style="display:none;"');
                      t < p;

                    ) {
                      for (
                        e = it[t],
                          s = n.jgrid.getAccessor(e, c),
                          s === undefined &&
                            ((s = et + t),
                            g.length === 0 &&
                              r.cell &&
                              (s = e[r.cell][c] || s)),
                          l = u === 1 ? 0 : u,
                          l = (l + t) % 2 == 1 ? ht : "",
                          o.push(
                            "<tr" +
                              ct +
                              ' id="' +
                              s +
                              '" role="row" class= "ui-widget-content jqgrow ui-row-' +
                              i.p.direction +
                              "" +
                              l +
                              '">'
                          ),
                          i.p.rownumbers === !0 &&
                            (o.push(ni(0, t, i.p.page, i.p.rowNum)), (y = 1)),
                          i.p.multiselect && (o.push(gt(s, y, t)), (b = 1)),
                          i.p.subGrid &&
                            (o.push(
                              n(i).jqGrid("addSubGridCell", b + y, t + u)
                            ),
                            (k = 1)),
                          r.repeatitems &&
                            (r.cell && (e = n.jgrid.getAccessor(e, r.cell)),
                            v || (v = ot(b + k + y))),
                          h = 0;
                        h < v.length;
                        h++
                      )
                        (l = n.jgrid.getAccessor(e, v[h])),
                          o.push(wt(s, l, h + b + k + y, t + u, e)),
                          (a[i.p.colModel[h + b + k + y].name] = l);
                      if ((o.push("</tr>"), i.p.grouping)) {
                        for (
                          l = i.p.groupingView.groupField.length,
                            h = [],
                            ut = 0;
                          ut < l;
                          ut++
                        )
                          h.push(a[i.p.groupingView.groupField[ut]]);
                        st = n(i).jqGrid("groupingPrepare", o, h, st, a);
                        o = [];
                      }
                      if (
                        (d && ((a[ft] = s), i.p.data.push(a)),
                        i.p.gridview === !1)
                      ) {
                        if (i.p.treeGrid === !0) {
                          l = i.p.treeANode > -1 ? i.p.treeANode : 0;
                          o = n(o.join(""))[0];
                          n(i.rows[t + l]).after(o);
                          try {
                            n(i).jqGrid("setTreeNode", a, o);
                          } catch (vt) {}
                        } else
                          n("#" + i.p.id + " tbody:first").append(o.join(""));
                        if (i.p.subGrid === !0)
                          try {
                            n(i).jqGrid(
                              "addSubGrid",
                              i.rows[i.rows.length - 1],
                              b + y
                            );
                          } catch (yt) {}
                        at && i.p.afterInsertRow.call(i, s, a, e);
                        o = [];
                      }
                      if (((a = {}), w++, t++, w == rt)) break;
                    }
                    if (
                      (i.p.gridview === !0 &&
                        (i.p.grouping
                          ? n(i).jqGrid(
                              "groupingRender",
                              st,
                              i.p.colModel.length
                            )
                          : n("#" + i.p.id + " tbody:first").append(
                              o.join("")
                            )),
                      (i.p.totaltime = new Date() - lt),
                      w > 0 && i.p.records === 0 && (i.p.records = p),
                      i.p.treeGrid || i.p.scroll || (i.grid.bDiv.scrollTop = 0),
                      (i.p.reccount = w),
                      (i.p.treeANode = -1),
                      i.p.userDataOnFooter &&
                        n(i).jqGrid("footerData", "set", i.p.userData, !0),
                      d &&
                        ((i.p.records = p), (i.p.lastpage = Math.ceil(p / rt))),
                      f || i.updatepager(!1, !0),
                      d)
                    ) {
                      for (; w < p; ) {
                        if (
                          ((e = it[w]),
                          (s = n.jgrid.getAccessor(e, c)),
                          s === undefined &&
                            ((s = et + w),
                            g.length === 0 &&
                              r.cell &&
                              (s = e[r.cell][c] || s)),
                          e)
                        ) {
                          for (
                            r.repeatitems &&
                              (r.cell && (e = n.jgrid.getAccessor(e, r.cell)),
                              v || (v = ot(b + k + y))),
                              h = 0;
                            h < v.length;
                            h++
                          )
                            (l = n.jgrid.getAccessor(e, v[h])),
                              (a[i.p.colModel[h + b + k + y].name] = l);
                          a[ft] = s;
                          i.p.data.push(a);
                          a = {};
                        }
                        w++;
                      }
                      tt();
                    }
                  }
                },
                fi = function() {
                  var o,
                    v = !1,
                    r = [],
                    y = [],
                    b = [],
                    p,
                    l,
                    w,
                    a,
                    f,
                    t,
                    e,
                    h,
                    c,
                    s,
                    u;
                  if (n.isArray(i.p.data))
                    if (
                      ((a = i.p.grouping ? i.p.groupingView : !1),
                      n.each(i.p.colModel, function() {
                        if (
                          ((l = this.sorttype || "text"),
                          l == "date" || l == "datetime"
                            ? (this.formatter &&
                              typeof this.formatter == "string" &&
                              this.formatter == "date"
                                ? ((p =
                                    this.formatoptions &&
                                    this.formatoptions.srcformat
                                      ? this.formatoptions.srcformat
                                      : n.jgrid.formatter.date.srcformat),
                                  (w =
                                    this.formatoptions &&
                                    this.formatoptions.newformat
                                      ? this.formatoptions.newformat
                                      : n.jgrid.formatter.date.newformat))
                                : (p = w = this.datefmt || "Y-m-d"),
                              (r[this.name] = {
                                stype: l,
                                srcfmt: p,
                                newfmt: w
                              }))
                            : (r[this.name] = {
                                stype: l,
                                srcfmt: "",
                                newfmt: ""
                              }),
                          i.p.grouping && this.name == a.groupField[0])
                        ) {
                          var t = this.name;
                          typeof this.index != "undefined" && (t = this.index);
                          y[0] = r[t];
                          b.push(t);
                        }
                        v ||
                          (this.index != i.p.sortname &&
                            this.name != i.p.sortname) ||
                          ((o = this.name), (v = !0));
                      }),
                      i.p.treeGrid)
                    )
                      n(i).jqGrid(
                        "SortTree",
                        o,
                        i.p.sortorder,
                        r[o].stype,
                        r[o].srcfmt
                      );
                    else {
                      if (
                        ((f = {
                          eq: function(n) {
                            return n.equals;
                          },
                          ne: function(n) {
                            return n.not().equals;
                          },
                          lt: function(n) {
                            return n.less;
                          },
                          le: function(n) {
                            return n.lessOrEquals;
                          },
                          gt: function(n) {
                            return n.greater;
                          },
                          ge: function(n) {
                            return n.greaterOrEquals;
                          },
                          cn: function(n) {
                            return n.contains;
                          },
                          nc: function(n) {
                            return n.not().contains;
                          },
                          bw: function(n) {
                            return n.startsWith;
                          },
                          bn: function(n) {
                            return n.not().startsWith;
                          },
                          en: function(n) {
                            return n.not().endsWith;
                          },
                          ew: function(n) {
                            return n.endsWith;
                          },
                          ni: function(n) {
                            return n.not().equals;
                          },
                          in: function(n) {
                            return n.equals;
                          }
                        }),
                        (t = n.jgrid.from(i.p.data)),
                        i.p.ignoreCase && (t = t.ignoreCase()),
                        i.p.search === !0)
                      )
                        if (((e = i.p.postData.filters), e))
                          for (
                            typeof e == "string" && (e = n.jgrid.parse(e)),
                              c = 0,
                              s = e.rules.length;
                            c < s;
                            c++
                          )
                            (u = e.rules[c]),
                              (h = e.groupOp),
                              f[u.op] &&
                                u.field &&
                                u.data &&
                                h &&
                                (t =
                                  h.toUpperCase() == "OR"
                                    ? f[u.op](t)(
                                        u.field,
                                        u.data,
                                        r[u.field]
                                      ).or()
                                    : f[u.op](t)(u.field, u.data, r[u.field]));
                        else
                          try {
                            t = f[i.p.postData.searchOper](t)(
                              i.p.postData.searchField,
                              i.p.postData.searchString,
                              r[i.p.postData.searchField]
                            );
                          } catch (k) {}
                      return (
                        i.p.grouping &&
                          (t.orderBy(
                            b,
                            a.groupOrder[0],
                            y[0].stype,
                            y[0].srcfmt
                          ),
                          (a.groupDataSorted = !0)),
                        o &&
                          i.p.sortorder &&
                          v &&
                          (i.p.sortorder.toUpperCase() == "DESC"
                            ? t.orderBy(
                                i.p.sortname,
                                "d",
                                r[o].stype,
                                r[o].srcfmt
                              )
                            : t.orderBy(
                                i.p.sortname,
                                "a",
                                r[o].stype,
                                r[o].srcfmt
                              )),
                        (f = t.select()),
                        (t = parseInt(i.p.rowNum, 10)),
                        (e = f.length),
                        (h = parseInt(i.p.page, 10)),
                        (c = Math.ceil(e / t)),
                        (s = {}),
                        (f = f.slice((h - 1) * t, h * t)),
                        (r = t = null),
                        (s[i.p.localReader.total] = c),
                        (s[i.p.localReader.page] = h),
                        (s[i.p.localReader.records] = e),
                        (s[i.p.localReader.root] = f),
                        (f = null),
                        s
                      );
                    }
                },
                ht = function() {
                  if (((i.grid.hDiv.loading = !0), !i.p.hiddengrid))
                    switch (i.p.loadui) {
                      case "enable":
                        n("#load_" + i.p.id).show();
                        break;
                      case "block":
                        n("#lui_" + i.p.id).show();
                        n("#load_" + i.p.id).show();
                    }
                },
                it = function() {
                  i.grid.hDiv.loading = !1;
                  switch (i.p.loadui) {
                    case "enable":
                      n("#load_" + i.p.id).hide();
                      break;
                    case "block":
                      n("#lui_" + i.p.id).hide();
                      n("#load_" + i.p.id).hide();
                  }
                },
                a = function(t) {
                  var f, e, o, h;
                  if (!i.grid.hDiv.loading) {
                    var c = i.p.scroll && t === !1,
                      r = {},
                      s,
                      u = i.p.prmNames;
                    if (
                      (i.p.page <= 0 && (i.p.page = 1),
                      u.search !== null && (r[u.search] = i.p.search),
                      u.nd !== null && (r[u.nd] = new Date().getTime()),
                      u.rows !== null && (r[u.rows] = i.p.rowNum),
                      u.page !== null && (r[u.page] = i.p.page),
                      u.sort !== null && (r[u.sort] = i.p.sortname),
                      u.order !== null && (r[u.order] = i.p.sortorder),
                      i.p.rowTotal !== null &&
                        u.totalrows !== null &&
                        (r[u.totalrows] = i.p.rowTotal),
                      (f = i.p.loadComplete),
                      (e = n.isFunction(f)),
                      e || (f = null),
                      (o = 0),
                      (t = t || 1),
                      t > 1
                        ? u.npage !== null
                          ? ((r[u.npage] = t), (o = t - 1), (t = 1))
                          : (f = function(n) {
                              i.p.page++;
                              i.grid.hDiv.loading = !1;
                              e && i.p.loadComplete.call(i, n);
                              a(t - 1);
                            })
                        : u.npage !== null && delete i.p.postData[u.npage],
                      i.p.grouping &&
                        (n(i).jqGrid("groupingSetup"),
                        i.p.groupingView.groupDataSorted === !0 &&
                          (r[u.sort] =
                            i.p.groupingView.groupField[0] +
                            " " +
                            i.p.groupingView.groupOrder[0] +
                            ", " +
                            r[u.sort])),
                      n.extend(i.p.postData, r),
                      (h = i.p.scroll ? i.rows.length - 1 : 1),
                      n.isFunction(i.p.datatype))
                    )
                      i.p.datatype.call(i, i.p.postData, "load_" + i.p.id);
                    else {
                      n.isFunction(i.p.beforeRequest) &&
                        i.p.beforeRequest.call(i);
                      s = i.p.datatype.toLowerCase();
                      switch (s) {
                        case "json":
                        case "jsonp":
                        case "xml":
                        case "script":
                          n.ajax(
                            n.extend(
                              {
                                url: i.p.url,
                                type: i.p.mtype,
                                dataType: s,
                                data: n.isFunction(i.p.serializeGridData)
                                  ? i.p.serializeGridData.call(i, i.p.postData)
                                  : i.p.postData,
                                success: function(n) {
                                  s === "xml"
                                    ? bt(n, i.grid.bDiv, h, t > 1, o)
                                    : st(n, i.grid.bDiv, h, t > 1, o);
                                  f && f.call(i, n);
                                  c && i.grid.populateVisible();
                                  (i.p.loadonce || i.p.treeGrid) &&
                                    (i.p.datatype = "local");
                                  it();
                                },
                                error: function(t, r, u) {
                                  this.ajaxRetryOnError(
                                    t,
                                    "Error Loading Grid"
                                  ) ||
                                    (n.isFunction(i.p.loadError) &&
                                      i.p.loadError.call(i, t, r, u),
                                    it());
                                },
                                beforeSend: function(t) {
                                  ht();
                                  n.isFunction(i.p.loadBeforeSend) &&
                                    i.p.loadBeforeSend.call(i, t);
                                }
                              },
                              n.jgrid.ajaxOptions,
                              i.p.ajaxGridOptions
                            )
                          );
                          break;
                        case "xmlstring":
                          ht();
                          r = n.jgrid.stringToDoc(i.p.datastr);
                          bt(r, i.grid.bDiv);
                          e && i.p.loadComplete.call(i, r);
                          i.p.datatype = "local";
                          i.p.datastr = null;
                          it();
                          break;
                        case "jsonstring":
                          ht();
                          r =
                            typeof i.p.datastr == "string"
                              ? n.jgrid.parse(i.p.datastr)
                              : i.p.datastr;
                          st(r, i.grid.bDiv);
                          e && i.p.loadComplete.call(i, r);
                          i.p.datatype = "local";
                          i.p.datastr = null;
                          it();
                          break;
                        case "local":
                        case "clientside":
                          ht();
                          i.p.datatype = "local";
                          r = fi();
                          st(r, i.grid.bDiv, h, t > 1, o);
                          f && f.call(i, r);
                          c && i.grid.populateVisible();
                          it();
                      }
                    }
                  }
                };
              k = function(t, r) {
                var h = "",
                  u =
                    "<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",
                  e = "",
                  s,
                  f,
                  l,
                  v,
                  c = function(t) {
                    var r;
                    return (n.isFunction(i.p.onPaging) &&
                      (r = i.p.onPaging.call(i, t)),
                    (i.p.selrow = null),
                    i.p.multiselect &&
                      ((i.p.selarrrow = []),
                      n("#cb_" + n.jgrid.jqID(i.p.id), i.grid.hDiv).prop(
                        "checked",
                        !1
                      )),
                    (i.p.savedRow = []),
                    r == "stop")
                      ? !1
                      : !0;
                  };
                if (
                  ((t = t.substr(1)),
                  (s = "pg_" + t),
                  (f = t + "_left"),
                  (l = t + "_center"),
                  (v = t + "_right"),
                  n("#" + t)
                    .append(
                      "<div id='" +
                        s +
                        "' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='" +
                        f +
                        "' align='left'></td><td id='" +
                        l +
                        "' align='center' style='white-space:pre;'></td><td id='" +
                        v +
                        "' align='right'></td></tr></tbody></table></div>"
                    )
                    .attr("dir", "ltr"),
                  i.p.rowList.length > 0)
                ) {
                  for (
                    e = "<td dir='" + o + "'>",
                      e += "<select class='ui-pg-selbox' role='listbox'>",
                      f = 0;
                    f < i.p.rowList.length;
                    f++
                  )
                    e +=
                      '<option role="option" value="' +
                      i.p.rowList[f] +
                      '"' +
                      (i.p.rowNum == i.p.rowList[f]
                        ? ' selected="selected"'
                        : "") +
                      ">" +
                      i.p.rowList[f] +
                      "</option>";
                  e += "</select></td>";
                }
                o == "rtl" && (u += e);
                i.p.pginput === !0 &&
                  (h =
                    "<td dir='" +
                    o +
                    "'>" +
                    n.jgrid.format(
                      i.p.pgtext || "",
                      "<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>",
                      "<span id='sp_1'></span>"
                    ) +
                    "</td>");
                i.p.pgbuttons === !0
                  ? ((f = ["first" + r, "prev" + r, "next" + r, "last" + r]),
                    o == "rtl" && f.reverse(),
                    (u +=
                      "<td id='" +
                      f[0] +
                      "' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>"),
                    (u +=
                      "<td id='" +
                      f[1] +
                      "' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>"),
                    (u +=
                      h !== ""
                        ? "<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>" +
                          h +
                          "<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"
                        : ""),
                    (u +=
                      "<td id='" +
                      f[2] +
                      "' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>"),
                    (u +=
                      "<td id='" +
                      f[3] +
                      "' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"))
                  : h !== "" && (u += h);
                o == "ltr" && (u += e);
                u += "</tr></tbody></table>";
                i.p.viewrecords === !0 &&
                  n("td#" + t + "_" + i.p.recordpos, "#" + s).append(
                    "<div dir='" +
                      o +
                      "' style='text-align:" +
                      i.p.recordpos +
                      "' class='ui-paging-info'></div>"
                  );
                n("td#" + t + "_" + i.p.pagerpos, "#" + s).append(u);
                e = n(".ui-jqgrid").css("font-size") || "11px";
                n(document.body).append(
                  "<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:" +
                    e +
                    ";visibility:hidden;' ></div>"
                );
                u = n(u)
                  .clone()
                  .appendTo("#testpg")
                  .width();
                n("#testpg").remove();
                u > 0 &&
                  (h != "" && (u += 50),
                  n("td#" + t + "_" + i.p.pagerpos, "#" + s).width(u));
                i.p._nvtd = [];
                i.p._nvtd[0] = u
                  ? Math.floor((i.p.width - u) / 2)
                  : Math.floor(i.p.width / 3);
                i.p._nvtd[1] = 0;
                u = null;
                n(".ui-pg-selbox", "#" + s).bind("change", function() {
                  return ((i.p.page =
                    Math.round(
                      (i.p.rowNum * (i.p.page - 1)) / this.value - 0.5
                    ) + 1),
                  (i.p.rowNum = this.value),
                  r
                    ? n(".ui-pg-selbox", i.p.pager).val(this.value)
                    : i.p.toppager &&
                      n(".ui-pg-selbox", i.p.toppager).val(this.value),
                  !c("records"))
                    ? !1
                    : (a(), !1);
                });
                i.p.pgbuttons === !0 &&
                  (n(".ui-pg-button", "#" + s).hover(
                    function() {
                      n(this).hasClass("ui-state-disabled")
                        ? (this.style.cursor = "default")
                        : (n(this).addClass("ui-state-hover"),
                          (this.style.cursor = "pointer"));
                    },
                    function() {
                      n(this).hasClass("ui-state-disabled") ||
                        (n(this).removeClass("ui-state-hover"),
                        (this.style.cursor = "default"));
                    }
                  ),
                  n(
                    "#first" +
                      r +
                      ", #prev" +
                      r +
                      ", #next" +
                      r +
                      ", #last" +
                      r,
                    "#" + t
                  ).click(function() {
                    var n = d(i.p.page, 1),
                      t = d(i.p.lastpage, 1),
                      u = !1,
                      o = !0,
                      s = !0,
                      f = !0,
                      e = !0;
                    if (
                      (t === 0 || t === 1
                        ? (e = f = s = o = !1)
                        : t > 1 && n >= 1
                        ? n === 1
                          ? (s = o = !1)
                          : (n > 1 && n < t) || (n === t && (e = f = !1))
                        : t > 1 && n === 0 && ((e = f = !1), (n = t - 1)),
                      this.id === "first" + r &&
                        o &&
                        ((i.p.page = 1), (u = !0)),
                      this.id === "prev" + r &&
                        s &&
                        ((i.p.page = n - 1), (u = !0)),
                      this.id === "next" + r &&
                        f &&
                        ((i.p.page = n + 1), (u = !0)),
                      this.id === "last" + r && e && ((i.p.page = t), (u = !0)),
                      u)
                    ) {
                      if (!c(this.id)) return !1;
                      a();
                    }
                    return !1;
                  }));
                i.p.pginput === !0 &&
                  n("input.ui-pg-input", "#" + s).keypress(function(t) {
                    return (t.charCode
                      ? t.charCode
                      : t.keyCode
                      ? t.keyCode
                      : 0) == 13
                      ? ((i.p.page =
                          n(this).val() > 0 ? n(this).val() : i.p.page),
                        !c("user"))
                        ? !1
                        : (a(), !1)
                      : this;
                  });
              };
              var ii = function(t, r, u, f) {
                  if (i.p.colModel[r].sortable && !(i.p.savedRow.length > 0)) {
                    if (
                      (u ||
                        (i.p.lastsort == r
                          ? i.p.sortorder == "asc"
                            ? (i.p.sortorder = "desc")
                            : i.p.sortorder == "desc" && (i.p.sortorder = "asc")
                          : (i.p.sortorder =
                              i.p.colModel[r].firstsortorder || "asc"),
                        (i.p.page = 1)),
                      f)
                    )
                      if (i.p.lastsort != r || i.p.sortorder != f || u)
                        i.p.sortorder = f;
                      else return;
                    if (
                      ((u = n("thead:first", i.grid.hDiv).get(0)),
                      n(
                        "tr th:eq(" + i.p.lastsort + ") span.ui-grid-ico-sort",
                        u
                      ).addClass("ui-state-disabled"),
                      n("tr th:eq(" + i.p.lastsort + ")", u).attr(
                        "aria-selected",
                        "false"
                      ),
                      n(
                        "tr th:eq(" + r + ") span.ui-icon-" + i.p.sortorder,
                        u
                      ).removeClass("ui-state-disabled"),
                      n("tr th:eq(" + r + ")", u).attr("aria-selected", "true"),
                      i.p.viewsortcols[0] ||
                        (i.p.lastsort != r &&
                          (n(
                            "tr th:eq(" + i.p.lastsort + ") span.s-ico",
                            u
                          ).hide(),
                          n("tr th:eq(" + r + ") span.s-ico", u).show())),
                      (t = t.substring(5)),
                      (i.p.sortname = i.p.colModel[r].index || t),
                      (u = i.p.sortorder),
                      n.isFunction(i.p.onSortCol) &&
                        i.p.onSortCol.call(i, t, r, u) == "stop")
                    ) {
                      i.p.lastsort = r;
                      return;
                    }
                    i.p.datatype == "local"
                      ? i.p.deselectAfterSort && n(i).jqGrid("resetSelection")
                      : ((i.p.selrow = null),
                        i.p.multiselect &&
                          n("#cb_" + n.jgrid.jqID(i.p.id), i.grid.hDiv).prop(
                            "checked",
                            !1
                          ),
                        (i.p.selarrrow = []),
                        (i.p.savedRow = []));
                    i.p.scroll &&
                      ((u = i.grid.bDiv.scrollLeft),
                      nt(i.grid.bDiv, !0),
                      (i.grid.hDiv.scrollLeft = u));
                    i.p.subGrid &&
                      i.p.datatype == "local" &&
                      n("td.sgexpanded", "#" + i.p.id).each(function() {
                        n(this).trigger("click");
                      });
                    a();
                    i.p.lastsort = r;
                    i.p.sortname != t && r && (i.p.lastsort = r);
                  }
                },
                ei = function(n) {
                  for (var r = n, t = n + 1; t < i.p.colModel.length; t++)
                    if (i.p.colModel[t].hidden !== !0) {
                      r = t;
                      break;
                    }
                  return r - n;
                },
                oi = function(t) {
                  for (
                    var r = {},
                      f = pt ? 0 : i.p.cellLayout,
                      u = (r[0] = r[1] = r[2] = 0);
                    u <= t;
                    u++
                  )
                    i.p.colModel[u].hidden === !1 &&
                      (r[0] += i.p.colModel[u].width + f);
                  return (
                    i.p.direction == "rtl" && (r[0] = i.p.width - r[0]),
                    (r[0] -= i.grid.bDiv.scrollLeft),
                    n(i.grid.cDiv).is(":visible") &&
                      (r[1] +=
                        n(i.grid.cDiv).height() +
                        parseInt(n(i.grid.cDiv).css("padding-top"), 10) +
                        parseInt(n(i.grid.cDiv).css("padding-bottom"), 10)),
                    i.p.toolbar[0] === !0 &&
                      (i.p.toolbar[1] == "top" || i.p.toolbar[1] == "both") &&
                      (r[1] +=
                        n(i.grid.uDiv).height() +
                        parseInt(n(i.grid.uDiv).css("border-top-width"), 10) +
                        parseInt(
                          n(i.grid.uDiv).css("border-bottom-width"),
                          10
                        )),
                    i.p.toppager &&
                      (r[1] +=
                        n(i.grid.topDiv).height() +
                        parseInt(
                          n(i.grid.topDiv).css("border-bottom-width"),
                          10
                        )),
                    (r[2] += n(i.grid.bDiv).height() + n(i.grid.hDiv).height()),
                    r
                  );
                };
              for (
                this.p.id = this.id,
                  n.inArray(i.p.multikey, ["shiftKey", "altKey", "ctrlKey"]) ==
                    -1 && (i.p.multikey = !1),
                  i.p.keyIndex = !1,
                  f = 0;
                f < i.p.colModel.length;
                f++
              )
                (s = i.p.colModel[f]),
                  (s = n.extend(s, i.p.cmTemplate, s.template || {})),
                  i.p.keyIndex === !1 &&
                    i.p.colModel[f].key === !0 &&
                    (i.p.keyIndex = f);
              if (
                ((i.p.sortorder = i.p.sortorder.toLowerCase()),
                i.p.grouping === !0 &&
                  ((i.p.scroll = !1),
                  (i.p.rownumbers = !1),
                  (i.p.subGrid = !1),
                  (i.p.treeGrid = !1),
                  (i.p.gridview = !0)),
                this.p.treeGrid === !0)
              ) {
                try {
                  n(this).jqGrid("setTreeGrid");
                } catch (si) {}
                i.p.datatype != "local" && (i.p.localReader = { id: "_id_" });
              }
              if (this.p.subGrid)
                try {
                  n(i).jqGrid("setSubGrid");
                } catch (hi) {}
              if (
                (this.p.multiselect &&
                  (this.p.colNames.unshift(
                    "<input role='checkbox' id='cb_" +
                      this.p.id +
                      "' class='cbox' type='checkbox'/>"
                  ),
                  this.p.colModel.unshift({
                    name: "cb",
                    width: pt
                      ? i.p.multiselectWidth + i.p.cellLayout
                      : i.p.multiselectWidth,
                    sortable: !1,
                    resizable: !1,
                    hidedlg: !0,
                    search: !1,
                    align: "center",
                    fixed: !0
                  })),
                this.p.rownumbers &&
                  (this.p.colNames.unshift(""),
                  this.p.colModel.unshift({
                    name: "rn",
                    width: i.p.rownumWidth,
                    sortable: !1,
                    resizable: !1,
                    hidedlg: !0,
                    search: !1,
                    align: "center",
                    fixed: !0
                  })),
                (i.p.xmlReader = n.extend(
                  !0,
                  {
                    root: "rows",
                    row: "row",
                    page: "rows>page",
                    total: "rows>total",
                    records: "rows>records",
                    repeatitems: !0,
                    cell: "cell",
                    id: "[id]",
                    userdata: "userdata",
                    subgrid: {
                      root: "rows",
                      row: "row",
                      repeatitems: !0,
                      cell: "cell"
                    }
                  },
                  i.p.xmlReader
                )),
                (i.p.jsonReader = n.extend(
                  !0,
                  {
                    root: "rows",
                    page: "page",
                    total: "total",
                    records: "records",
                    repeatitems: !0,
                    cell: "cell",
                    id: "id",
                    userdata: "userdata",
                    subgrid: { root: "rows", repeatitems: !0, cell: "cell" }
                  },
                  i.p.jsonReader
                )),
                (i.p.localReader = n.extend(
                  !0,
                  {
                    root: "rows",
                    page: "page",
                    total: "total",
                    records: "records",
                    repeatitems: !1,
                    cell: "cell",
                    id: "id",
                    userdata: "userdata",
                    subgrid: { root: "rows", repeatitems: !0, cell: "cell" }
                  },
                  i.p.localReader
                )),
                i.p.scroll &&
                  ((i.p.pgbuttons = !1),
                  (i.p.pginput = !1),
                  (i.p.rowList = [])),
                i.p.data.length && tt(),
                (s = "<thead><tr class='ui-jqgrid-labels' role='rowheader'>"),
                (p = w = ""),
                i.p.shrinkToFit === !0 && i.p.forceFit === !0)
              )
                for (f = i.p.colModel.length - 1; f >= 0; f--)
                  if (!i.p.colModel[f].hidden) {
                    i.p.colModel[f].resizable = !1;
                    break;
                  }
              for (
                i.p.viewsortcols[1] == "horizontal" &&
                  ((w = " ui-i-asc"), (p = " ui-i-desc")),
                  ri = et ? "class='ui-th-div-ie'" : "",
                  w =
                    "<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc" +
                    w +
                    " ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-" +
                    o +
                    "'></span>",
                  w +=
                    "<span sort='desc' class='ui-grid-ico-sort ui-icon-desc" +
                    p +
                    " ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-" +
                    o +
                    "'></span></span>",
                  f = 0;
                f < this.p.colNames.length;
                f++
              )
                (p = i.p.headertitles
                  ? ' title="' + n.jgrid.stripHtml(i.p.colNames[f]) + '"'
                  : ""),
                  (s +=
                    "<th id='" +
                    i.p.id +
                    "_" +
                    i.p.colModel[f].name +
                    "' role='columnheader' class='ui-state-default ui-th-column ui-th-" +
                    o +
                    "'" +
                    p +
                    ">"),
                  (p = i.p.colModel[f].index || i.p.colModel[f].name),
                  (s +=
                    "<div id='jqgh_" +
                    i.p.colModel[f].name +
                    "' " +
                    ri +
                    ">" +
                    i.p.colNames[f]),
                  (i.p.colModel[f].width = i.p.colModel[f].width
                    ? parseInt(i.p.colModel[f].width, 10)
                    : 150),
                  typeof i.p.colModel[f].title != "boolean" &&
                    (i.p.colModel[f].title = !0),
                  p == i.p.sortname && (i.p.lastsort = f),
                  (s += w + "</div></th>");
              if (
                ((s += "</tr></thead>"),
                (w = null),
                n(this).append(s),
                n("thead tr:first th", this).hover(
                  function() {
                    n(this).addClass("ui-state-hover");
                  },
                  function() {
                    n(this).removeClass("ui-state-hover");
                  }
                ),
                this.p.multiselect &&
                  ((at = []),
                  n("#cb_" + n.jgrid.jqID(i.p.id), this).bind(
                    "click",
                    function() {
                      this.checked
                        ? (n("[id^=jqg_" + i.p.id + "_]").prop(
                            "checked",
                            "checked"
                          ),
                          n(i.rows).each(function(t) {
                            t > 0 &&
                              (n(this).hasClass("subgrid") ||
                                n(this).hasClass("jqgroup") ||
                                (n(this)
                                  .addClass("ui-state-highlight")
                                  .attr("aria-selected", "true"),
                                i.p.selarrrow.push(this.id),
                                (i.p.selrow = this.id)));
                          }),
                          (vt = !0),
                          (at = []))
                        : (n("[id^=jqg_" + i.p.id + "_]").removeAttr("checked"),
                          n(i.rows).each(function(t) {
                            t > 0 &&
                              (n(this).hasClass("subgrid") ||
                                (n(this)
                                  .removeClass("ui-state-highlight")
                                  .attr("aria-selected", "false"),
                                at.push(this.id)));
                          }),
                          (i.p.selarrrow = []),
                          (i.p.selrow = null),
                          (vt = !1));
                      n.isFunction(i.p.onSelectAll) &&
                        i.p.onSelectAll.call(i, vt ? i.p.selarrrow : at, vt);
                    }
                  )),
                i.p.autowidth === !0 &&
                  ((s = n(b).innerWidth()), (i.p.width = s > 0 ? s : "nw")),
                (function() {
                  var t = 0,
                    u = i.p.cellLayout,
                    f = 0,
                    s,
                    h = i.p.scrollOffset,
                    v,
                    c = !1,
                    l,
                    a = 0,
                    e = 0,
                    y = 0,
                    o;
                  pt && (u = 0);
                  n.each(i.p.colModel, function() {
                    typeof this.hidden == "undefined" && (this.hidden = !1);
                    this.hidden === !1 &&
                      ((t += d(this.width, 0)),
                      this.fixed
                        ? ((a += this.width), (e += this.width + u))
                        : f++,
                      y++);
                  });
                  isNaN(i.p.width)
                    ? (i.p.width = r.width = t)
                    : (r.width = i.p.width);
                  i.p.tblwidth = t;
                  i.p.shrinkToFit === !1 &&
                    i.p.forceFit === !0 &&
                    (i.p.forceFit = !1);
                  i.p.shrinkToFit === !0 &&
                    f > 0 &&
                    ((l = r.width - u * f - e),
                    isNaN(i.p.height) || ((l -= h), (c = !0)),
                    (t = 0),
                    n.each(i.p.colModel, function(n) {
                      this.hidden !== !1 ||
                        this.fixed ||
                        ((this.width = v = Math.round(
                          (l * this.width) / (i.p.tblwidth - a)
                        )),
                        (t += v),
                        (s = n));
                    }),
                    (o = 0),
                    c
                      ? r.width - e - (t + u * f) !== h &&
                        (o = r.width - e - (t + u * f) - h)
                      : c ||
                        Math.abs(r.width - e - (t + u * f)) === 1 ||
                        (o = r.width - e - (t + u * f)),
                    (i.p.colModel[s].width += o),
                    (i.p.tblwidth = t + o + a + y * u),
                    i.p.tblwidth > i.p.width &&
                      ((i.p.colModel[s].width -=
                        i.p.tblwidth - parseInt(i.p.width, 10)),
                      (i.p.tblwidth = i.p.width)));
                })(),
                n(b)
                  .css("width", r.width + "px")
                  .append(
                    "<div class='ui-jqgrid-resize-mark' id='rs_m" +
                      i.p.id +
                      "'>&#160;</div>"
                  ),
                n(c).css("width", r.width + "px"),
                (s = n("thead:first", i).get(0)),
                (ut = ""),
                i.p.footerrow &&
                  (ut +=
                    "<table role='grid' style='width:" +
                    i.p.tblwidth +
                    "px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-" +
                    o +
                    "'>"),
                (c = n("tr:first", s)),
                (ft =
                  "<tr class='jqgfirstrow' role='row' style='height:auto'>"),
                (i.p.disableClick = !1),
                n("th", c)
                  .each(function(t) {
                    ct = i.p.colModel[t].width;
                    typeof i.p.colModel[t].resizable == "undefined" &&
                      (i.p.colModel[t].resizable = !0);
                    i.p.colModel[t].resizable
                      ? ((rt = document.createElement("span")),
                        n(rt)
                          .html("&#160;")
                          .addClass("ui-jqgrid-resize ui-jqgrid-resize-" + o),
                        n.browser.opera || n(rt).css("cursor", "col-resize"),
                        n(this).addClass(i.p.resizeclass))
                      : (rt = "");
                    n(this)
                      .css("width", ct + "px")
                      .prepend(rt);
                    var u = "";
                    i.p.colModel[t].hidden &&
                      (n(this).css("display", "none"), (u = "display:none;"));
                    ft +=
                      "<td role='gridcell' style='height:0px;width:" +
                      ct +
                      "px;" +
                      u +
                      "'></td>";
                    r.headers[t] = { width: ct, el: this };
                    lt = i.p.colModel[t].sortable;
                    typeof lt != "boolean" &&
                      (lt = i.p.colModel[t].sortable = !0);
                    u = i.p.colModel[t].name;
                    u == "cb" ||
                      u == "subgrid" ||
                      u == "rn" ||
                      (i.p.viewsortcols[2] &&
                        n("div", this).addClass("ui-jqgrid-sortable"));
                    lt &&
                      (i.p.viewsortcols[0]
                        ? (n("div span.s-ico", this).show(),
                          t == i.p.lastsort &&
                            n(
                              "div span.ui-icon-" + i.p.sortorder,
                              this
                            ).removeClass("ui-state-disabled"))
                        : t == i.p.lastsort &&
                          (n("div span.s-ico", this).show(),
                          n(
                            "div span.ui-icon-" + i.p.sortorder,
                            this
                          ).removeClass("ui-state-disabled")));
                    i.p.footerrow &&
                      (ut +=
                        "<td role='gridcell' " + g(t, 0, "") + ">&#160;</td>");
                  })
                  .mousedown(function(t) {
                    if (
                      n(t.target).closest("th>span.ui-jqgrid-resize").length ==
                      1
                    ) {
                      var u = n.jgrid.getCellIndex(this);
                      return (
                        i.p.forceFit === !0 && (i.p.nv = ei(u)),
                        r.dragStart(u, t, oi(u)),
                        !1
                      );
                    }
                  })
                  .click(function(t) {
                    if (i.p.disableClick) return (i.p.disableClick = !1);
                    var r = "th>div.ui-jqgrid-sortable",
                      u,
                      f;
                    return (
                      i.p.viewsortcols[2] ||
                        (r = "th>div>span>span.ui-grid-ico-sort"),
                      (t = n(t.target).closest(r)),
                      t.length == 1
                        ? ((r = n.jgrid.getCellIndex(this)),
                          i.p.viewsortcols[2] ||
                            ((u = !0), (f = t.attr("sort"))),
                          ii(n("div", this)[0].id, r, u, f),
                          !1)
                        : void 0
                    );
                  }),
                i.p.sortable && n.fn.sortable)
              )
                try {
                  n(i).jqGrid("sortableColumns", c);
                } catch (ci) {}
              i.p.footerrow && (ut += "</tr></tbody></table>");
              ft += "</tr>";
              this.appendChild(document.createElement("tbody"));
              n(this)
                .addClass("ui-jqgrid-btable")
                .append(ft);
              ft = null;
              c = n(
                "<table class='ui-jqgrid-htable' style='width:" +
                  i.p.tblwidth +
                  "px' role='grid' aria-labelledby='gbox_" +
                  this.id +
                  "' cellspacing='0' cellpadding='0' border='0'></table>"
              ).append(s);
              l = i.p.caption && i.p.hiddengrid === !0 ? !0 : !1;
              f = n(
                "<div class='ui-jqgrid-hbox" +
                  (o == "rtl" ? "-rtl" : "") +
                  "'></div>"
              );
              s = null;
              r.hDiv = document.createElement("div");
              n(r.hDiv)
                .css({ width: r.width + "px" })
                .addClass("ui-state-default ui-jqgrid-hdiv")
                .append(f);
              n(f).append(c);
              c = null;
              l && n(r.hDiv).hide();
              i.p.pager &&
                (typeof i.p.pager == "string"
                  ? i.p.pager.substr(0, 1) != "#" &&
                    (i.p.pager = "#" + i.p.pager)
                  : (i.p.pager = "#" + n(i.p.pager).attr("id")),
                n(i.p.pager)
                  .css({ width: r.width + "px" })
                  .appendTo(b)
                  .addClass(
                    "ui-state-default ui-jqgrid-pager ui-corner-bottom"
                  ),
                l && n(i.p.pager).hide(),
                k(i.p.pager, ""));
              i.p.cellEdit === !1 &&
                i.p.hoverrows === !0 &&
                n(i)
                  .bind("mouseover", function(t) {
                    return (
                      (e = n(t.target).closest("tr.jqgrow")),
                      n(e).attr("class") !== "subgrid" &&
                        n(e).addClass("ui-state-hover"),
                      !1
                    );
                  })
                  .bind("mouseout", function(t) {
                    return (
                      (e = n(t.target).closest("tr.jqgrow")),
                      n(e).removeClass("ui-state-hover"),
                      !1
                    );
                  });
              n(i)
                .before(r.hDiv)
                .click(function(t) {
                  var r, u;
                  if (
                    ((h = t.target),
                    (r = n(h).hasClass("cbox")),
                    (e = n(h, i.rows).closest("tr.jqgrow")),
                    n(e).length === 0) ||
                    ((u = !0),
                    n.isFunction(i.p.beforeSelectRow) &&
                      (u = i.p.beforeSelectRow.call(i, e[0].id, t)),
                    h.tagName == "A" ||
                      ((h.tagName == "INPUT" ||
                        h.tagName == "TEXTAREA" ||
                        h.tagName == "OPTION" ||
                        h.tagName == "SELECT") &&
                        !r))
                  )
                    return this;
                  if (u === !0) {
                    if (i.p.cellEdit === !0)
                      if (i.p.multiselect && r)
                        n(i).jqGrid("setSelection", e[0].id, !0);
                      else {
                        v = e[0].rowIndex;
                        y = n.jgrid.getCellIndex(h);
                        try {
                          n(i).jqGrid("editCell", v, y, !0);
                        } catch (f) {}
                      }
                    else
                      i.p.multikey
                        ? t[i.p.multikey]
                          ? n(i).jqGrid("setSelection", e[0].id, !0)
                          : i.p.multiselect &&
                            r &&
                            ((r = n("[id^=jqg_" + i.p.id + "_]").prop(
                              "checked"
                            )),
                            n("[id^=jqg_" + i.p.id + "_]").prop("checked", !r))
                        : (i.p.multiselect &&
                            i.p.multiboxonly &&
                            (r ||
                              (n(i.p.selarrrow).each(function(t, r) {
                                t = i.rows.namedItem(r);
                                n(t).removeClass("ui-state-highlight");
                                n(
                                  "#jqg_" + i.p.id + "_" + n.jgrid.jqID(r)
                                ).prop("checked", !1);
                              }),
                              (i.p.selarrrow = []),
                              n(
                                "#cb_" + n.jgrid.jqID(i.p.id),
                                i.grid.hDiv
                              ).prop("checked", !1))),
                          n(i).jqGrid("setSelection", e[0].id, !0));
                    n.isFunction(i.p.onCellSelect) &&
                      ((v = e[0].id),
                      (y = n.jgrid.getCellIndex(h)),
                      i.p.onCellSelect.call(i, v, y, n(h).html(), t));
                    t.stopPropagation();
                  } else return this;
                })
                .bind("reloadGrid", function(t, r) {
                  return (
                    i.p.treeGrid === !0 && (i.p.datatype = i.p.treedatatype),
                    r && r.current && i.grid.selectionPreserver(i),
                    i.p.datatype == "local"
                      ? (n(i).jqGrid("resetSelection"), i.p.data.length && tt())
                      : i.p.treeGrid ||
                        ((i.p.selrow = null),
                        i.p.multiselect &&
                          ((i.p.selarrrow = []),
                          n("#cb_" + n.jgrid.jqID(i.p.id), i.grid.hDiv).prop(
                            "checked",
                            !1
                          )),
                        (i.p.savedRow = [])),
                    i.p.scroll && nt(i.grid.bDiv, !0),
                    r &&
                      r.page &&
                      ((t = r.page),
                      t > i.p.lastpage && (t = i.p.lastpage),
                      t < 1 && (t = 1),
                      (i.p.page = t),
                      (i.grid.bDiv.scrollTop = i.grid.prevRowHeight
                        ? (t - 1) * i.grid.prevRowHeight * i.p.rowNum
                        : 0)),
                    i.grid.prevRowHeight && i.p.scroll
                      ? (delete i.p.lastpage, i.grid.populateVisible())
                      : i.grid.populate(),
                    !1
                  );
                });
              n.isFunction(this.p.ondblClickRow) &&
                n(this).dblclick(function(t) {
                  return ((h = t.target),
                  (e = n(h, i.rows).closest("tr.jqgrow")),
                  n(e).length === 0)
                    ? !1
                    : ((v = e[0].rowIndex),
                      (y = n.jgrid.getCellIndex(h)),
                      i.p.ondblClickRow.call(i, n(e).attr("id"), v, y, t),
                      !1);
                });
              n.isFunction(this.p.onRightClickRow) &&
                n(this).bind("contextmenu", function(t) {
                  return ((h = t.target),
                  (e = n(h, i.rows).closest("tr.jqgrow")),
                  n(e).length === 0)
                    ? !1
                    : (i.p.multiselect ||
                        n(i).jqGrid("setSelection", e[0].id, !0),
                      (v = e[0].rowIndex),
                      (y = n.jgrid.getCellIndex(h)),
                      i.p.onRightClickRow.call(i, n(e).attr("id"), v, y, t),
                      !1);
                });
              r.bDiv = document.createElement("div");
              n(r.bDiv)
                .append(
                  n(
                    '<div style="position:relative;' +
                      (et && n.browser.version < 8 ? "height:0.01%;" : "") +
                      '"></div>'
                  )
                    .append("<div></div>")
                    .append(this)
                )
                .addClass("ui-jqgrid-bdiv")
                .css({
                  height: i.p.height + (isNaN(i.p.height) ? "" : "px"),
                  width: r.width + "px"
                })
                .scroll(r.scrollGrid);
              n("table:first", r.bDiv).css({ width: i.p.tblwidth + "px" });
              et
                ? (n("tbody", this).size() == 2 &&
                    n("tbody:gt(0)", this).remove(),
                  i.p.multikey &&
                    n(r.bDiv).bind("selectstart", function() {
                      return !1;
                    }))
                : i.p.multikey &&
                  n(r.bDiv).bind("mousedown", function() {
                    return !1;
                  });
              l && n(r.bDiv).hide();
              r.cDiv = document.createElement("div");
              yt =
                i.p.hidegrid === !0
                  ? n("<a role='link' href='javascript:void(0)'/>")
                      .addClass("ui-jqgrid-titlebar-close HeaderButton")
                      .hover(
                        function() {
                          yt.addClass("ui-state-hover");
                        },
                        function() {
                          yt.removeClass("ui-state-hover");
                        }
                      )
                      .append(
                        "<span class='ui-icon ui-icon-circle-triangle-n'></span>"
                      )
                      .css(o == "rtl" ? "left" : "right", "0px")
                  : "";
              n(r.cDiv)
                .append(yt)
                .append(
                  "<span class='ui-jqgrid-title" +
                    (o == "rtl" ? "-rtl" : "") +
                    "'>" +
                    i.p.caption +
                    "</span>"
                )
                .addClass(
                  "ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix"
                );
              n(r.cDiv).insertBefore(r.hDiv);
              i.p.toolbar[0] &&
                ((r.uDiv = document.createElement("div")),
                i.p.toolbar[1] == "top"
                  ? n(r.uDiv).insertBefore(r.hDiv)
                  : i.p.toolbar[1] == "bottom" && n(r.uDiv).insertAfter(r.hDiv),
                i.p.toolbar[1] == "both"
                  ? ((r.ubDiv = document.createElement("div")),
                    n(r.uDiv)
                      .insertBefore(r.hDiv)
                      .addClass("ui-userdata ui-state-default")
                      .attr("id", "t_" + this.id),
                    n(r.ubDiv)
                      .insertAfter(r.hDiv)
                      .addClass("ui-userdata ui-state-default")
                      .attr("id", "tb_" + this.id),
                    l && n(r.ubDiv).hide())
                  : n(r.uDiv)
                      .width(r.width)
                      .addClass("ui-userdata ui-state-default")
                      .attr("id", "t_" + this.id),
                l && n(r.uDiv).hide());
              i.p.toppager &&
                ((i.p.toppager = i.p.id + "_toppager"),
                (r.topDiv = n("<div id='" + i.p.toppager + "'></div>")[0]),
                (i.p.toppager = "#" + i.p.toppager),
                n(r.topDiv)
                  .insertBefore(r.hDiv)
                  .addClass("ui-state-default ui-jqgrid-toppager")
                  .width(r.width),
                k(i.p.toppager, "_t"));
              i.p.footerrow &&
                ((r.sDiv = n("<div class='ui-jqgrid-sdiv'></div>")[0]),
                (f = n(
                  "<div class='ui-jqgrid-hbox" +
                    (o == "rtl" ? "-rtl" : "") +
                    "'></div>"
                )),
                n(r.sDiv)
                  .append(f)
                  .insertAfter(r.hDiv)
                  .width(r.width),
                n(f).append(ut),
                (r.footers = n(".ui-jqgrid-ftable", r.sDiv)[0].rows[0].cells),
                i.p.rownumbers &&
                  (r.footers[0].className = "ui-state-default jqgrid-rownum"),
                l && n(r.sDiv).hide());
              f = null;
              i.p.caption
                ? ((ui = i.p.datatype),
                  i.p.hidegrid === !0 &&
                    (n(".ui-jqgrid-titlebar-close", r.cDiv).click(function(t) {
                      var e = n.isFunction(i.p.onHeaderClick),
                        u =
                          ".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",
                        f,
                        o = this;
                      return (
                        i.p.toolbar[0] === !0 &&
                          (i.p.toolbar[1] == "both" &&
                            (u += ", #" + n(r.ubDiv).attr("id")),
                          (u += ", #" + n(r.uDiv).attr("id"))),
                        (f = n(u, "#gview_" + i.p.id).length),
                        i.p.gridstate == "visible"
                          ? n(u, "#gbox_" + i.p.id).slideUp("fast", function() {
                              f--;
                              f == 0 &&
                                (n("span", o)
                                  .removeClass("ui-icon-circle-triangle-n")
                                  .addClass("ui-icon-circle-triangle-s"),
                                (i.p.gridstate = "hidden"),
                                n("#gbox_" + i.p.id).hasClass("ui-resizable") &&
                                  n(
                                    ".ui-resizable-handle",
                                    "#gbox_" + i.p.id
                                  ).hide(),
                                e &&
                                  (l ||
                                    i.p.onHeaderClick.call(
                                      i,
                                      i.p.gridstate,
                                      t
                                    )));
                            })
                          : i.p.gridstate == "hidden" &&
                            n(u, "#gbox_" + i.p.id).slideDown(
                              "fast",
                              function() {
                                f--;
                                f == 0 &&
                                  (n("span", o)
                                    .removeClass("ui-icon-circle-triangle-s")
                                    .addClass("ui-icon-circle-triangle-n"),
                                  l && ((i.p.datatype = ui), a(), (l = !1)),
                                  (i.p.gridstate = "visible"),
                                  n("#gbox_" + i.p.id).hasClass(
                                    "ui-resizable"
                                  ) &&
                                    n(
                                      ".ui-resizable-handle",
                                      "#gbox_" + i.p.id
                                    ).show(),
                                  e &&
                                    (l ||
                                      i.p.onHeaderClick.call(
                                        i,
                                        i.p.gridstate,
                                        t
                                      )));
                              }
                            ),
                        !1
                      );
                    }),
                    l &&
                      ((i.p.datatype = "local"),
                      n(".ui-jqgrid-titlebar-close", r.cDiv).trigger("click"))))
                : n(r.cDiv).hide();
              n(r.hDiv)
                .after(r.bDiv)
                .mousemove(function(n) {
                  if (r.resizing) return r.dragMove(n), !1;
                });
              n(".ui-jqgrid-labels", r.hDiv).bind("selectstart", function() {
                return !1;
              });
              n(document).mouseup(function() {
                return r.resizing ? (r.dragEnd(), !1) : !0;
              });
              i.formatCol = g;
              i.sortData = ii;
              i.updatepager = function(t, r) {
                var u,
                  f,
                  l,
                  s,
                  a,
                  h,
                  e = "",
                  c,
                  o;
                f = parseInt(i.p.page, 10) - 1;
                f < 0 && (f = 0);
                f *= parseInt(i.p.rowNum, 10);
                s = f + i.p.reccount;
                i.p.scroll &&
                  ((u = n("tbody:first > tr:gt(0)", i.grid.bDiv)),
                  (f = s - u.length),
                  (i.p.reccount = u.length),
                  (c = u.outerHeight() || i.grid.prevRowHeight),
                  c &&
                    ((u = f * c),
                    (o = parseInt(i.p.records, 10) * c),
                    n(">div:first", i.grid.bDiv)
                      .css({ height: o })
                      .children("div:first")
                      .css({ height: u, display: u ? "" : "none" }),
                    i.grid.bDiv.scrollTop == 0 &&
                      i.p.page > 1 &&
                      (i.grid.bDiv.scrollTop =
                        i.p.rowNum * (i.p.page - 1) * c)),
                  (i.grid.bDiv.scrollLeft = i.grid.hDiv.scrollLeft));
                e = i.p.pager ? i.p.pager : "";
                e += i.p.toppager
                  ? e
                    ? "," + i.p.toppager
                    : i.p.toppager
                  : "";
                e &&
                  ((h = n.jgrid.formatter.integer || {}),
                  (u = d(i.p.page)),
                  (o = d(i.p.lastpage)),
                  n(".selbox", e).attr("disabled", !1),
                  i.p.pginput === !0 &&
                    (n(".ui-pg-input", e).val(i.p.page),
                    n("#sp_1", e).html(
                      n.fmatter
                        ? n.fmatter.util.NumberFormat(i.p.lastpage, h)
                        : i.p.lastpage
                    )),
                  i.p.viewrecords &&
                    (i.p.reccount === 0
                      ? n(".ui-paging-info", e).html(i.p.emptyrecords)
                      : ((l = f + 1),
                        (a = i.p.records),
                        n.fmatter &&
                          ((l = n.fmatter.util.NumberFormat(l, h)),
                          (s = n.fmatter.util.NumberFormat(s, h)),
                          (a = n.fmatter.util.NumberFormat(a, h))),
                        n(".ui-paging-info", e).html(
                          n.jgrid.format(i.p.recordtext, l, s, a)
                        ))),
                  i.p.pgbuttons === !0 &&
                    (u <= 0 && (u = o = 0),
                    u == 1 || u === 0
                      ? (n("#first, #prev", i.p.pager)
                          .addClass("ui-state-disabled")
                          .removeClass("ui-state-hover"),
                        i.p.toppager &&
                          n("#first_t, #prev_t", i.p.toppager)
                            .addClass("ui-state-disabled")
                            .removeClass("ui-state-hover"))
                      : (n("#first, #prev", i.p.pager).removeClass(
                          "ui-state-disabled"
                        ),
                        i.p.toppager &&
                          n("#first_t, #prev_t", i.p.toppager).removeClass(
                            "ui-state-disabled"
                          )),
                    u == o || u === 0
                      ? (n("#next, #last", i.p.pager)
                          .addClass("ui-state-disabled")
                          .removeClass("ui-state-hover"),
                        i.p.toppager &&
                          n("#next_t, #last_t", i.p.toppager)
                            .addClass("ui-state-disabled")
                            .removeClass("ui-state-hover"))
                      : (n("#next, #last", i.p.pager).removeClass(
                          "ui-state-disabled"
                        ),
                        i.p.toppager &&
                          n("#next_t, #last_t", i.p.toppager).removeClass(
                            "ui-state-disabled"
                          ))));
                t === !0 &&
                  i.p.rownumbers === !0 &&
                  n("td.jqgrid-rownum", i.rows).each(function(t) {
                    n(this).html(f + 1 + t);
                  });
                r && i.p.jqgdnd && n(i).jqGrid("gridDnD", "updateDnD");
                n.isFunction(i.p.gridComplete) && i.p.gridComplete.call(i);
              };
              i.refreshIndex = tt;
              i.formatter = function(n, t, i, r, u) {
                return dt(n, t, i, r, u);
              };
              n.extend(r, { populate: a, emptyRows: nt });
              this.grid = r;
              i.addXmlData = function(n) {
                bt(n, i.grid.bDiv);
              };
              i.addJSONData = function(n) {
                st(n, i.grid.bDiv);
              };
              this.grid.cols = this.rows[0].cells;
              a();
              i.p.hiddengrid = !1;
              n(window).unload(function() {
                i = null;
              });
            }
          }
      });
    };
    n.jgrid.extend({
      getGridParam: function(n) {
        var t = this[0];
        if (t && t.grid)
          return n ? (typeof t.p[n] != "undefined" ? t.p[n] : null) : t.p;
      },
      setGridParam: function(t) {
        return this.each(function() {
          this.grid && typeof t == "object" && n.extend(!0, this.p, t);
        });
      },
      getDataIDs: function() {
        var r = [],
          t = 0,
          i,
          u = 0;
        return (
          this.each(function() {
            if ((i = this.rows.length) && i > 0)
              for (; t < i; )
                n(this.rows[t]).hasClass("jqgrow") &&
                  ((r[u] = this.rows[t].id), u++),
                  t++;
          }),
          r
        );
      },
      setSelection: function(t, i) {
        return this.each(function() {
          function e(t) {
            var f = n(r.grid.bDiv)[0].clientHeight,
              i = n(r.grid.bDiv)[0].scrollTop,
              u = r.rows[t].offsetTop;
            t = r.rows[t].clientHeight;
            u + t >= f + i
              ? (n(r.grid.bDiv)[0].scrollTop = u - (f + i) + t + i)
              : u < f + i && u < i && (n(r.grid.bDiv)[0].scrollTop = u);
          }
          var r = this,
            u,
            f;
          t !== undefined &&
            ((i = i === !1 ? !1 : !0),
            (u = r.rows.namedItem(t + "")) &&
              (r.p.scrollrows === !0 &&
                ((f = r.rows.namedItem(t).rowIndex), f >= 0 && e(f)),
              r.p.multiselect
                ? ((r.p.selrow = u.id),
                  (f = n.inArray(r.p.selrow, r.p.selarrrow)),
                  f === -1
                    ? (u.className !== "ui-subgrid" &&
                        n(u)
                          .addClass("ui-state-highlight")
                          .attr("aria-selected", "true"),
                      (u = !0),
                      n("#jqg_" + r.p.id + "_" + n.jgrid.jqID(r.p.selrow)).prop(
                        "checked",
                        u
                      ),
                      r.p.selarrrow.push(r.p.selrow),
                      r.p.onSelectRow &&
                        i &&
                        r.p.onSelectRow.call(r, r.p.selrow, u))
                    : (u.className !== "ui-subgrid" &&
                        n(u)
                          .removeClass("ui-state-highlight")
                          .attr("aria-selected", "false"),
                      (u = !1),
                      n("#jqg_" + r.p.id + "_" + n.jgrid.jqID(r.p.selrow)).prop(
                        "checked",
                        u
                      ),
                      r.p.selarrrow.splice(f, 1),
                      r.p.onSelectRow &&
                        i &&
                        r.p.onSelectRow.call(r, r.p.selrow, u),
                      (u = r.p.selarrrow[0]),
                      (r.p.selrow = u === undefined ? null : u)))
                : u.className !== "ui-subgrid" &&
                  (r.p.selrow &&
                    n(r.rows.namedItem(r.p.selrow))
                      .removeClass("ui-state-highlight")
                      .attr("aria-selected", "false"),
                  r.p.selrow != u.id
                    ? ((r.p.selrow = u.id),
                      n(u)
                        .addClass("ui-state-highlight")
                        .attr("aria-selected", "true"),
                      r.p.onSelectRow &&
                        i &&
                        r.p.onSelectRow.call(r, r.p.selrow, !0))
                    : (r.p.selrow = null))));
        });
      },
      resetSelection: function() {
        return this.each(function() {
          var t = this,
            i;
          t.p.multiselect
            ? (n(t.p.selarrrow).each(function(r, u) {
                i = t.rows.namedItem(u);
                n(i)
                  .removeClass("ui-state-highlight")
                  .attr("aria-selected", "false");
                n("#jqg_" + t.p.id + "_" + n.jgrid.jqID(u)).prop("checked", !1);
              }),
              n("#cb_" + n.jgrid.jqID(t.p.id)).prop("checked", !1),
              (t.p.selarrrow = []))
            : t.p.selrow &&
              (n("#" + t.p.id + " tbody:first tr#" + n.jgrid.jqID(t.p.selrow))
                .removeClass("ui-state-highlight")
                .attr("aria-selected", "false"),
              (t.p.selrow = null));
          t.p.savedRow = [];
        });
      },
      getRowData: function(t) {
        var i = {},
          r,
          u = !1,
          f,
          e = 0;
        return (
          this.each(function() {
            var s = this,
              o,
              h;
            if (typeof t == "undefined")
              (u = !0), (r = []), (f = s.rows.length);
            else {
              if (((h = s.rows.namedItem(t)), !h)) return i;
              f = 2;
            }
            for (; e < f; )
              u && (h = s.rows[e]),
                n(h).hasClass("jqgrow") &&
                  (n("td", h).each(function(t) {
                    if (
                      ((o = s.p.colModel[t].name),
                      o !== "cb" && o !== "subgrid" && o !== "rn")
                    )
                      if (s.p.treeGrid === !0 && o == s.p.ExpandColumn)
                        i[o] = n.jgrid.htmlDecode(n("span:first", this).html());
                      else
                        try {
                          i[o] = n.unformat(
                            this,
                            { rowId: h.id, colModel: s.p.colModel[t] },
                            t
                          );
                        } catch (r) {
                          i[o] = n.jgrid.htmlDecode(n(this).html());
                        }
                  }),
                  u && (r.push(i), (i = {}))),
                e++;
          }),
          r ? r : i
        );
      },
      delRowData: function(t) {
        var i = !1,
          u,
          r;
        return (
          this.each(function() {
            var f = this,
              e,
              o;
            if ((u = f.rows.namedItem(t)))
              n(u).remove(),
                f.p.records--,
                f.p.reccount--,
                f.updatepager(!0, !1),
                (i = !0),
                f.p.multiselect &&
                  ((r = n.inArray(t, f.p.selarrrow)),
                  r != -1 && f.p.selarrrow.splice(r, 1)),
                t == f.p.selrow && (f.p.selrow = null);
            else return !1;
            f.p.datatype == "local" &&
              ((e = f.p._index[t]),
              typeof e != "undefined" &&
                (f.p.data.splice(e, 1), f.refreshIndex()));
            f.p.altRows === !0 &&
              i &&
              ((o = f.p.altclass),
              n(f.rows).each(function(t) {
                t % 2 == 1 ? n(this).addClass(o) : n(this).removeClass(o);
              }));
          }),
          i
        );
      },
      setRowData: function(t, i, r) {
        var u,
          f = !0,
          e;
        return (
          this.each(function() {
            var c;
            if (!this.grid) return !1;
            var o = this,
              h,
              s,
              a = typeof r,
              l = {};
            if (((s = o.rows.namedItem(t)), !s)) return !1;
            if (i)
              try {
                n(this.p.colModel).each(function(r) {
                  u = this.name;
                  i[u] !== undefined &&
                    ((l[u] =
                      this.formatter &&
                      typeof this.formatter == "string" &&
                      this.formatter == "date"
                        ? n.unformat.date(i[u], this)
                        : i[u]),
                    (h = o.formatter(t, i[u], r, i, "edit")),
                    (e = this.title ? { title: n.jgrid.stripHtml(h) } : {}),
                    o.p.treeGrid === !0 && u == o.p.ExpandColumn
                      ? n("td:eq(" + r + ") > span:first", s)
                          .html(h)
                          .attr(e)
                      : n("td:eq(" + r + ")", s)
                          .html(h)
                          .attr(e));
                });
                o.p.datatype == "local" &&
                  ((c = o.p._index[t]),
                  typeof c != "undefined" &&
                    (o.p.data[c] = n.extend(!0, o.p.data[c], l)),
                  (l = null));
              } catch (v) {
                f = !1;
              }
            f &&
              (a === "string"
                ? n(s).addClass(r)
                : a === "object" && n(s).css(r));
          }),
          f
        );
      },
      addRowData: function(t, i, r, u) {
        r || (r = "last");
        var d = !1,
          h,
          f,
          c,
          k,
          s,
          e,
          l,
          y,
          a = "",
          p,
          w,
          b,
          o,
          v;
        return (
          i &&
            (n.isArray(i)
              ? ((p = !0), (r = "last"), (w = t))
              : ((i = [i]), (p = !1)),
            this.each(function() {
              var g = this,
                rt = i.length;
              s = g.p.rownumbers === !0 ? 1 : 0;
              c = g.p.multiselect === !0 ? 1 : 0;
              k = g.p.subGrid === !0 ? 1 : 0;
              p ||
                (typeof t != "undefined"
                  ? (t += "")
                  : ((t = g.p.records + 1 + ""),
                    g.p.keyIndex !== !1 &&
                      ((w = g.p.colModel[g.p.keyIndex + c + k + s].name),
                      typeof i[0][w] != "undefined" && (t = i[0][w]))));
              b = g.p.altclass;
              for (
                var nt = 0,
                  it = "",
                  tt = {},
                  ut = n.isFunction(g.p.afterInsertRow) ? !0 : !1;
                nt < rt;

              ) {
                if (((o = i[nt]), (f = ""), p)) {
                  try {
                    t = o[w];
                  } catch (ft) {
                    t = g.p.records + 1 + "";
                  }
                  it =
                    g.p.altRows === !0
                      ? (g.rows.length - 1) % 2 == 0
                        ? b
                        : ""
                      : "";
                }
                for (
                  s &&
                    ((a = g.formatCol(0, 1, "")),
                    (f +=
                      '<td role="gridcell" aria-describedby="' +
                      g.p.id +
                      '_rn" class="ui-state-default jqgrid-rownum" ' +
                      a +
                      ">0</td>")),
                    c &&
                      ((y =
                        '<input role="checkbox" type="checkbox" id="jqg_' +
                        g.p.id +
                        "_" +
                        t +
                        '" class="cbox"/>'),
                      (a = g.formatCol(s, 1, "")),
                      (f +=
                        '<td role="gridcell" aria-describedby="' +
                        g.p.id +
                        '_cb" ' +
                        a +
                        ">" +
                        y +
                        "</td>")),
                    k && (f += n(g).jqGrid("addSubGridCell", c + s, 1)),
                    l = c + k + s;
                  l < g.p.colModel.length;
                  l++
                )
                  (v = g.p.colModel[l]),
                    (h = v.name),
                    (tt[h] =
                      v.formatter &&
                      typeof v.formatter == "string" &&
                      v.formatter == "date"
                        ? n.unformat.date(o[h], v)
                        : o[h]),
                    (y = g.formatter(
                      t,
                      n.jgrid.getAccessor(o, h),
                      l,
                      o,
                      "edit"
                    )),
                    (a = g.formatCol(l, 1, y)),
                    (f +=
                      '<td role="gridcell" aria-describedby="' +
                      g.p.id +
                      "_" +
                      h +
                      '" ' +
                      a +
                      ">" +
                      y +
                      "</td>");
                if (
                  ((f =
                    '<tr id="' +
                    t +
                    '" role="row" class="ui-widget-content jqgrow ui-row-' +
                    g.p.direction +
                    " " +
                    it +
                    '">' +
                    f +
                    "</tr>"),
                  g.p.subGrid === !0 &&
                    ((f = n(f)[0]), n(g).jqGrid("addSubGrid", f, c + s)),
                  g.rows.length === 0)
                )
                  n("table:first", g.grid.bDiv).append(f);
                else
                  switch (r) {
                    case "last":
                      n(g.rows[g.rows.length - 1]).after(f);
                      break;
                    case "first":
                      n(g.rows[0]).after(f);
                      break;
                    case "after":
                      (e = g.rows.namedItem(u)) &&
                        (n(g.rows[e.rowIndex + 1]).hasClass("ui-subgrid")
                          ? n(g.rows[e.rowIndex + 1]).after(f)
                          : n(e).after(f));
                      break;
                    case "before":
                      (e = g.rows.namedItem(u)) &&
                        (n(e).before(f), (e = e.rowIndex));
                  }
                g.p.records++;
                g.p.reccount++;
                ut && g.p.afterInsertRow.call(g, t, o, o);
                nt++;
                g.p.datatype == "local" &&
                  ((g.p._index[t] = g.p.data.length),
                  g.p.data.push(tt),
                  (tt = {}));
              }
              g.p.altRows !== !0 ||
                p ||
                (r == "last"
                  ? (g.rows.length - 1) % 2 == 1 &&
                    n(g.rows[g.rows.length - 1]).addClass(b)
                  : n(g.rows).each(function(t) {
                      t % 2 == 1 ? n(this).addClass(b) : n(this).removeClass(b);
                    }));
              g.updatepager(!0, !0);
              d = !0;
            })),
          d
        );
      },
      footerData: function(t, i, r) {
        function s(n) {
          for (var t in n) if (n.hasOwnProperty(t)) return !1;
          return !0;
        }
        var u,
          f = !1,
          e = {},
          o;
        return (
          typeof t == "undefined" && (t = "get"),
          typeof r != "boolean" && (r = !0),
          (t = t.toLowerCase()),
          this.each(function() {
            var h = this,
              c;
            if (!h.grid || !h.p.footerrow || (t == "set" && s(i))) return !1;
            f = !0;
            n(this.p.colModel).each(function(s) {
              u = this.name;
              t == "set"
                ? i[u] !== undefined &&
                  ((c = r ? h.formatter("", i[u], s, i, "edit") : i[u]),
                  (o = this.title ? { title: n.jgrid.stripHtml(c) } : {}),
                  n("tr.footrow td:eq(" + s + ")", h.grid.sDiv)
                    .html(c)
                    .attr(o),
                  (f = !0))
                : t == "get" &&
                  (e[u] = n("tr.footrow td:eq(" + s + ")", h.grid.sDiv).html());
            });
          }),
          t == "get" ? e : f
        );
      },
      ShowHideCol: function(t, i) {
        return this.each(function() {
          var r = this,
            f = !1,
            u;
          r.grid &&
            (typeof t == "string" && (t = [t]),
            (i = i != "none" ? "" : "none"),
            (u = i === "" ? !0 : !1),
            n(this.p.colModel).each(function(e) {
              n.inArray(this.name, t) !== -1 &&
                this.hidden === u &&
                (n("tr", r.grid.hDiv).each(function() {
                  n("th:eq(" + e + ")", this).css("display", i);
                }),
                n(r.rows).each(function(t) {
                  n("td:eq(" + e + ")", r.rows[t]).css("display", i);
                }),
                r.p.footerrow &&
                  n("td:eq(" + e + ")", r.grid.sDiv).css("display", i),
                i == "none"
                  ? (r.p.tblwidth -= this.width + r.p.cellLayout)
                  : (r.p.tblwidth += this.width),
                (this.hidden = !u),
                (f = !0));
            }),
            f === !0 &&
              (n("table:first", r.grid.hDiv).width(r.p.tblwidth),
              n("table:first", r.grid.bDiv).width(r.p.tblwidth),
              (r.grid.hDiv.scrollLeft = r.grid.bDiv.scrollLeft),
              r.p.footerrow &&
                (n("table:first", r.grid.sDiv).width(r.p.tblwidth),
                (r.grid.sDiv.scrollLeft = r.grid.bDiv.scrollLeft)),
              r.p.shrinkToFit === !0 &&
                n(r).jqGrid("setGridWidth", r.grid.width - 0.001, !0)));
        });
      },
      hideCol: function(t) {
        return this.each(function() {
          n(this).jqGrid("ShowHideCol", t, "none");
        });
      },
      showCol: function(t) {
        return this.each(function() {
          n(this).jqGrid("ShowHideCol", t, "");
        });
      },
      remapColumns: function(t, i, r) {
        function f(i) {
          var r;
          r = i.length ? n.makeArray(i) : n.extend({}, i);
          n.each(t, function(n) {
            i[n] = r[this];
          });
        }
        function e(i, r) {
          n(">tr" + (r || ""), i).each(function() {
            var i = this,
              r = n.makeArray(i.cells);
            n.each(t, function() {
              var n = r[this];
              n && i.appendChild(n);
            });
          });
        }
        var u = this.get(0);
        f(u.p.colModel);
        f(u.p.colNames);
        f(u.grid.headers);
        e(n("thead:first", u.grid.hDiv), r && ":not(.ui-jqgrid-labels)");
        i &&
          e(
            n("#" + u.p.id + " tbody:first"),
            ".jqgfirstrow, tr.jqgrow, tr.jqfoot"
          );
        u.p.footerrow && e(n("tbody:first", u.grid.sDiv));
        u.p.remapColumns &&
          (u.p.remapColumns.length
            ? f(u.p.remapColumns)
            : (u.p.remapColumns = n.makeArray(t)));
        u.p.lastsort = n.inArray(u.p.lastsort, t);
        u.p.treeGrid && (u.p.expColInd = n.inArray(u.p.expColInd, t));
      },
      setGridWidth: function(t, i) {
        return this.each(function() {
          var p;
          if (this.grid) {
            var r = this,
              u,
              f = 0,
              e = r.p.cellLayout,
              o,
              s = 0,
              l = !1,
              a = r.p.scrollOffset,
              v,
              h = 0,
              y = 0,
              w = 0,
              c;
            typeof i != "boolean" && (i = r.p.shrinkToFit);
            isNaN(t) ||
              ((t = parseInt(t, 10)),
              (r.grid.width = r.p.width = t),
              n("#gbox_" + r.p.id).css("width", t + "px"),
              n("#gview_" + r.p.id).css("width", t + "px"),
              n(r.grid.bDiv).css("width", t + "px"),
              n(r.grid.hDiv).css("width", t + "px"),
              r.p.pager && n(r.p.pager).css("width", t + "px"),
              r.p.toppager && n(r.p.toppager).css("width", t + "px"),
              r.p.toolbar[0] === !0 &&
                (n(r.grid.uDiv).css("width", t + "px"),
                r.p.toolbar[1] == "both" &&
                  n(r.grid.ubDiv).css("width", t + "px")),
              r.p.footerrow && n(r.grid.sDiv).css("width", t + "px"),
              i === !1 && r.p.forceFit === !0 && (r.p.forceFit = !1),
              i === !0 &&
                (n.browser.safari && (e = 0),
                n.each(r.p.colModel, function() {
                  this.hidden === !1 &&
                    ((f += parseInt(this.width, 10)),
                    this.fixed
                      ? ((y += this.width), (h += this.width + e))
                      : s++,
                    w++);
                }),
                s !== 0 &&
                  ((r.p.tblwidth = f),
                  (v = t - e * s - h),
                  isNaN(r.p.height) ||
                    ((n(r.grid.bDiv)[0].clientHeight <
                      n(r.grid.bDiv)[0].scrollHeight ||
                      r.rows.length === 1) &&
                      ((l = !0), (v -= a))),
                  (f = 0),
                  (p = r.grid.cols.length > 0),
                  n.each(r.p.colModel, function(n) {
                    this.hidden !== !1 ||
                      this.fixed ||
                      ((u = Math.round((v * this.width) / (r.p.tblwidth - y))),
                      u < 0 ||
                        ((this.width = u),
                        (f += u),
                        (r.grid.headers[n].width = u),
                        (r.grid.headers[n].el.style.width = u + "px"),
                        r.p.footerrow &&
                          (r.grid.footers[n].style.width = u + "px"),
                        p && (r.grid.cols[n].style.width = u + "px"),
                        (o = n)));
                  }),
                  (c = 0),
                  l
                    ? t - h - (f + e * s) !== a && (c = t - h - (f + e * s) - a)
                    : Math.abs(t - h - (f + e * s)) !== 1 &&
                      (c = t - h - (f + e * s)),
                  (r.p.colModel[o].width += c),
                  (r.p.tblwidth = f + c + y + e * w),
                  r.p.tblwidth > t
                    ? ((l = r.p.tblwidth - parseInt(t, 10)),
                      (r.p.tblwidth = t),
                      (u = r.p.colModel[o].width -= l))
                    : (u = r.p.colModel[o].width),
                  (r.grid.headers[o].width = u),
                  (r.grid.headers[o].el.style.width = u + "px"),
                  p && (r.grid.cols[o].style.width = u + "px"),
                  n("table:first", r.grid.bDiv).css(
                    "width",
                    r.p.tblwidth + "px"
                  ),
                  n("table:first", r.grid.hDiv).css(
                    "width",
                    r.p.tblwidth + "px"
                  ),
                  (r.grid.hDiv.scrollLeft = r.grid.bDiv.scrollLeft),
                  r.p.footerrow &&
                    ((r.grid.footers[o].style.width = u + "px"),
                    n("table:first", r.grid.sDiv).css(
                      "width",
                      r.p.tblwidth + "px"
                    )))));
          }
        });
      },
      setGridHeight: function(t) {
        return this.each(function() {
          var i = this;
          i.grid &&
            (n(i.grid.bDiv).css({ height: t + (isNaN(t) ? "" : "px") }),
            (i.p.height = t),
            i.p.scroll && i.grid.populateVisible());
        });
      },
      setCaption: function(t) {
        return this.each(function() {
          this.p.caption = t;
          n("span.ui-jqgrid-title", this.grid.cDiv).html(t);
          n(this.grid.cDiv).show();
        });
      },
      setLabel: function(t, i, r, u) {
        return this.each(function() {
          var o = this,
            e = -1,
            f,
            s;
          o.grid &&
            (isNaN(t)
              ? n(o.p.colModel).each(function(n) {
                  if (this.name == t) return (e = n), !1;
                })
              : (e = parseInt(t, 10)),
            e >= 0 &&
              ((f = n("tr.ui-jqgrid-labels th:eq(" + e + ")", o.grid.hDiv)),
              i &&
                ((s = n(".s-ico", f)),
                n("[id^=jqgh_]", f)
                  .empty()
                  .html(i)
                  .append(s),
                (o.p.colNames[e] = i)),
              r && (typeof r == "string" ? n(f).addClass(r) : n(f).css(r)),
              typeof u == "object" && n(f).attr(u)));
        });
      },
      setCell: function(t, i, r, u, f, e) {
        return this.each(function() {
          var s = this,
            h = -1,
            o,
            l,
            c;
          s.grid &&
            (isNaN(i)
              ? n(s.p.colModel).each(function(n) {
                  if (this.name == i) return (h = n), !1;
                })
              : (h = parseInt(i, 10)),
            h >= 0 &&
              (o = s.rows.namedItem(t)) &&
              ((c = n("td:eq(" + h + ")", o)),
              (r !== "" || e === !0) &&
                ((o = s.formatter(t, r, h, o, "edit")),
                (l = s.p.colModel[h].title
                  ? { title: n.jgrid.stripHtml(o) }
                  : {}),
                s.p.treeGrid && n(".tree-wrap", n(c)).length > 0
                  ? n("span", n(c))
                      .html(o)
                      .attr(l)
                  : n(c)
                      .html(o)
                      .attr(l),
                s.p.datatype == "local" &&
                  ((o = s.p.colModel[h]),
                  (r =
                    o.formatter &&
                    typeof o.formatter == "string" &&
                    o.formatter == "date"
                      ? n.unformat.date(r, o)
                      : r),
                  (l = s.p._index[t]),
                  typeof l != "undefined" && (s.p.data[l][o.name] = r))),
              typeof u == "string" ? n(c).addClass(u) : u && n(c).css(u),
              typeof f == "object" && n(c).attr(f)));
        });
      },
      getCell: function(t, i) {
        var r = !1;
        return (
          this.each(function() {
            var e = this,
              u = -1,
              f;
            if (
              e.grid &&
              (isNaN(i)
                ? n(e.p.colModel).each(function(n) {
                    if (this.name === i) return (u = n), !1;
                  })
                : (u = parseInt(i, 10)),
              u >= 0 && ((f = e.rows.namedItem(t)), f))
            )
              try {
                r = n.unformat(
                  n("td:eq(" + u + ")", f),
                  { rowId: f.id, colModel: e.p.colModel[u] },
                  u
                );
              } catch (o) {
                r = n.jgrid.htmlDecode(n("td:eq(" + u + ")", f).html());
              }
          }),
          r
        );
      },
      getCol: function(t, i, r) {
        var u = [],
          f,
          e = 0;
        return (
          (i = typeof i != "boolean" ? !1 : i),
          typeof r == "undefined" && (r = !1),
          this.each(function() {
            var o = this,
              h = -1,
              c,
              s;
            if (
              o.grid &&
              (isNaN(t)
                ? n(o.p.colModel).each(function(n) {
                    if (this.name === t) return (h = n), !1;
                  })
                : (h = parseInt(t, 10)),
              h >= 0 && ((c = o.rows.length), (s = 0), c && c > 0))
            ) {
              for (; s < c; ) {
                if (n(o.rows[s]).hasClass("jqgrow")) {
                  try {
                    f = n.unformat(
                      n(o.rows[s].cells[h]),
                      { rowId: o.rows[s].id, colModel: o.p.colModel[h] },
                      h
                    );
                  } catch (l) {
                    f = n.jgrid.htmlDecode(o.rows[s].cells[h].innerHTML);
                  }
                  r
                    ? (e += parseFloat(f))
                    : i
                    ? u.push({ id: o.rows[s].id, value: f })
                    : (u[s] = f);
                }
                s++;
              }
              if (r)
                switch (r.toLowerCase()) {
                  case "sum":
                    u = e;
                    break;
                  case "avg":
                    u = e / c;
                    break;
                  case "count":
                    u = c;
                }
            }
          }),
          u
        );
      },
      clearGridData: function(t) {
        return this.each(function() {
          var i = this,
            r;
          i.grid &&
            (typeof t != "boolean" && (t = !1),
            i.p.deepempty
              ? n("#" + i.p.id + " tbody:first tr:gt(0)").remove()
              : ((r = n("#" + i.p.id + " tbody:first tr:first")[0]),
                n("#" + i.p.id + " tbody:first")
                  .empty()
                  .append(r)),
            i.p.footerrow &&
              t &&
              n(".ui-jqgrid-ftable td", i.grid.sDiv).html("&#160;"),
            (i.p.selrow = null),
            (i.p.selarrrow = []),
            (i.p.savedRow = []),
            (i.p.records = 0),
            (i.p.page = 1),
            (i.p.lastpage = 0),
            (i.p.reccount = 0),
            (i.p.data = []),
            (i.p_index = {}),
            i.updatepager(!0, !1));
        });
      },
      getInd: function(n, t) {
        var r = !1,
          i;
        return (
          this.each(function() {
            (i = this.rows.namedItem(n)) && (r = t === !0 ? i : i.rowIndex);
          }),
          r
        );
      }
    });
  })(jQuery),
  (function(n) {
    n.fmatter = {};
    n.extend(n.fmatter, {
      isBoolean: function(n) {
        return typeof n == "boolean";
      },
      isObject: function(t) {
        return (t && (typeof t == "object" || n.isFunction(t))) || !1;
      },
      isString: function(n) {
        return typeof n == "string";
      },
      isNumber: function(n) {
        return typeof n == "number" && isFinite(n);
      },
      isNull: function(n) {
        return n === null;
      },
      isUndefined: function(n) {
        return typeof n == "undefined";
      },
      isValue: function(n) {
        return (
          this.isObject(n) ||
          this.isString(n) ||
          this.isNumber(n) ||
          this.isBoolean(n)
        );
      },
      isEmpty: function(t) {
        return !this.isString(t) && this.isValue(t)
          ? !1
          : this.isValue(t)
          ? ((t = n
              .trim(t)
              .replace(/\&nbsp\;/gi, "")
              .replace(/\&#160\;/gi, "")),
            t === "")
          : !0;
      }
    });
    n.fn.fmatter = function(t, i, r, u, f) {
      var e = i;
      return (
        (r = n.extend({}, n.jgrid.formatter, r)),
        n.fn.fmatter[t] && (e = n.fn.fmatter[t](i, r, u, f)),
        e
      );
    };
    n.fmatter.util = {
      NumberFormat: function(t, i) {
        var f, o, e;
        if ((n.fmatter.isNumber(t) || (t *= 1), n.fmatter.isNumber(t))) {
          var s = t < 0,
            r = t + "",
            u = i.decimalSeparator ? i.decimalSeparator : ".";
          if (
            n.fmatter.isNumber(i.decimalPlaces) &&
            ((f = i.decimalPlaces),
            (r = Math.pow(10, f)),
            (r = Math.round(t * r) / r + ""),
            (t = r.lastIndexOf(".")),
            f > 0)
          )
            for (
              t < 0
                ? ((r += u), (t = r.length - 1))
                : u !== "." && (r = r.replace(".", u));
              r.length - 1 - t < f;

            )
              r += "0";
          if (i.thousandsSeparator) {
            for (
              f = i.thousandsSeparator,
                t = r.lastIndexOf(u),
                t = t > -1 ? t : r.length,
                u = r.substring(t),
                o = -1,
                e = t;
              e > 0;
              e--
            )
              o++,
                o % 3 == 0 && e !== t && (!s || e > 1) && (u = f + u),
                (u = r.charAt(e - 1) + u);
            r = u;
          }
          return (r = i.prefix ? i.prefix + r : r), i.suffix ? r + i.suffix : r;
        }
        return t;
      },
      DateFormat: function(t, i, r, u) {
        var o = i.match(
            /^\/Date((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?)\/$/
          ),
          s = function(n, t) {
            for (n = String(n), t = parseInt(t, 10) || 2; n.length < t; )
              n = "0" + n;
            return n;
          },
          f = { m: 1, d: 1, y: 1970, h: 0, i: 0, s: 0, u: 0 },
          e = 0,
          c,
          h = ["i18n"];
        if (
          ((h.i18n = { dayNames: u.dayNames, monthNames: u.monthNames }),
          t in u.masks && (t = u.masks[t]),
          i.constructor === Number)
        )
          e = new Date(i);
        else if (i.constructor === Date) e = i;
        else if (o !== null)
          (e = new Date(parseInt(o[1], 10))),
            o[3] &&
              ((f = Number(o[5]) * 60 + Number(o[6])),
              (f *= o[4] == "-" ? 1 : -1),
              (f -= e.getTimezoneOffset()),
              e.setTime(Number(Number(e) + f * 6e4)));
        else {
          for (
            i = i.split(/[\\\/:_;.,\t\T\s-]/),
              t = t.split(/[\\\/:_;.,\t\T\s-]/),
              o = 0,
              c = t.length;
            o < c;
            o++
          )
            t[o] == "M" &&
              ((e = n.inArray(i[o], h.i18n.monthNames)),
              e !== -1 && e < 12 && (i[o] = e + 1)),
              t[o] == "F" &&
                ((e = n.inArray(i[o], h.i18n.monthNames)),
                e !== -1 && e > 11 && (i[o] = e + 1 - 12)),
              i[o] && (f[t[o].toLowerCase()] = parseInt(i[o], 10));
          if ((f.f && (f.m = f.f), f.m === 0 && f.y === 0 && f.d === 0))
            return "&#160;";
          f.m = parseInt(f.m, 10) - 1;
          e = f.y;
          e >= 70 && e <= 99
            ? (f.y = 1900 + f.y)
            : e >= 0 && e <= 69 && (f.y = 2e3 + f.y);
          e = new Date(f.y, f.m, f.d, f.h, f.i, f.s, f.u);
        }
        r in u.masks ? (r = u.masks[r]) : r || (r = "Y-m-d");
        f = e.getHours();
        t = e.getMinutes();
        i = e.getDate();
        o = e.getMonth() + 1;
        c = e.getTimezoneOffset();
        var w = e.getSeconds(),
          b = e.getMilliseconds(),
          a = e.getDay(),
          l = e.getFullYear(),
          v = ((a + 6) % 7) + 1,
          y = (new Date(l, o - 1, i) - new Date(l, 0, 1)) / 864e5,
          p = {
            d: s(i),
            D: h.i18n.dayNames[a],
            j: i,
            l: h.i18n.dayNames[a + 7],
            N: v,
            S: u.S(i),
            w: a,
            z: y,
            W:
              v < 5
                ? Math.floor((y + v - 1) / 7) + 1
                : Math.floor((y + v - 1) / 7) ||
                  ((new Date(l - 1, 0, 1).getDay() + 6) % 7 < 4 ? 53 : 52),
            F: h.i18n.monthNames[o - -11],
            m: s(o),
            M: h.i18n.monthNames[o - 1],
            n: o,
            t: "?",
            L: "?",
            o: "?",
            Y: l,
            y: String(l).substring(2),
            a: f < 12 ? u.AmPm[0] : u.AmPm[1],
            A: f < 12 ? u.AmPm[2] : u.AmPm[3],
            B: "?",
            g: f % 12 || 12,
            G: f,
            h: s(f % 12 || 12),
            H: s(f),
            i: s(t),
            s: s(w),
            u: b,
            e: "?",
            I: "?",
            O:
              (c > 0 ? "-" : "+") +
              s(Math.floor(Math.abs(c) / 60) * 100 + (Math.abs(c) % 60), 4),
            P: "?",
            T: (
              String(e).match(
                /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g
              ) || [""]
            )
              .pop()
              .replace(/[^-+\dA-Z]/g, ""),
            Z: "?",
            c: "?",
            r: "?",
            U: Math.floor(e / 1e3)
          };
        return r.replace(
          /\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,
          function(n) {
            return n in p ? p[n] : n.substring(1);
          }
        );
      }
    };
    n.fn.fmatter.defaultFormat = function(t, i) {
      return n.fmatter.isValue(t) && t !== ""
        ? t
        : i.defaultValue
        ? i.defaultValue
        : "&#160;";
    };
    n.fn.fmatter.email = function(t, i) {
      return n.fmatter.isEmpty(t)
        ? n.fn.fmatter.defaultFormat(t, i)
        : '<a href="mailto:' + t + '">' + t + "</a>";
    };
    n.fn.fmatter.checkbox = function(t, i) {
      var r = n.extend({}, i.checkbox);
      return (
        n.fmatter.isUndefined(i.colModel.formatoptions) ||
          (r = n.extend({}, r, i.colModel.formatoptions)),
        (i = r.disabled === !0 ? 'disabled="disabled"' : ""),
        (n.fmatter.isEmpty(t) || n.fmatter.isUndefined(t)) &&
          (t = n.fn.fmatter.defaultFormat(t, r)),
        (t += ""),
        (t = t.toLowerCase()),
        '<input type="checkbox" ' +
          (t.search(/(false|0|no|off)/i) < 0 ? " checked='checked' " : "") +
          ' value="' +
          t +
          '" offval="no" ' +
          i +
          "/>"
      );
    };
    n.fn.fmatter.link = function(t, i) {
      var r = { target: i.target },
        u = "";
      return (
        n.fmatter.isUndefined(i.colModel.formatoptions) ||
          (r = n.extend({}, r, i.colModel.formatoptions)),
        r.target && (u = "target=" + r.target),
        n.fmatter.isEmpty(t)
          ? n.fn.fmatter.defaultFormat(t, i)
          : "<a " + u + ' href="' + t + '">' + t + "</a>"
      );
    };
    n.fn.fmatter.showlink = function(t, i) {
      var r = {
          baseLinkUrl: i.baseLinkUrl,
          showAction: i.showAction,
          addParam: i.addParam || "",
          target: i.target,
          idName: i.idName
        },
        u = "";
      return (
        n.fmatter.isUndefined(i.colModel.formatoptions) ||
          (r = n.extend({}, r, i.colModel.formatoptions)),
        r.target && (u = "target=" + r.target),
        (r =
          r.baseLinkUrl +
          r.showAction +
          "?" +
          r.idName +
          "=" +
          i.rowId +
          r.addParam),
        n.fmatter.isString(t) || n.fmatter.isNumber(t)
          ? "<a " + u + ' href="' + r + '">' + t + "</a>"
          : n.fn.fmatter.defaultFormat(t, i)
      );
    };
    n.fn.fmatter.integer = function(t, i) {
      var r = n.extend({}, i.integer);
      return (n.fmatter.isUndefined(i.colModel.formatoptions) ||
        (r = n.extend({}, r, i.colModel.formatoptions)),
      n.fmatter.isEmpty(t))
        ? r.defaultValue
        : n.fmatter.util.NumberFormat(t, r);
    };
    n.fn.fmatter.number = function(t, i) {
      var r = n.extend({}, i.number);
      return (n.fmatter.isUndefined(i.colModel.formatoptions) ||
        (r = n.extend({}, r, i.colModel.formatoptions)),
      n.fmatter.isEmpty(t))
        ? r.defaultValue
        : n.fmatter.util.NumberFormat(t, r);
    };
    n.fn.fmatter.currency = function(t, i) {
      var r = n.extend({}, i.currency);
      return (n.fmatter.isUndefined(i.colModel.formatoptions) ||
        (r = n.extend({}, r, i.colModel.formatoptions)),
      n.fmatter.isEmpty(t))
        ? r.defaultValue
        : n.fmatter.util.NumberFormat(t, r);
    };
    n.fn.fmatter.date = function(t, i, r, u) {
      return (
        (r = n.extend({}, i.date)),
        n.fmatter.isUndefined(i.colModel.formatoptions) ||
          (r = n.extend({}, r, i.colModel.formatoptions)),
        !r.reformatAfterEdit && u == "edit"
          ? n.fn.fmatter.defaultFormat(t, i)
          : n.fmatter.isEmpty(t)
          ? n.fn.fmatter.defaultFormat(t, i)
          : n.fmatter.util.DateFormat(r.srcformat, t, r.newformat, r)
      );
    };
    n.fn.fmatter.select = function(t, i) {
      var r, f, o, e, u;
      if (
        ((t += ""),
        (r = !1),
        (f = []),
        n.fmatter.isUndefined(i.colModel.formatoptions)
          ? n.fmatter.isUndefined(i.colModel.editoptions) ||
            (r = i.colModel.editoptions.value)
          : (r = i.colModel.formatoptions.value),
        r)
      )
        if (
          ((o = i.colModel.editoptions.multiple === !0 ? !0 : !1),
          (e = []),
          o &&
            ((e = t.split(",")),
            (e = n.map(e, function(t) {
              return n.trim(t);
            }))),
          n.fmatter.isString(r))
        ) {
          for (var h = r.split(";"), c = 0, s = 0; s < h.length; s++)
            if (
              ((u = h[s].split(":")),
              u.length > 2 &&
                (u[1] = jQuery
                  .map(u, function(n, t) {
                    if (t > 0) return n;
                  })
                  .join(":")),
              o)
            )
              jQuery.inArray(u[0], e) > -1 && ((f[c] = u[1]), c++);
            else if (n.trim(u[0]) == n.trim(t)) {
              f[0] = u[1];
              break;
            }
        } else
          n.fmatter.isObject(r) &&
            (o
              ? (f = jQuery.map(e, function(n) {
                  return r[n];
                }))
              : (f[0] = r[t] || ""));
      return (
        (t = f.join(", ")), t === "" ? n.fn.fmatter.defaultFormat(t, i) : t
      );
    };
    n.fn.fmatter.rowactions = function(t, i, r, u) {
      var f = {
          keys: !1,
          editbutton: !0,
          delbutton: !0,
          onEdit: null,
          onSuccess: null,
          afterSave: null,
          onError: null,
          afterRestore: null,
          extraparam: { oper: "edit" },
          url: null,
          delOptions: {}
        },
        e;
      u = n("#" + i)[0].p.colModel[u];
      n.fmatter.isUndefined(u.formatoptions) ||
        (f = n.extend(f, u.formatoptions));
      u = function(r) {
        f.afterSave && f.afterSave(r);
        n(
          "tr#" + t + " div.ui-inline-edit, tr#" + t + " div.ui-inline-del",
          "#" + i
        ).show();
        n(
          "tr#" + t + " div.ui-inline-save, tr#" + t + " div.ui-inline-cancel",
          "#" + i
        ).hide();
      };
      e = function(r) {
        f.afterRestore && f.afterRestore(r);
        n(
          "tr#" + t + " div.ui-inline-edit, tr#" + t + " div.ui-inline-del",
          "#" + i
        ).show();
        n(
          "tr#" + t + " div.ui-inline-save, tr#" + t + " div.ui-inline-cancel",
          "#" + i
        ).hide();
      };
      switch (r) {
        case "edit":
          n("#" + i).jqGrid(
            "editRow",
            t,
            f.keys,
            f.onEdit,
            f.onSuccess,
            f.url,
            f.extraparam,
            u,
            f.onError,
            e
          );
          n(
            "tr#" + t + " div.ui-inline-edit, tr#" + t + " div.ui-inline-del",
            "#" + i
          ).hide();
          n(
            "tr#" +
              t +
              " div.ui-inline-save, tr#" +
              t +
              " div.ui-inline-cancel",
            "#" + i
          ).show();
          break;
        case "save":
          n("#" + i).jqGrid(
            "saveRow",
            t,
            f.onSuccess,
            f.url,
            f.extraparam,
            u,
            f.onError,
            e
          );
          n(
            "tr#" + t + " div.ui-inline-edit, tr#" + t + " div.ui-inline-del",
            "#" + i
          ).show();
          n(
            "tr#" +
              t +
              " div.ui-inline-save, tr#" +
              t +
              " div.ui-inline-cancel",
            "#" + i
          ).hide();
          break;
        case "cancel":
          n("#" + i).jqGrid("restoreRow", t, e);
          n(
            "tr#" + t + " div.ui-inline-edit, tr#" + t + " div.ui-inline-del",
            "#" + i
          ).show();
          n(
            "tr#" +
              t +
              " div.ui-inline-save, tr#" +
              t +
              " div.ui-inline-cancel",
            "#" + i
          ).hide();
          break;
        case "del":
          n("#" + i).jqGrid("delGridRow", t, f.delOptions);
      }
    };
    n.fn.fmatter.actions = function(t, i) {
      t = { keys: !1, editbutton: !0, delbutton: !0 };
      n.fmatter.isUndefined(i.colModel.formatoptions) ||
        (t = n.extend(t, i.colModel.formatoptions));
      var f = i.rowId,
        u = "",
        r;
      return typeof f == "undefined" || n.fmatter.isEmpty(f)
        ? ""
        : (t.editbutton &&
            ((r =
              "onclick=$.fn.fmatter.rowactions('" +
              f +
              "','" +
              i.gid +
              "','edit'," +
              i.pos +
              ");"),
            (u =
              u +
              "<div style='margin-left:8px;'><div title='" +
              n.jgrid.nav.edittitle +
              "' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' " +
              r +
              "><span class='ui-icon ui-icon-pencil'></span></div>")),
          t.delbutton &&
            ((r =
              "onclick=$.fn.fmatter.rowactions('" +
              f +
              "','" +
              i.gid +
              "','del'," +
              i.pos +
              ");"),
            (u =
              u +
              "<div title='" +
              n.jgrid.nav.deltitle +
              "' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' " +
              r +
              "><span class='ui-icon ui-icon-trash'></span></div>")),
          (r =
            "onclick=$.fn.fmatter.rowactions('" +
            f +
            "','" +
            i.gid +
            "','save'," +
            i.pos +
            ");"),
          (u =
            u +
            "<div title='" +
            n.jgrid.edit.bSubmit +
            "' style='float:left;display:none' class='ui-pg-div ui-inline-save'><span class='ui-icon ui-icon-disk' " +
            r +
            "></span></div>"),
          (r =
            "onclick=$.fn.fmatter.rowactions('" +
            f +
            "','" +
            i.gid +
            "','cancel'," +
            i.pos +
            ");"),
          u +
            "<div title='" +
            n.jgrid.edit.bCancel +
            "' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel'><span class='ui-icon ui-icon-cancel' " +
            r +
            "></span></div></div>");
    };
    n.unformat = function(t, i, r, u) {
      var e,
        o = i.colModel.formatter,
        f = i.colModel.formatoptions || {},
        s = /([\.\*\_\'\(\)\{\}\+\?\\])/g,
        h =
          i.colModel.unformat || (n.fn.fmatter[o] && n.fn.fmatter[o].unformat);
      if (typeof h != "undefined" && n.isFunction(h)) e = h(n(t).text(), i, t);
      else if (!n.fmatter.isUndefined(o) && n.fmatter.isString(o)) {
        e = n.jgrid.formatter || {};
        switch (o) {
          case "integer":
            f = n.extend({}, e.integer, f);
            i = f.thousandsSeparator.replace(s, "\\$1");
            i = new RegExp(i, "g");
            e = n(t)
              .text()
              .replace(i, "");
            break;
          case "number":
            f = n.extend({}, e.number, f);
            i = f.thousandsSeparator.replace(s, "\\$1");
            i = new RegExp(i, "g");
            e = n(t)
              .text()
              .replace(i, "")
              .replace(f.decimalSeparator, ".");
            break;
          case "currency":
            f = n.extend({}, e.currency, f);
            i = f.thousandsSeparator.replace(s, "\\$1");
            i = new RegExp(i, "g");
            e = n(t)
              .text()
              .replace(i, "")
              .replace(f.decimalSeparator, ".")
              .replace(f.prefix, "")
              .replace(f.suffix, "");
            break;
          case "checkbox":
            f = i.colModel.editoptions
              ? i.colModel.editoptions.value.split(":")
              : ["Yes", "No"];
            e = n("input", t).prop("checked") ? f[0] : f[1];
            break;
          case "select":
            e = n.unformat.select(t, i, r, u);
            break;
          case "actions":
            return "";
          default:
            e = n(t).text();
        }
      }
      return e ? e : u === !0 ? n(t).text() : n.jgrid.htmlDecode(n(t).html());
    };
    n.unformat.select = function(t, i, r, u) {
      var e, f;
      if (((r = []), (t = n(t).text()), u === !0)) return t;
      if (((i = n.extend({}, i.colModel.editoptions)), i.value)) {
        if (
          ((e = i.value),
          (i = i.multiple === !0 ? !0 : !1),
          (u = []),
          i &&
            ((u = t.split(",")),
            (u = n.map(u, function(t) {
              return n.trim(t);
            }))),
          n.fmatter.isString(e))
        ) {
          for (var s = e.split(";"), h = 0, o = 0; o < s.length; o++)
            if (
              ((f = s[o].split(":")),
              f.length > 2 &&
                (f[1] = jQuery
                  .map(f, function(n, t) {
                    if (t > 0) return n;
                  })
                  .join(":")),
              i)
            )
              jQuery.inArray(f[1], u) > -1 && ((r[h] = f[0]), h++);
            else if (n.trim(f[1]) == n.trim(t)) {
              r[0] = f[0];
              break;
            }
        } else
          (n.fmatter.isObject(e) || n.isArray(e)) &&
            (i || (u[0] = t),
            (r = jQuery.map(u, function(t) {
              var i;
              return (
                n.each(e, function(n, r) {
                  if (r == t) return (i = n), !1;
                }),
                typeof i != "undefined" ? i : void 0
              );
            })));
        return r.join(", ");
      }
      return t || "";
    };
    n.unformat.date = function(t, i) {
      var r = n.jgrid.formatter.date || {};
      return (
        n.fmatter.isUndefined(i.formatoptions) ||
          (r = n.extend({}, r, i.formatoptions)),
        n.fmatter.isEmpty(t)
          ? n.fn.fmatter.defaultFormat(t, i)
          : n.fmatter.util.DateFormat(r.newformat, t, r.srcformat, r)
      );
    };
  })(jQuery),
  (function(n) {
    n.jgrid.extend({
      getColProp: function(n) {
        var r = {},
          t = this[0],
          i;
        if (!t.grid) return !1;
        for (t = t.p.colModel, i = 0; i < t.length; i++)
          if (t[i].name == n) {
            r = t[i];
            break;
          }
        return r;
      },
      setColProp: function(t, i) {
        return this.each(function() {
          if (this.grid && i)
            for (var u = this.p.colModel, r = 0; r < u.length; r++)
              if (u[r].name == t) {
                n.extend(this.p.colModel[r], i);
                break;
              }
        });
      },
      sortGrid: function(n, t, i) {
        return this.each(function() {
          var u = this,
            f = -1,
            r;
          if (u.grid) {
            for (n || (n = u.p.sortname), r = 0; r < u.p.colModel.length; r++)
              if (u.p.colModel[r].index == n || u.p.colModel[r].name == n) {
                f = r;
                break;
              }
            f != -1 &&
              ((r = u.p.colModel[f].sortable),
              typeof r != "boolean" && (r = !0),
              typeof t != "boolean" && (t = !1),
              r && u.sortData("jqgh_" + n, f, t, i));
          }
        });
      },
      GridDestroy: function() {
        return this.each(function() {
          if (this.grid) {
            this.p.pager && n(this.p.pager).remove();
            var t = this.id;
            try {
              n("#gbox_" + t).remove();
            } catch (i) {}
          }
        });
      },
      GridUnload: function() {
        return this.each(function() {
          var t, i;
          this.grid &&
            ((t = { id: n(this).attr("id"), cl: n(this).attr("class") }),
            this.p.pager &&
              n(this.p.pager)
                .empty()
                .removeClass("ui-state-default ui-jqgrid-pager corner-bottom"),
            (i = document.createElement("table")),
            n(i).attr({ id: t.id }),
            (i.className = t.cl),
            (t = this.id),
            n(i).removeClass("ui-jqgrid-btable"),
            n(this.p.pager).parents("#gbox_" + t).length === 1
              ? (n(i)
                  .insertBefore("#gbox_" + t)
                  .show(),
                n(this.p.pager).insertBefore("#gbox_" + t))
              : n(i)
                  .insertBefore("#gbox_" + t)
                  .show(),
            n("#gbox_" + t).remove());
        });
      },
      setGridState: function(t) {
        return this.each(function() {
          if (this.grid) {
            var i = this;
            t == "hidden"
              ? (n(
                  ".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",
                  "#gview_" + i.p.id
                ).slideUp("fast"),
                i.p.pager && n(i.p.pager).slideUp("fast"),
                i.p.toppager && n(i.p.toppager).slideUp("fast"),
                i.p.toolbar[0] === !0 &&
                  (i.p.toolbar[1] == "both" && n(i.grid.ubDiv).slideUp("fast"),
                  n(i.grid.uDiv).slideUp("fast")),
                i.p.footerrow &&
                  n(".ui-jqgrid-sdiv", "#gbox_" + i.p.id).slideUp("fast"),
                n(".ui-jqgrid-titlebar-close span", i.grid.cDiv)
                  .removeClass("ui-icon-circle-triangle-n")
                  .addClass("ui-icon-circle-triangle-s"),
                (i.p.gridstate = "hidden"))
              : t == "visible" &&
                (n(
                  ".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",
                  "#gview_" + i.p.id
                ).slideDown("fast"),
                i.p.pager && n(i.p.pager).slideDown("fast"),
                i.p.toppager && n(i.p.toppager).slideDown("fast"),
                i.p.toolbar[0] === !0 &&
                  (i.p.toolbar[1] == "both" &&
                    n(i.grid.ubDiv).slideDown("fast"),
                  n(i.grid.uDiv).slideDown("fast")),
                i.p.footerrow &&
                  n(".ui-jqgrid-sdiv", "#gbox_" + i.p.id).slideDown("fast"),
                n(".ui-jqgrid-titlebar-close span", i.grid.cDiv)
                  .removeClass("ui-icon-circle-triangle-s")
                  .addClass("ui-icon-circle-triangle-n"),
                (i.p.gridstate = "visible"));
          }
        });
      },
      updateGridRows: function(t, i, r) {
        var f,
          e = !1,
          u;
        return (
          this.each(function() {
            var o = this,
              h,
              c,
              s,
              l;
            if (!o.grid) return !1;
            i || (i = "id");
            t &&
              t.length > 0 &&
              n(t).each(function() {
                if (((s = this), (c = o.rows.namedItem(s[i])))) {
                  if (
                    ((l = s[i]), r === !0 && o.p.jsonReader.repeatitems === !0)
                  ) {
                    o.p.jsonReader.cell && (s = s[o.p.jsonReader.cell]);
                    for (var t = 0; t < s.length; t++)
                      (h = o.formatter(l, s[t], t, s, "edit")),
                        (u = o.p.colModel[t].title
                          ? { title: n.jgrid.stripHtml(h) }
                          : {}),
                        o.p.treeGrid === !0 && f == o.p.ExpandColumn
                          ? n("td:eq(" + t + ") > span:first", c)
                              .html(h)
                              .attr(u)
                          : n("td:eq(" + t + ")", c)
                              .html(h)
                              .attr(u);
                    return (e = !0);
                  }
                  n(o.p.colModel).each(function(t) {
                    f = r === !0 ? this.jsonmap || this.name : this.name;
                    s[f] !== undefined &&
                      ((h = o.formatter(l, s[f], t, s, "edit")),
                      (u = this.title ? { title: n.jgrid.stripHtml(h) } : {}),
                      o.p.treeGrid === !0 && f == o.p.ExpandColumn
                        ? n("td:eq(" + t + ") > span:first", c)
                            .html(h)
                            .attr(u)
                        : n("td:eq(" + t + ")", c)
                            .html(h)
                            .attr(u),
                      (e = !0));
                  });
                }
              });
          }),
          e
        );
      },
      filterGrid: function(t, i) {
        return (
          (i = n.extend(
            {
              gridModel: !1,
              gridNames: !1,
              gridToolbar: !1,
              filterModel: [],
              formtype: "horizontal",
              autosearch: !0,
              formclass: "filterform",
              tableclass: "filtertable",
              buttonclass: "filterbutton",
              searchButton: "Search",
              clearButton: "Clear",
              enableSearch: !1,
              enableClear: !1,
              beforeSearch: null,
              afterSearch: null,
              beforeClear: null,
              afterClear: null,
              url: "",
              marksearched: !0
            },
            i || {}
          )),
          this.each(function() {
            var r = this,
              u,
              o,
              s;
            if (
              ((this.p = i),
              this.p.filterModel.length === 0 && this.p.gridModel === !1)
            )
              alert("No filter is set");
            else if (t)
              if (
                ((this.p.gridid = t.indexOf("#") != -1 ? t : "#" + t),
                (u = n(this.p.gridid).jqGrid("getGridParam", "colModel")),
                u)
              ) {
                this.p.gridModel === !0
                  ? ((o = n(this.p.gridid)[0]),
                    n.each(u, function(n) {
                      var t = [];
                      this.search = this.search === !1 ? !1 : !0;
                      s =
                        this.editrules && this.editrules.searchhidden === !0
                          ? !0
                          : this.hidden === !0
                          ? !1
                          : !0;
                      this.search === !0 &&
                        s === !0 &&
                        ((t.label =
                          r.p.gridNames === !0 ? o.p.colNames[n] : ""),
                        (t.name = this.name),
                        (t.index = this.index || this.name),
                        (t.stype = this.edittype || "text"),
                        t.stype != "select" && (t.stype = "text"),
                        (t.defval = this.defval || ""),
                        (t.surl = this.surl || ""),
                        (t.sopt = this.editoptions || {}),
                        (t.width = this.width),
                        r.p.filterModel.push(t));
                    }))
                  : n.each(r.p.filterModel, function() {
                      for (var n = 0; n < u.length; n++)
                        if (this.name == u[n].name) {
                          this.index = u[n].index || this.name;
                          break;
                        }
                      this.index || (this.index = this.name);
                    });
                var f = function() {
                    var f = {},
                      e = 0,
                      u,
                      t = n(r.p.gridid)[0],
                      i,
                      s,
                      o;
                    t.p.searchdata = {};
                    n.isFunction(r.p.beforeSearch) && r.p.beforeSearch();
                    n.each(r.p.filterModel, function() {
                      i = this.index;
                      switch (this.stype) {
                        case "select":
                          if ((u = n("select[name=" + i + "]", r).val()))
                            (f[i] = u),
                              r.p.marksearched &&
                                n("#jqgh_" + this.name, t.grid.hDiv).addClass(
                                  "dirty-cell"
                                ),
                              e++;
                          else {
                            r.p.marksearched &&
                              n("#jqgh_" + this.name, t.grid.hDiv).removeClass(
                                "dirty-cell"
                              );
                            try {
                              delete t.p.postData[this.index];
                            } catch (o) {}
                          }
                          break;
                        default:
                          if ((u = n("input[name=" + i + "]", r).val()))
                            (f[i] = u),
                              r.p.marksearched &&
                                n("#jqgh_" + this.name, t.grid.hDiv).addClass(
                                  "dirty-cell"
                                ),
                              e++;
                          else {
                            r.p.marksearched &&
                              n("#jqgh_" + this.name, t.grid.hDiv).removeClass(
                                "dirty-cell"
                              );
                            try {
                              delete t.p.postData[this.index];
                            } catch (s) {}
                          }
                      }
                    });
                    s = e > 0 ? !0 : !1;
                    n.extend(t.p.postData, f);
                    r.p.url &&
                      ((o = n(t).jqGrid("getGridParam", "url")),
                      n(t).jqGrid("setGridParam", { url: r.p.url }));
                    n(t)
                      .jqGrid("setGridParam", { search: s })
                      .trigger("reloadGrid", [{ page: 1 }]);
                    o && n(t).jqGrid("setGridParam", { url: o });
                    n.isFunction(r.p.afterSearch) && r.p.afterSearch();
                  },
                  h = function() {
                    var f = {},
                      i,
                      e = 0,
                      t = n(r.p.gridid)[0],
                      u,
                      s,
                      o;
                    n.isFunction(r.p.beforeClear) && r.p.beforeClear();
                    n.each(r.p.filterModel, function() {
                      u = this.index;
                      i = this.defval ? this.defval : "";
                      this.stype || (this.stype = "text");
                      switch (this.stype) {
                        case "select":
                          var o;
                          if (
                            (n("select[name=" + u + "] option", r).each(
                              function(t) {
                                return (
                                  t === 0 && (this.selected = !0),
                                  n(this).text() == i
                                    ? ((this.selected = !0),
                                      (o = n(this).val()),
                                      !1)
                                    : void 0
                                );
                              }
                            ),
                            o)
                          )
                            (f[u] = o),
                              r.p.marksearched &&
                                n("#jqgh_" + this.name, t.grid.hDiv).addClass(
                                  "dirty-cell"
                                ),
                              e++;
                          else {
                            r.p.marksearched &&
                              n("#jqgh_" + this.name, t.grid.hDiv).removeClass(
                                "dirty-cell"
                              );
                            try {
                              delete t.p.postData[this.index];
                            } catch (s) {}
                          }
                          break;
                        case "text":
                          if ((n("input[name=" + u + "]", r).val(i), i))
                            (f[u] = i),
                              r.p.marksearched &&
                                n("#jqgh_" + this.name, t.grid.hDiv).addClass(
                                  "dirty-cell"
                                ),
                              e++;
                          else {
                            r.p.marksearched &&
                              n("#jqgh_" + this.name, t.grid.hDiv).removeClass(
                                "dirty-cell"
                              );
                            try {
                              delete t.p.postData[this.index];
                            } catch (h) {}
                          }
                      }
                    });
                    s = e > 0 ? !0 : !1;
                    n.extend(t.p.postData, f);
                    r.p.url &&
                      ((o = n(t).jqGrid("getGridParam", "url")),
                      n(t).jqGrid("setGridParam", { url: r.p.url }));
                    n(t)
                      .jqGrid("setGridParam", { search: s })
                      .trigger("reloadGrid", [{ page: 1 }]);
                    o && n(t).jqGrid("setGridParam", { url: o });
                    n.isFunction(r.p.afterClear) && r.p.afterClear();
                  },
                  e,
                  c = n(
                    "<form name='SearchForm' style=display:inline;' class='" +
                      this.p.formclass +
                      "'></form>"
                  );
                e = n(
                  "<table class='" +
                    this.p.tableclass +
                    "' cellspacing='0' cellpading='0' border='0'><tbody></tbody></table>"
                );
                n(c).append(e),
                  (function() {
                    var u = document.createElement("tr"),
                      i,
                      o,
                      s,
                      t;
                    r.p.formtype == "horizontal" && n(e).append(u);
                    n.each(r.p.filterModel, function(o) {
                      var h, c, a, l, v;
                      s = document.createElement("td");
                      n(s).append(
                        "<label for='" +
                          this.name +
                          "'>" +
                          this.label +
                          "</label>"
                      );
                      t = document.createElement("td");
                      h = this;
                      this.stype || (this.stype = "text");
                      switch (this.stype) {
                        case "select":
                          if (this.surl)
                            n(t).load(this.surl, function() {
                              h.defval && n("select", this).val(h.defval);
                              n("select", this).attr({
                                name: h.index || h.name,
                                id: "sg_" + h.name
                              });
                              h.sopt && n("select", this).attr(h.sopt);
                              r.p.gridToolbar === !0 &&
                                h.width &&
                                n("select", this).width(h.width);
                              r.p.autosearch === !0 &&
                                n("select", this).change(function() {
                                  return f(), !1;
                                });
                            });
                          else if (h.sopt.value) {
                            if (
                              ((c = h.sopt.value),
                              (a = document.createElement("select")),
                              n(a)
                                .attr({
                                  name: h.index || h.name,
                                  id: "sg_" + h.name
                                })
                                .attr(h.sopt),
                              typeof c == "string")
                            )
                              for (o = c.split(";"), v = 0; v < o.length; v++)
                                (c = o[v].split(":")),
                                  (l = document.createElement("option")),
                                  (l.value = c[0]),
                                  (l.innerHTML = c[1]),
                                  c[1] == h.defval && (l.selected = "selected"),
                                  a.appendChild(l);
                            else if (typeof c == "object")
                              for (v in c)
                                c.hasOwnProperty(v) &&
                                  (o++,
                                  (l = document.createElement("option")),
                                  (l.value = v),
                                  (l.innerHTML = c[v]),
                                  c[v] == h.defval && (l.selected = "selected"),
                                  a.appendChild(l));
                            r.p.gridToolbar === !0 &&
                              h.width &&
                              n(a).width(h.width);
                            n(t).append(a);
                            r.p.autosearch === !0 &&
                              n(a).change(function() {
                                return f(), !1;
                              });
                          }
                          break;
                        case "text":
                          a = this.defval ? this.defval : "";
                          n(t).append(
                            "<input type='text' name='" +
                              (this.index || this.name) +
                              "' id='sg_" +
                              this.name +
                              "' value='" +
                              a +
                              "'/>"
                          );
                          h.sopt && n("input", t).attr(h.sopt);
                          r.p.gridToolbar === !0 &&
                            h.width &&
                            (n.browser.msie
                              ? n("input", t).width(h.width - 4)
                              : n("input", t).width(h.width - 2));
                          r.p.autosearch === !0 &&
                            n("input", t).keypress(function(n) {
                              return (n.charCode
                                ? n.charCode
                                : n.keyCode
                                ? n.keyCode
                                : 0) == 13
                                ? (f(), !1)
                                : this;
                            });
                      }
                      r.p.formtype == "horizontal"
                        ? (r.p.gridToolbar === !0 && r.p.gridNames === !1
                            ? n(u).append(t)
                            : n(u)
                                .append(s)
                                .append(t),
                          n(u).append(t))
                        : ((i = document.createElement("tr")),
                          n(i)
                            .append(s)
                            .append(t),
                          n(e).append(i));
                    });
                    t = document.createElement("td");
                    r.p.enableSearch === !0 &&
                      ((o =
                        "<input type='button' id='sButton' class='" +
                        r.p.buttonclass +
                        "' value='" +
                        r.p.searchButton +
                        "'/>"),
                      n(t).append(o),
                      n("input#sButton", t).click(function() {
                        return f(), !1;
                      }));
                    r.p.enableClear === !0 &&
                      ((o =
                        "<input type='button' id='cButton' class='" +
                        r.p.buttonclass +
                        "' value='" +
                        r.p.clearButton +
                        "'/>"),
                      n(t).append(o),
                      n("input#cButton", t).click(function() {
                        return h(), !1;
                      }));
                    (r.p.enableClear === !0 || r.p.enableSearch === !0) &&
                      (r.p.formtype == "horizontal"
                        ? n(u).append(t)
                        : ((i = document.createElement("tr")),
                          n(i)
                            .append("<td>&#160;</td>")
                            .append(t),
                          n(e).append(i)));
                  })();
                n(this).append(c);
                this.triggerSearch = f;
                this.clearSearch = h;
              } else alert("Could not get grid colModel");
            else alert("No target grid is set!");
          })
        );
      },
      filterToolbar: function(t) {
        return (
          (t = n.extend(
            {
              autosearch: !0,
              searchOnEnter: !0,
              beforeSearch: null,
              afterSearch: null,
              beforeClear: null,
              afterClear: null,
              searchurl: "",
              stringResult: !1,
              groupOp: "AND",
              defaultSearch: "bw"
            },
            t || {}
          )),
          this.each(function() {
            function u(t, i) {
              var r = n(t);
              r[0] &&
                jQuery.each(i, function() {
                  this.data !== undefined
                    ? r.bind(this.type, this.data, this.fn)
                    : r.bind(this.type, this.fn);
                });
            }
            var i = this,
              r = function() {
                var f = {},
                  s = 0,
                  e,
                  r,
                  h = {},
                  o,
                  v,
                  u,
                  c,
                  l,
                  a;
                n.each(i.p.colModel, function() {
                  r = this.index || this.name;
                  switch (this.stype) {
                    case "select":
                      if (
                        ((o =
                          this.searchoptions && this.searchoptions.sopt
                            ? this.searchoptions.sopt[0]
                            : "eq"),
                        (e = n("select[name=" + r + "]", i.grid.hDiv).val()))
                      )
                        (f[r] = e), (h[r] = o), s++;
                      else
                        try {
                          delete i.p.postData[r];
                        } catch (u) {}
                      break;
                    case "text":
                      if (
                        ((o =
                          this.searchoptions && this.searchoptions.sopt
                            ? this.searchoptions.sopt[0]
                            : t.defaultSearch),
                        (e = n("input[name=" + r + "]", i.grid.hDiv).val()))
                      )
                        (f[r] = e), (h[r] = o), s++;
                      else
                        try {
                          delete i.p.postData[r];
                        } catch (c) {}
                  }
                });
                v = s > 0 ? !0 : !1;
                t.stringResult === !0 || i.p.datatype == "local"
                  ? ((u = '{"groupOp":"' + t.groupOp + '","rules":['),
                    (c = 0),
                    n.each(f, function(n, t) {
                      c > 0 && (u += ",");
                      u += '{"field":"' + n + '",';
                      u += '"op":"' + h[n] + '",';
                      u += '"data":"' + t + '"}';
                      c++;
                    }),
                    (u += "]}"),
                    n.extend(i.p.postData, { filters: u }))
                  : n.extend(i.p.postData, f);
                i.p.searchurl &&
                  ((l = i.p.url),
                  n(i).jqGrid("setGridParam", { url: i.p.searchurl }));
                a = !1;
                n.isFunction(t.beforeSearch) && (a = t.beforeSearch.call(i));
                a ||
                  n(i)
                    .jqGrid("setGridParam", { search: v })
                    .trigger("reloadGrid", [{ page: 1 }]);
                l && n(i).jqGrid("setGridParam", { url: l });
                n.isFunction(t.afterSearch) && t.afterSearch();
              },
              e = n("<tr class='ui-search-toolbar' role='rowheader'></tr>"),
              f;
            n.each(i.p.colModel, function() {
              var h = this,
                s,
                y,
                o,
                c,
                l,
                v,
                a,
                p;
              if (
                ((y = n(
                  "<th role='columnheader' class='ui-state-default ui-th-column ui-th-" +
                    i.p.direction +
                    "'></th>"
                )),
                (s = n(
                  "<div style='width:100%;position:relative;height:100%;padding-right:0.3em;'></div>"
                )),
                this.hidden === !0 && n(y).css("display", "none"),
                (this.search = this.search === !1 ? !1 : !0),
                typeof this.stype == "undefined" && (this.stype = "text"),
                (o = n.extend({}, this.searchoptions || {})),
                this.search)
              )
                switch (this.stype) {
                  case "select":
                    if ((c = this.surl || o.dataUrl))
                      n.ajax(
                        n.extend(
                          {
                            url: c,
                            dataType: "html",
                            complete: function(i) {
                              o.buildSelect !== undefined
                                ? (i = o.buildSelect(i)) && n(s).append(i)
                                : n(s).append(i.responseText);
                              o.defaultValue &&
                                n("select", s).val(o.defaultValue);
                              n("select", s).attr({
                                name: h.index || h.name,
                                id: "gs_" + h.name
                              });
                              o.attr && n("select", s).attr(o.attr);
                              n("select", s).css({ width: "100%" });
                              o.dataInit !== undefined &&
                                o.dataInit(n("select", s)[0]);
                              o.dataEvents !== undefined &&
                                u(n("select", s)[0], o.dataEvents);
                              t.autosearch === !0 &&
                                n("select", s).change(function() {
                                  return r(), !1;
                                });
                              i = null;
                            }
                          },
                          n.jgrid.ajaxOptions,
                          i.p.ajaxSelectOptions || {}
                        )
                      );
                    else if (
                      (h.searchoptions && h.searchoptions.value
                        ? (l = h.searchoptions.value)
                        : h.editoptions &&
                          h.editoptions.value &&
                          (l = h.editoptions.value),
                      l)
                    ) {
                      if (
                        ((c = document.createElement("select")),
                        (c.style.width = "100%"),
                        n(c).attr({
                          name: h.index || h.name,
                          id: "gs_" + h.name
                        }),
                        typeof l == "string")
                      )
                        for (l = l.split(";"), p = 0; p < l.length; p++)
                          (v = l[p].split(":")),
                            (a = document.createElement("option")),
                            (a.value = v[0]),
                            (a.innerHTML = v[1]),
                            c.appendChild(a);
                      else if (typeof l == "object")
                        for (v in l)
                          l.hasOwnProperty(v) &&
                            ((a = document.createElement("option")),
                            (a.value = v),
                            (a.innerHTML = l[v]),
                            c.appendChild(a));
                      o.defaultValue && n(c).val(o.defaultValue);
                      o.attr && n(c).attr(o.attr);
                      o.dataInit !== undefined && o.dataInit(c);
                      o.dataEvents !== undefined && u(c, o.dataEvents);
                      n(s).append(c);
                      t.autosearch === !0 &&
                        n(c).change(function() {
                          return r(), !1;
                        });
                    }
                    break;
                  case "text":
                    c = o.defaultValue ? o.defaultValue : "";
                    n(s).append(
                      "<input type='text' style='width:95%;padding:0px;' name='" +
                        (h.index || h.name) +
                        "' id='gs_" +
                        h.name +
                        "' value='" +
                        c +
                        "'/>"
                    );
                    o.attr && n("input", s).attr(o.attr);
                    o.dataInit !== undefined && o.dataInit(n("input", s)[0]);
                    o.dataEvents !== undefined &&
                      u(n("input", s)[0], o.dataEvents);
                    t.autosearch === !0 &&
                      (t.searchOnEnter
                        ? n("input", s).keypress(function(n) {
                            return (n.charCode
                              ? n.charCode
                              : n.keyCode
                              ? n.keyCode
                              : 0) == 13
                              ? (r(), !1)
                              : this;
                          })
                        : n("input", s).keydown(function(n) {
                            switch (n.which) {
                              case 13:
                                return !1;
                              case 9:
                              case 16:
                              case 37:
                              case 38:
                              case 39:
                              case 40:
                              case 27:
                                break;
                              default:
                                f && clearTimeout(f);
                                f = setTimeout(function() {
                                  r();
                                }, 500);
                            }
                          }));
                }
              n(y).append(s);
              n(e).append(y);
            });
            n("table thead", i.grid.hDiv).append(e);
            this.triggerToolbar = r;
            this.clearToolbar = function(r) {
              var o = {},
                e,
                s = 0,
                u,
                a,
                f,
                h,
                c,
                l;
              r = typeof r != "boolean" ? !0 : r;
              n.each(i.p.colModel, function() {
                e =
                  this.searchoptions && this.searchoptions.defaultValue
                    ? this.searchoptions.defaultValue
                    : "";
                u = this.index || this.name;
                switch (this.stype) {
                  case "select":
                    var t;
                    if (
                      (n("select[name=" + u + "] option", i.grid.hDiv).each(
                        function(i) {
                          return (
                            i === 0 && (this.selected = !0),
                            n(this).text() == e
                              ? ((this.selected = !0), (t = n(this).val()), !1)
                              : void 0
                          );
                        }
                      ),
                      t)
                    )
                      (o[u] = t), s++;
                    else
                      try {
                        delete i.p.postData[u];
                      } catch (r) {}
                    break;
                  case "text":
                    if ((n("input[name=" + u + "]", i.grid.hDiv).val(e), e))
                      (o[u] = e), s++;
                    else
                      try {
                        delete i.p.postData[u];
                      } catch (f) {}
                }
              });
              a = s > 0 ? !0 : !1;
              t.stringResult === !0 || i.p.datatype == "local"
                ? ((f = '{"groupOp":"' + t.groupOp + '","rules":['),
                  (h = 0),
                  n.each(o, function(n, t) {
                    h > 0 && (f += ",");
                    f += '{"field":"' + n + '",';
                    f += '"op":"eq",';
                    f += '"data":"' + t + '"}';
                    h++;
                  }),
                  (f += "]}"),
                  n.extend(i.p.postData, { filters: f }))
                : n.extend(i.p.postData, o);
              i.p.searchurl &&
                ((c = i.p.url),
                n(i).jqGrid("setGridParam", { url: i.p.searchurl }));
              l = !1;
              n.isFunction(t.beforeClear) && (l = t.beforeClear.call(i));
              l ||
                (r &&
                  n(i)
                    .jqGrid("setGridParam", { search: a })
                    .trigger("reloadGrid", [{ page: 1 }]));
              c && n(i).jqGrid("setGridParam", { url: c });
              n.isFunction(t.afterClear) && t.afterClear();
            };
            this.toggleToolbar = function() {
              var t = n("tr.ui-search-toolbar", i.grid.hDiv);
              t.css("display") == "none" ? t.show() : t.hide();
            };
          })
        );
      }
    });
  })(jQuery),
  (function(n) {
    n.extend(n.jgrid, {
      showModal: function(n) {
        n.w.show();
      },
      closeModal: function(n) {
        n.w.hide().attr("aria-hidden", "true");
        n.o && n.o.remove();
      },
      hideModal: function(t, i) {
        if (((i = n.extend({ jqm: !0, gb: "" }, i || {})), i.onClose)) {
          var r = i.onClose(t);
          if (typeof r == "boolean" && !r) return;
        }
        if (n.fn.jqm && i.jqm === !0)
          n(t)
            .attr("aria-hidden", "true")
            .jqmHide();
        else {
          if (i.gb !== "")
            try {
              n(".jqgrid-overlay:first", i.gb).hide();
            } catch (u) {}
          n(t)
            .hide()
            .attr("aria-hidden", "true");
        }
      },
      findPos: function(n) {
        var t = 0,
          i = 0;
        if (n.offsetParent)
          do (t += n.offsetLeft), (i += n.offsetTop);
          while ((n = n.offsetParent));
        return [t, i];
      },
      createModal: function(t, i, r, u, f, e) {
        var o = document.createElement("div"),
          l,
          a = this,
          s,
          c,
          h;
        if (
          ((l = n(r.gbox).attr("dir") == "rtl" ? !0 : !1),
          (o.className =
            "ui-widget ui-widget-content ui-corner-all ui-jqdialog"),
          (o.id = t.themodal),
          (s = document.createElement("div")),
          (s.className =
            "ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"),
          (s.id = t.modalhead),
          n(s).append(
            "<span class='ui-jqdialog-title'>" + r.caption + "</span>"
          ),
          (c = n(
            "<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>"
          )
            .hover(
              function() {
                c.addClass("ui-state-hover");
              },
              function() {
                c.removeClass("ui-state-hover");
              }
            )
            .append("<span class='ui-icon ui-icon-closethick'></span>")),
          n(s).append(c),
          l
            ? ((o.dir = "rtl"),
              n(".ui-jqdialog-title", s).css("float", "right"),
              n(".ui-jqdialog-titlebar-close", s).css("left", "0.3em"))
            : ((o.dir = "ltr"),
              n(".ui-jqdialog-title", s).css("float", "left"),
              n(".ui-jqdialog-titlebar-close", s).css("right", "0.3em")),
          (h = document.createElement("div")),
          n(h)
            .addClass("ui-jqdialog-content ui-widget-content")
            .attr("id", t.modalcontent),
          n(h).append(i),
          o.appendChild(h),
          n(o).prepend(s),
          e === !0 ? n("body").append(o) : n(o).insertBefore(u),
          typeof r.jqModal == "undefined" && (r.jqModal = !0),
          (i = {}),
          n.fn.jqm && r.jqModal === !0
            ? (r.left === 0 &&
                r.top === 0 &&
                ((h = []),
                (h = this.findPos(f)),
                (r.left = h[0] + 4),
                (r.top = h[1] + 4)),
              (i.top = r.top + "px"),
              (i.left = r.left))
            : (r.left !== 0 || r.top !== 0) &&
              ((i.left = r.left), (i.top = r.top + "px")),
          n("a.ui-jqdialog-titlebar-close", s).click(function() {
            var i = n("#" + t.themodal).data("onClose") || r.onClose,
              u = n("#" + t.themodal).data("gbox") || r.gbox;
            return (
              a.hideModal("#" + t.themodal, {
                gb: u,
                jqm: r.jqModal,
                onClose: i
              }),
              !1
            );
          }),
          (r.width !== 0 && r.width) || (r.width = 300),
          (r.height !== 0 && r.height) || (r.height = 200),
          r.zIndex ||
            ((u = n(u)
              .parents("*[role=dialog]")
              .first()
              .css("z-index")),
            (r.zIndex = u ? parseInt(u) + 1 : 950)),
          (u = 0),
          l &&
            i.left &&
            !e &&
            ((u =
              n(r.gbox).width() -
              (isNaN(r.width) ? 0 : parseInt(r.width, 10)) -
              8),
            (i.left = parseInt(i.left, 10) + parseInt(u, 10))),
          i.left && (i.left += "px"),
          n(o)
            .css(
              n.extend(
                {
                  width: isNaN(r.width) ? "auto" : r.width + "px",
                  height: isNaN(r.height) ? "auto" : r.height + "px",
                  zIndex: r.zIndex,
                  overflow: "hidden"
                },
                i
              )
            )
            .attr({
              tabIndex: "-1",
              role: "dialog",
              "aria-labelledby": t.modalhead,
              "aria-hidden": "true"
            }),
          typeof r.drag == "undefined" && (r.drag = !0),
          typeof r.resize == "undefined" && (r.resize = !0),
          r.drag)
        )
          if ((n(s).css("cursor", "move"), n.fn.jqDrag)) n(o).jqDrag(s);
          else
            try {
              n(o).draggable({ handle: n("#" + s.id) });
            } catch (v) {}
        if (r.resize)
          if (n.fn.jqResize)
            n(o).append(
              "<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se'></div>"
            ),
              n("#" + t.themodal).jqResize(
                ".jqResize",
                t.scrollelm ? "#" + t.scrollelm : !1
              );
          else
            try {
              n(o).resizable({
                handles: "se, sw",
                alsoResize: t.scrollelm ? "#" + t.scrollelm : !1
              });
            } catch (y) {}
        r.closeOnEscape === !0 &&
          n(o).keydown(function(i) {
            i.which == 27 &&
              ((i = n("#" + t.themodal).data("onClose") || r.onClose),
              a.hideModal(this, { gb: r.gbox, jqm: r.jqModal, onClose: i }));
          });
      },
      viewModal: function(t, i) {
        if (
          ((i = n.extend(
            {
              toTop: !0,
              overlay: 10,
              modal: !1,
              onShow: this.showModal,
              onHide: this.closeModal,
              gbox: "",
              jqm: !0,
              jqM: !0
            },
            i || {}
          )),
          n.fn.jqm && i.jqm === !0)
        )
          i.jqM
            ? n(t)
                .attr("aria-hidden", "false")
                .jqm(i)
                .jqmShow()
            : n(t)
                .attr("aria-hidden", "false")
                .jqmShow();
        else {
          i.gbox !== "" &&
            (n(".jqgrid-overlay:first", i.gbox).show(),
            n(t).data("gbox", i.gbox));
          n(t)
            .show()
            .attr("aria-hidden", "false");
          try {
            n(":input:visible", t)[0].focus();
          } catch (r) {}
        }
      },
      info_dialog: function(t, i, r, u) {
        var f = {
            width: 290,
            height: "auto",
            dataheight: "auto",
            drag: !0,
            resize: !1,
            caption: "<b>" + t + "</b>",
            left: 250,
            top: 170,
            zIndex: 1e3,
            jqModal: !0,
            modal: !1,
            closeOnEscape: !0,
            align: "center",
            buttonalign: "center",
            buttons: []
          },
          e,
          s,
          o;
        if (
          (n.extend(f, u || {}),
          (e = f.jqModal),
          (s = this),
          n.fn.jqm && !e && (e = !1),
          (t = ""),
          f.buttons.length > 0)
        )
          for (u = 0; u < f.buttons.length; u++)
            typeof f.buttons[u].id == "undefined" &&
              (f.buttons[u].id = "info_button_" + u),
              (t +=
                "<a href='javascript:void(0)' id='" +
                f.buttons[u].id +
                "' class='fm-button ui-state-default ui-corner-all'>" +
                f.buttons[u].text +
                "</a>");
        u = isNaN(f.dataheight) ? f.dataheight : f.dataheight + "px";
        o = "<div id='info_id'>";
        o +=
          "<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:" +
          u +
          ";" +
          ("text-align:" + f.align + ";") +
          "'>" +
          i +
          "</div>";
        o += r
          ? "<div class='ui-widget-content ui-helper-clearfix' style='text-align:" +
            f.buttonalign +
            ";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>" +
            r +
            "</a>" +
            t +
            "</div>"
          : t !== ""
          ? "<div class='ui-widget-content ui-helper-clearfix' style='text-align:" +
            f.buttonalign +
            ";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>" +
            t +
            "</div>"
          : "";
        o += "</div>";
        try {
          n("#info_dialog").attr("aria-hidden") == "false" &&
            this.hideModal("#info_dialog", { jqm: e });
          n("#info_dialog").remove();
        } catch (h) {}
        this.createModal(
          {
            themodal: "info_dialog",
            modalhead: "info_head",
            modalcontent: "info_content",
            scrollelm: "infocnt"
          },
          o,
          f,
          "",
          "",
          !0
        );
        t &&
          n.each(f.buttons, function(t) {
            n("#" + this.id, "#info_id").bind("click", function() {
              return f.buttons[t].onClick.call(n("#info_dialog")), !1;
            });
          });
        n("#closedialog", "#info_id").click(function() {
          return s.hideModal("#info_dialog", { jqm: e }), !1;
        });
        n(".fm-button", "#info_dialog").hover(
          function() {
            n(this).addClass("ui-state-hover");
          },
          function() {
            n(this).removeClass("ui-state-hover");
          }
        );
        n.isFunction(f.beforeOpen) && f.beforeOpen();
        this.viewModal("#info_dialog", {
          onHide: function(n) {
            n.w.hide().remove();
            n.o && n.o.remove();
          },
          modal: f.modal,
          jqm: e
        });
        n.isFunction(f.afterOpen) && f.afterOpen();
        try {
          n("#info_dialog").focus();
        } catch (c) {}
      },
      createEl: function(t, i, r, u, f) {
        function c(t, i) {
          return (
            n.isFunction(i.dataInit) &&
              ((t.id = i.id), i.dataInit(t), delete i.id, delete i.dataInit),
            i.dataEvents &&
              (n.each(i.dataEvents, function() {
                this.data !== undefined
                  ? n(t).bind(this.type, this.data, this.fn)
                  : n(t).bind(this.type, this.fn);
              }),
              delete i.dataEvents),
            i
          );
        }
        var e = "",
          o,
          h,
          s,
          l;
        i.defaultValue && delete i.defaultValue;
        switch (t) {
          case "textarea":
            e = document.createElement("textarea");
            u ? i.cols || n(e).css({ width: "98%" }) : i.cols || (i.cols = 20);
            i.rows || (i.rows = 2);
            (r == "&nbsp;" ||
              r == "&#160;" ||
              (r.length == 1 && r.charCodeAt(0) == 160)) &&
              (r = "");
            e.value = r;
            i = c(e, i);
            n(e)
              .attr(i)
              .attr({ role: "textbox", multiline: "true" });
            break;
          case "checkbox":
            if (
              ((e = document.createElement("input")),
              (e.type = "checkbox"),
              i.value)
            ) {
              o = i.value.split(":");
              r === o[0] && ((e.checked = !0), (e.defaultChecked = !0));
              e.value = o[0];
              n(e).attr("offval", o[1]);
              try {
                delete i.value;
              } catch (v) {}
            } else
              (o = r.toLowerCase()),
                o.search(/(false|0|no|off|undefined)/i) < 0 && o !== ""
                  ? ((e.checked = !0), (e.defaultChecked = !0), (e.value = r))
                  : (e.value = "on"),
                n(e).attr("offval", "off");
            i = c(e, i);
            n(e)
              .attr(i)
              .attr("role", "checkbox");
            break;
          case "select":
            if (
              ((e = document.createElement("select")),
              e.setAttribute("role", "select"),
              (s = []),
              i.multiple === !0
                ? ((h = !0),
                  (e.multiple = "multiple"),
                  n(e).attr("aria-multiselectable", "true"))
                : (h = !1),
              typeof i.dataUrl != "undefined")
            )
              n.ajax(
                n.extend(
                  {
                    url: i.dataUrl,
                    type: "GET",
                    dataType: "html",
                    success: function(t) {
                      try {
                        delete i.dataUrl;
                        delete i.value;
                      } catch (u) {}
                      typeof i.buildSelect != "undefined"
                        ? ((t = i.buildSelect(t)),
                          (t = n(t).html()),
                          delete i.buildSelect)
                        : (t = n(t).html());
                      t &&
                        (n(e).append(t),
                        (i = c(e, i)),
                        typeof i.size == "undefined" && (i.size = h ? 3 : 1),
                        h
                          ? ((s = r.split(",")),
                            (s = n.map(s, function(t) {
                              return n.trim(t);
                            })))
                          : (s[0] = n.trim(r)),
                        n(e).attr(i),
                        setTimeout(function() {
                          n("option", e).each(function(t) {
                            return (
                              t === 0 && (this.selected = ""),
                              n(this).attr("role", "option"),
                              (n.inArray(n.trim(n(this).text()), s) > -1 ||
                                n.inArray(n.trim(n(this).val()), s) > -1) &&
                              ((this.selected = "selected"), !h)
                                ? !1
                                : void 0
                            );
                          });
                        }, 0));
                    }
                  },
                  f || {}
                )
              );
            else if (i.value) {
              if (
                (h
                  ? ((s = r.split(",")),
                    (s = n.map(s, function(t) {
                      return n.trim(t);
                    })),
                    typeof i.size == "undefined" && (i.size = 3))
                  : (i.size = 1),
                typeof i.value == "function" && (i.value = i.value()),
                typeof i.value == "string")
              )
                for (u = i.value.split(";"), o = 0; o < u.length; o++)
                  (f = u[o].split(":")),
                    f.length > 2 &&
                      (f[1] = n
                        .map(f, function(n, t) {
                          if (t > 0) return n;
                        })
                        .join(":")),
                    (t = document.createElement("option")),
                    t.setAttribute("role", "option"),
                    (t.value = f[0]),
                    (t.innerHTML = f[1]),
                    h ||
                      (n.trim(f[0]) != n.trim(r) &&
                        n.trim(f[1]) != n.trim(r)) ||
                      (t.selected = "selected"),
                    h &&
                      (n.inArray(n.trim(f[1]), s) > -1 ||
                        n.inArray(n.trim(f[0]), s) > -1) &&
                      (t.selected = "selected"),
                    e.appendChild(t);
              else if (typeof i.value == "object") {
                u = i.value;
                for (o in u)
                  u.hasOwnProperty(o) &&
                    ((t = document.createElement("option")),
                    t.setAttribute("role", "option"),
                    (t.value = o),
                    (t.innerHTML = u[o]),
                    h ||
                      (n.trim(o) != n.trim(r) && n.trim(u[o]) != n.trim(r)) ||
                      (t.selected = "selected"),
                    h &&
                      (n.inArray(n.trim(u[o]), s) > -1 ||
                        n.inArray(n.trim(o), s) > -1) &&
                      (t.selected = "selected"),
                    e.appendChild(t));
              }
              i = c(e, i);
              try {
                delete i.value;
              } catch (y) {}
              n(e).attr(i);
            }
            break;
          case "text":
          case "password":
          case "button":
            o = t == "button" ? "button" : "textbox";
            e = document.createElement("input");
            e.type = t;
            e.value = r;
            i = c(e, i);
            t != "button" &&
              (u
                ? i.size || n(e).css({ width: "98%" })
                : i.size || (i.size = 20));
            n(e)
              .attr(i)
              .attr("role", o);
            break;
          case "image":
          case "file":
            e = document.createElement("input");
            e.type = t;
            i = c(e, i);
            n(e).attr(i);
            break;
          case "custom":
            e = document.createElement("span");
            try {
              if (n.isFunction(i.custom_element))
                if (((l = i.custom_element.call(this, r, i)), l))
                  (l = n(l)
                    .addClass("customelement")
                    .attr({ id: i.id, name: i.name })),
                    n(e)
                      .empty()
                      .append(l);
                else throw "e2";
              else throw "e1";
            } catch (a) {
              a == "e1" &&
                this.info_dialog(
                  n.jgrid.errors.errcap,
                  "function 'custom_element' " + n.jgrid.edit.msg.nodefined,
                  n.jgrid.edit.bClose
                );
              a == "e2"
                ? this.info_dialog(
                    n.jgrid.errors.errcap,
                    "function 'custom_element' " + n.jgrid.edit.msg.novalue,
                    n.jgrid.edit.bClose
                  )
                : this.info_dialog(
                    n.jgrid.errors.errcap,
                    typeof a == "string" ? a : a.message,
                    n.jgrid.edit.bClose
                  );
            }
        }
        return e;
      },
      checkDate: function(n, t) {
        var h = function(n) {
            return n % 4 == 0 && (n % 100 != 0 || n % 400 == 0) ? 29 : 28;
          },
          i = {},
          r,
          s;
        if (
          ((n = n.toLowerCase()),
          (r =
            n.indexOf("/") != -1
              ? "/"
              : n.indexOf("-") != -1
              ? "-"
              : n.indexOf(".") != -1
              ? "."
              : "/"),
          (n = n.split(r)),
          (t = t.split(r)),
          t.length != 3)
        )
          return !1;
        r = -1;
        for (var f, e = -1, o = -1, u = 0; u < n.length; u++)
          (f = isNaN(t[u]) ? 0 : parseInt(t[u], 10)),
            (i[n[u]] = f),
            (f = n[u]),
            f.indexOf("y") != -1 && (r = u),
            f.indexOf("m") != -1 && (o = u),
            f.indexOf("d") != -1 && (e = u);
        return ((f = n[r] == "y" || n[r] == "yyyy" ? 4 : n[r] == "yy" ? 2 : -1),
        (u = (function(n) {
          for (var t = 1; t <= n; t++)
            (this[t] = 31),
              (t == 4 || t == 6 || t == 9 || t == 11) && (this[t] = 30),
              t == 2 && (this[t] = 29);
          return this;
        })(12)),
        r === -1)
          ? !1
          : ((s = i[n[r]].toString()),
            f == 2 && s.length == 1 && (f = 1),
            s.length != f || (i[n[r]] === 0 && t[r] != "00"))
          ? !1
          : o === -1
          ? !1
          : ((s = i[n[o]].toString()),
            s.length < 1 || i[n[o]] < 1 || i[n[o]] > 12)
          ? !1
          : e === -1
          ? !1
          : ((s = i[n[e]].toString()),
            s.length < 1 ||
              i[n[e]] < 1 ||
              i[n[e]] > 31 ||
              (i[n[o]] == 2 && i[n[e]] > h(i[n[r]])) ||
              i[n[e]] > u[i[n[o]]])
          ? !1
          : !0;
      },
      isEmpty: function(n) {
        return n.match(/^\s+$/) || n === "" ? !0 : !1;
      },
      checkTime: function(n) {
        if (!this.isEmpty(n))
          if ((n = n.match(/^(\d{1,2}):(\d{2})([ap]m)?$/))) {
            if (n[3]) {
              if (n[1] < 1 || n[1] > 12) return !1;
            } else if (n[1] > 23) return !1;
            if (n[2] > 59) return !1;
          } else return !1;
        return !0;
      },
      checkValues: function(t, i, r) {
        var u, f, e, o;
        if (typeof i == "string") {
          for (f = 0, o = r.p.colModel.length; f < o; f++)
            if (r.p.colModel[f].name == i) {
              u = r.p.colModel[f].editrules;
              i = f;
              try {
                e = r.p.colModel[f].formoptions.label;
              } catch (s) {}
              break;
            }
        } else i >= 0 && (u = r.p.colModel[i].editrules);
        if (u) {
          if (
            (e || (e = r.p.colNames[i]), u.required === !0 && this.isEmpty(t))
          )
            return [!1, e + ": " + n.jgrid.edit.msg.required, ""];
          if (
            ((f = u.required === !1 ? !1 : !0),
            u.number === !0 && !(f === !1 && this.isEmpty(t)) && isNaN(t))
          )
            return [!1, e + ": " + n.jgrid.edit.msg.number, ""];
          if (
            typeof u.minValue != "undefined" &&
            !isNaN(u.minValue) &&
            parseFloat(t) < parseFloat(u.minValue)
          )
            return [
              !1,
              e + ": " + n.jgrid.edit.msg.minValue + " " + u.minValue,
              ""
            ];
          if (
            typeof u.maxValue != "undefined" &&
            !isNaN(u.maxValue) &&
            parseFloat(t) > parseFloat(u.maxValue)
          )
            return [
              !1,
              e + ": " + n.jgrid.edit.msg.maxValue + " " + u.maxValue,
              ""
            ];
          if (
            u.email === !0 &&
            !(f === !1 && this.isEmpty(t)) &&
            ((o = /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i),
            !o.test(t))
          )
            return [!1, e + ": " + n.jgrid.edit.msg.email, ""];
          if (u.integer === !0 && !(f === !1 && this.isEmpty(t))) {
            if (isNaN(t)) return [!1, e + ": " + n.jgrid.edit.msg.integer, ""];
            if (t % 1 != 0 || t.indexOf(".") != -1)
              return [!1, e + ": " + n.jgrid.edit.msg.integer, ""];
          }
          if (
            u.date === !0 &&
            !(f === !1 && this.isEmpty(t)) &&
            ((i =
              r.p.colModel[i].formatoptions &&
              r.p.colModel[i].formatoptions.newformat
                ? r.p.colModel[i].formatoptions.newformat
                : r.p.colModel[i].datefmt || "Y-m-d"),
            !this.checkDate(i, t))
          )
            return [!1, e + ": " + n.jgrid.edit.msg.date + " - " + i, ""];
          if (
            u.time === !0 &&
            !(f === !1 && this.isEmpty(t)) &&
            !this.checkTime(t)
          )
            return [
              !1,
              e + ": " + n.jgrid.edit.msg.date + " - hh:mm (am/pm)",
              ""
            ];
          if (
            u.url === !0 &&
            !(f === !1 && this.isEmpty(t)) &&
            ((o = /^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i),
            !o.test(t))
          )
            return [!1, e + ": " + n.jgrid.edit.msg.url, ""];
          if (u.custom === !0 && !(f === !1 && this.isEmpty(t)))
            return n.isFunction(u.custom_func)
              ? ((t = u.custom_func.call(r, t, e)),
                n.isArray(t) ? t : [!1, n.jgrid.edit.msg.customarray, ""])
              : [!1, n.jgrid.edit.msg.customfcheck, ""];
        }
        return [!0, "", ""];
      }
    });
  })(jQuery),
  (function(n) {
    var t = null;
    n.jgrid.extend({
      searchGrid: function(t) {
        return (
          (t = n.extend(
            {
              recreateFilter: !1,
              drag: !0,
              sField: "searchField",
              sValue: "searchString",
              sOper: "searchOper",
              sFilter: "filters",
              loadDefaults: !0,
              beforeShowSearch: null,
              afterShowSearch: null,
              onInitializeSearch: null,
              closeAfterSearch: !1,
              closeAfterReset: !1,
              closeOnEscape: !1,
              multipleSearch: !1,
              cloneSearchRowOnAdd: !0,
              sopt: null,
              stringResult: undefined,
              onClose: null,
              useDataProxy: !1,
              overlay: !0
            },
            n.jgrid.search,
            t || {}
          )),
          this.each(function() {
            function v(t, i) {
              if (
                ((i = t.p.postData[i.sFilter]),
                typeof i == "string" && (i = n.jgrid.parse(i)),
                i &&
                  (i.groupOp && t.SearchFilter.setGroupOp(i.groupOp), i.rules))
              )
                for (var u = 0, f = i.rules.length, r = !1; u < f; u++)
                  (r = i.rules[u]),
                    r.field !== undefined &&
                      r.op !== undefined &&
                      r.data !== undefined &&
                      (r = t.SearchFilter.setFilter({
                        sfref: t.SearchFilter.$.find(".sf:last"),
                        filter: n.extend({}, r)
                      })) &&
                      t.SearchFilter.add();
            }
            function o(i) {
              if (t.onClose) {
                var r = t.onClose(i);
                if (typeof r == "boolean" && !r) return;
              }
              i.hide();
              t.overlay === !0 &&
                n(".jqgrid-overlay:first", "#gbox_" + u.p.id).hide();
            }
            function a() {
              var r = n(".ui-searchFilter").length,
                f;
              r > 1 &&
                ((f = n("#" + i).css("zIndex")),
                n("#" + i).css({ zIndex: parseInt(f, 10) + r }));
              n("#" + i).show();
              t.overlay === !0 &&
                n(".jqgrid-overlay:first", "#gbox_" + u.p.id).show();
              try {
                n(":input:visible", "#" + i)[0].focus();
              } catch (e) {}
            }
            function y(r) {
              var s = r !== undefined,
                e = n("#" + u.p.id),
                f = {};
              t.multipleSearch === !1
                ? ((f[t.sField] = r.rules[0].field),
                  (f[t.sValue] = r.rules[0].data),
                  (f[t.sOper] = r.rules[0].op))
                : (f[t.sFilter] = r);
              e[0].p.search = s;
              n.extend(e[0].p.postData, f);
              e.trigger("reloadGrid", [{ page: 1 }]);
              t.closeAfterSearch && o(n("#" + i));
            }
            function p(r) {
              r = r && r.hasOwnProperty("reload") ? r.reload : !0;
              var e = n("#" + u.p.id),
                f = {};
              e[0].p.search = !1;
              t.multipleSearch === !1
                ? (f[t.sField] = f[t.sValue] = f[t.sOper] = "")
                : (f[t.sFilter] = "");
              n.extend(e[0].p.postData, f);
              r && e.trigger("reloadGrid", [{ page: 1 }]);
              t.closeAfterReset && o(n("#" + i));
            }
            var u = this,
              i,
              f;
            if (u.grid && ((i = "fbox_" + u.p.id), (f = !0), n.fn.searchFilter))
              if (
                (t.recreateFilter === !0 && n("#" + i).remove(),
                n("#" + i).html() != null)
              )
                n.isFunction(t.beforeShowSearch) &&
                  ((f = t.beforeShowSearch(n("#" + i))),
                  typeof f == "undefined" && (f = !0)),
                  f !== !1 &&
                    (a(),
                    n.isFunction(t.afterShowSearch) &&
                      t.afterShowSearch(n("#" + i)));
              else {
                var c = [],
                  w = n("#" + u.p.id).jqGrid("getGridParam", "colNames"),
                  b = n("#" + u.p.id).jqGrid("getGridParam", "colModel"),
                  s = [
                    "eq",
                    "ne",
                    "lt",
                    "le",
                    "gt",
                    "ge",
                    "bw",
                    "bn",
                    "in",
                    "ni",
                    "ew",
                    "en",
                    "cn",
                    "nc"
                  ],
                  r,
                  h,
                  e,
                  l = [];
                if (t.sopt !== null)
                  for (r = e = 0; r < t.sopt.length; r++)
                    (h = n.inArray(t.sopt[r], s)) != -1 &&
                      ((l[e] = { op: t.sopt[r], text: t.odata[h] }), e++);
                else
                  for (r = 0; r < s.length; r++)
                    l[r] = { op: s[r], text: t.odata[r] };
                if (
                  (n.each(b, function(i, u) {
                    var l = typeof u.search == "undefined" ? !0 : u.search,
                      a = u.hidden === !0,
                      f,
                      o;
                    if (
                      ((i = n.extend(
                        {},
                        { text: w[i], itemval: u.index || u.name },
                        this.searchoptions
                      )),
                      (u = i.searchhidden === !0),
                      typeof i.sopt != "undefined" &&
                        ((e = 0), (i.ops = []), i.sopt.length > 0))
                    )
                      for (r = 0; r < i.sopt.length; r++)
                        (h = n.inArray(i.sopt[r], s)) != -1 &&
                          ((i.ops[e] = { op: i.sopt[r], text: t.odata[h] }),
                          e++);
                    if (
                      (typeof this.stype == "undefined" &&
                        (this.stype = "text"),
                      this.stype == "select" &&
                        i.dataUrl === undefined &&
                        (i.value
                          ? (f = i.value)
                          : this.editoptions && (f = this.editoptions.value),
                        f))
                    )
                      if (((i.dataValues = []), typeof f == "string"))
                        for (f = f.split(";"), r = 0; r < f.length; r++)
                          (o = f[r].split(":")),
                            (i.dataValues[r] = { value: o[0], text: o[1] });
                      else if (typeof f == "object") {
                        r = 0;
                        for (o in f)
                          f.hasOwnProperty(o) &&
                            ((i.dataValues[r] = { value: o, text: f[o] }), r++);
                      }
                    ((u && l) || (l && !a)) && c.push(i);
                  }),
                  c.length > 0)
                ) {
                  if (
                    (n(
                      "<div id='" + i + "' role='dialog' tabindex='-1'></div>"
                    ).insertBefore("#gview_" + u.p.id),
                    t.stringResult === undefined &&
                      (t.stringResult = t.multipleSearch),
                    (u.SearchFilter = n("#" + i).searchFilter(c, {
                      groupOps: t.groupOps,
                      operators: l,
                      onClose: o,
                      resetText: t.Reset,
                      searchText: t.Find,
                      windowTitle: t.caption,
                      rulesText: t.rulesText,
                      matchText: t.matchText,
                      onSearch: y,
                      onReset: p,
                      stringResult: t.stringResult,
                      ajaxSelectOptions: n.extend(
                        {},
                        n.jgrid.ajaxOptions,
                        u.p.ajaxSelectOptions || {}
                      ),
                      clone: t.cloneSearchRowOnAdd
                    })),
                    n(".ui-widget-overlay", "#" + i).remove(),
                    u.p.direction == "rtl" &&
                      n(".ui-closer", "#" + i).css("float", "left"),
                    t.drag === !0)
                  )
                    if (
                      (n("#" + i + " table thead tr:first td:first").css(
                        "cursor",
                        "move"
                      ),
                      jQuery.fn.jqDrag)
                    )
                      n("#" + i).jqDrag(
                        n("#" + i + " table thead tr:first td:first")
                      );
                    else
                      try {
                        n("#" + i).draggable({
                          handle: n("#" + i + " table thead tr:first td:first")
                        });
                      } catch (k) {}
                  t.multipleSearch === !1 &&
                    (n(
                      ".ui-del, .ui-add, .ui-del, .ui-add-last, .matchText, .rulesText",
                      "#" + i
                    ).hide(),
                    n("select[name='groupOp']", "#" + i).hide());
                  t.multipleSearch === !0 && t.loadDefaults === !0 && v(u, t);
                  n.isFunction(t.onInitializeSearch) &&
                    t.onInitializeSearch(n("#" + i));
                  n.isFunction(t.beforeShowSearch) &&
                    ((f = t.beforeShowSearch(n("#" + i))),
                    typeof f == "undefined" && (f = !0));
                  f !== !1 &&
                    (a(),
                    n.isFunction(t.afterShowSearch) &&
                      t.afterShowSearch(n("#" + i)),
                    t.closeOnEscape === !0 &&
                      n("#" + i).keydown(function(t) {
                        t.which == 27 && o(n("#" + i));
                        t.which == 13 && n(".ui-search", this).click();
                      }));
                }
              }
          })
        );
      },
      editGridRow: function(i, r) {
        return (
          (t = r = n.extend(
            {
              top: 0,
              left: 0,
              width: 300,
              height: "auto",
              dataheight: "auto",
              modal: !1,
              overlay: 10,
              drag: !0,
              resize: !0,
              url: null,
              mtype: "POST",
              clearAfterAdd: !0,
              closeAfterEdit: !1,
              reloadAfterSubmit: !0,
              onInitializeForm: null,
              beforeInitData: null,
              beforeShowForm: null,
              afterShowForm: null,
              beforeSubmit: null,
              afterSubmit: null,
              onclickSubmit: null,
              afterComplete: null,
              onclickPgButtons: null,
              afterclickPgButtons: null,
              editData: {},
              recreateForm: !1,
              jqModal: !0,
              closeOnEscape: !1,
              addedrow: "first",
              topinfo: "",
              bottominfo: "",
              saveicon: [],
              closeicon: [],
              savekey: [!1, 13],
              navkeys: [!1, 38, 40],
              checkOnSubmit: !1,
              checkOnUpdate: !1,
              _savedData: {},
              processing: !1,
              onClose: null,
              ajaxEditOptions: {},
              serializeEditData: null,
              viewPagerButtons: !0
            },
            n.jgrid.edit,
            r || {}
          )),
          this.each(function() {
            function ct() {
              return (
                n(".FormElement", "#" + e).each(function() {
                  var i = n(".customelement", this),
                    t,
                    r;
                  if (i.length)
                    (t = n(i[0]).attr("name")),
                      n.each(f.p.colModel, function() {
                        if (
                          this.name == t &&
                          this.editoptions &&
                          n.isFunction(this.editoptions.custom_value)
                        ) {
                          try {
                            if (
                              ((u[t] = this.editoptions.custom_value(
                                n("#" + t, "#" + e),
                                "get"
                              )),
                              u[t] === undefined)
                            )
                              throw "e1";
                          } catch (i) {
                            i == "e1"
                              ? n.jgrid.info_dialog(
                                  jQuery.jgrid.errors.errcap,
                                  "function 'custom_value' " +
                                    n.jgrid.edit.msg.novalue,
                                  jQuery.jgrid.edit.bClose
                                )
                              : n.jgrid.info_dialog(
                                  jQuery.jgrid.errors.errcap,
                                  i.message,
                                  jQuery.jgrid.edit.bClose
                                );
                          }
                          return !0;
                        }
                      });
                  else {
                    switch (n(this).get(0).type) {
                      case "checkbox":
                        n(this).prop("checked")
                          ? (u[this.name] = n(this).val())
                          : ((i = n(this).attr("offval")), (u[this.name] = i));
                        break;
                      case "select-one":
                        u[this.name] = n("option:selected", this).val();
                        v[this.name] = n("option:selected", this).text();
                        break;
                      case "select-multiple":
                        u[this.name] = n(this).val();
                        u[this.name] = u[this.name]
                          ? u[this.name].join(",")
                          : "";
                        r = [];
                        n("option:selected", this).each(function(t, i) {
                          r[t] = n(i).text();
                        });
                        v[this.name] = r.join(",");
                        break;
                      case "password":
                      case "text":
                      case "textarea":
                      case "button":
                        u[this.name] = n(this).val();
                    }
                    f.p.autoencode &&
                      (u[this.name] = n.jgrid.htmlEncode(u[this.name]));
                  }
                }),
                !0
              );
            }
            function pt(i, r, u, e) {
              for (
                var s, b, h, l = 0, o, y, c, p = [], a = !1, w = "", v = 1;
                v <= e;
                v++
              )
                w +=
                  "<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";
              return (
                i != "_empty" && (a = n(r).jqGrid("getInd", i)),
                n(r.p.colModel).each(function(v) {
                  if (
                    ((s = this.name),
                    (y = (b =
                      this.editrules && this.editrules.edithidden === !0
                        ? !1
                        : this.hidden === !0
                        ? !0
                        : !1)
                      ? "style='display:none'"
                      : ""),
                    s !== "cb" &&
                      s !== "subgrid" &&
                      this.editable === !0 &&
                      s !== "rn")
                  ) {
                    if (a === !1) o = "";
                    else if (s == r.p.ExpandColumn && r.p.treeGrid === !0)
                      o = n("td:eq(" + v + ")", r.rows[a]).text();
                    else
                      try {
                        o = n.unformat(
                          n("td:eq(" + v + ")", r.rows[a]),
                          { rowId: i, colModel: this },
                          v
                        );
                      } catch (tt) {
                        o = n("td:eq(" + v + ")", r.rows[a]).html();
                      }
                    var k = n.extend({}, this.editoptions || {}, {
                        id: s,
                        name: s
                      }),
                      d = n.extend(
                        {},
                        {
                          elmprefix: "",
                          elmsuffix: "",
                          rowabove: !1,
                          rowcontent: ""
                        },
                        this.formoptions || {}
                      ),
                      g = parseInt(d.rowpos, 10) || l + 1,
                      nt = parseInt((parseInt(d.colpos, 10) || 1) * 2, 10);
                    i == "_empty" &&
                      k.defaultValue &&
                      (o = n.isFunction(k.defaultValue)
                        ? k.defaultValue()
                        : k.defaultValue);
                    this.edittype || (this.edittype = "text");
                    f.p.autoencode && (o = n.jgrid.htmlDecode(o));
                    c = n.jgrid.createEl(
                      this.edittype,
                      k,
                      o,
                      !1,
                      n.extend(
                        {},
                        n.jgrid.ajaxOptions,
                        r.p.ajaxSelectOptions || {}
                      )
                    );
                    o === "" &&
                      this.edittype == "checkbox" &&
                      (o = n(c).attr("offval"));
                    o === "" &&
                      this.edittype == "select" &&
                      (o = n("option:eq(0)", c).text());
                    (t.checkOnSubmit || t.checkOnUpdate) &&
                      (t._savedData[s] = o);
                    n(c).addClass("FormElement");
                    (this.edittype == "text" || this.edittype == "textarea") &&
                      n(c).addClass("ui-widget-content ui-corner-all");
                    h = n(u).find("tr[rowpos=" + g + "]");
                    d.rowabove &&
                      ((k = n(
                        "<tr><td class='contentinfo' colspan='" +
                          e * 2 +
                          "'>" +
                          d.rowcontent +
                          "</td></tr>"
                      )),
                      n(u).append(k),
                      (k[0].rp = g));
                    h.length === 0 &&
                      ((h = n("<tr " + y + " rowpos='" + g + "'></tr>")
                        .addClass("FormData")
                        .attr("id", "tr_" + s)),
                      n(h).append(w),
                      n(u).append(h),
                      (h[0].rp = g));
                    n("td:eq(" + (nt - 2) + ")", h[0]).html(
                      typeof d.label == "undefined" ? r.p.colNames[v] : d.label
                    );
                    n("td:eq(" + (nt - 1) + ")", h[0])
                      .append(d.elmprefix)
                      .append(c)
                      .append(d.elmsuffix);
                    p[l] = v;
                    l++;
                  }
                }),
                l > 0 &&
                  ((v = n(
                    "<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='" +
                      (e * 2 - 1) +
                      "' class='DataTD'><input class='FormElement' id='id_g' type='text' name='" +
                      r.p.id +
                      "_id' value='" +
                      i +
                      "'/></td></tr>"
                  )),
                  (v[0].rp = l + 999),
                  n(u).append(v),
                  (t.checkOnSubmit || t.checkOnUpdate) &&
                    (t._savedData[r.p.id + "_id"] = i)),
                p
              );
            }
            function d(i, r, u) {
              var o,
                p = 0,
                s,
                h,
                a,
                l,
                v,
                c,
                y;
              (t.checkOnSubmit || t.checkOnUpdate) &&
                ((t._savedData = {}), (t._savedData[r.p.id + "_id"] = i));
              c = r.p.colModel;
              i == "_empty"
                ? (n(c).each(function() {
                    o = this.name;
                    a = n.extend({}, this.editoptions || {});
                    h = n("#" + n.jgrid.jqID(o), "#" + u);
                    h[0] != null &&
                      ((l = ""),
                      a.defaultValue
                        ? ((l = n.isFunction(a.defaultValue)
                            ? a.defaultValue()
                            : a.defaultValue),
                          h[0].type == "checkbox"
                            ? ((v = l.toLowerCase()),
                              v.search(/(false|0|no|off|undefined)/i) < 0 &&
                              v !== ""
                                ? ((h[0].checked = !0),
                                  (h[0].defaultChecked = !0),
                                  (h[0].value = l))
                                : h.attr({ checked: "", defaultChecked: "" }))
                            : h.val(l))
                        : h[0].type == "checkbox"
                        ? ((h[0].checked = !1),
                          (h[0].defaultChecked = !1),
                          (l = n(h).attr("offval")))
                        : h[0].type && h[0].type.substr(0, 6) == "select"
                        ? (h[0].selectedIndex = 0)
                        : h.val(l),
                      (t.checkOnSubmit === !0 || t.checkOnUpdate) &&
                        (t._savedData[o] = l));
                  }),
                  n("#id_g", "#" + u).val(i))
                : ((y = n(r).jqGrid("getInd", i, !0)),
                  y &&
                    (n("td", y).each(function(e) {
                      if (
                        ((o = c[e].name),
                        o !== "cb" &&
                          o !== "subgrid" &&
                          o !== "rn" &&
                          c[e].editable === !0)
                      ) {
                        if (o == r.p.ExpandColumn && r.p.treeGrid === !0)
                          s = n(this).text();
                        else
                          try {
                            s = n.unformat(
                              n(this),
                              { rowId: i, colModel: c[e] },
                              e
                            );
                          } catch (a) {
                            s = n(this).html();
                          }
                        f.p.autoencode && (s = n.jgrid.htmlDecode(s));
                        (t.checkOnSubmit === !0 || t.checkOnUpdate) &&
                          (t._savedData[o] = s);
                        o = n.jgrid.jqID(o);
                        switch (c[e].edittype) {
                          case "password":
                          case "text":
                          case "button":
                          case "image":
                            n("#" + o, "#" + u).val(s);
                            break;
                          case "textarea":
                            (s == "&nbsp;" ||
                              s == "&#160;" ||
                              (s.length == 1 && s.charCodeAt(0) == 160)) &&
                              (s = "");
                            n("#" + o, "#" + u).val(s);
                            break;
                          case "select":
                            var h = s.split(",");
                            h = n.map(h, function(t) {
                              return n.trim(t);
                            });
                            n("#" + o + " option", "#" + u).each(function() {
                              this.selected =
                                !c[e].editoptions.multiple &&
                                (h[0] == n.trim(n(this).text()) ||
                                  h[0] == n.trim(n(this).val()))
                                  ? !0
                                  : c[e].editoptions.multiple
                                  ? n.inArray(n.trim(n(this).text()), h) > -1 ||
                                    n.inArray(n.trim(n(this).val()), h) > -1
                                    ? !0
                                    : !1
                                  : !1;
                            });
                            break;
                          case "checkbox":
                            s += "";
                            c[e].editoptions && c[e].editoptions.value
                              ? c[e].editoptions.value.split(":")[0] == s
                                ? (n("#" + o, "#" + u).prop("checked", !0),
                                  n("#" + o, "#" + u).attr(
                                    "defaultChecked",
                                    !0
                                  ))
                                : (n("#" + o, "#" + u).prop("checked", !1),
                                  n("#" + o, "#" + u).attr(
                                    "defaultChecked",
                                    ""
                                  ))
                              : ((s = s.toLowerCase()),
                                s.search(/(false|0|no|off|undefined)/i) < 0 &&
                                s !== ""
                                  ? (n("#" + o, "#" + u).prop("checked", !0),
                                    n("#" + o, "#" + u).attr(
                                      "defaultChecked",
                                      !0
                                    ))
                                  : (n("#" + o, "#" + u).prop("checked", !1),
                                    n("#" + o, "#" + u).attr(
                                      "defaultChecked",
                                      ""
                                    )));
                            break;
                          case "custom":
                            try {
                              if (
                                c[e].editoptions &&
                                n.isFunction(c[e].editoptions.custom_value)
                              )
                                c[e].editoptions.custom_value(
                                  n("#" + o, "#" + u),
                                  "set",
                                  s
                                );
                              else throw "e1";
                            } catch (l) {
                              l == "e1"
                                ? n.jgrid.info_dialog(
                                    jQuery.jgrid.errors.errcap,
                                    "function 'custom_value' " +
                                      n.jgrid.edit.msg.nodefined,
                                    jQuery.jgrid.edit.bClose
                                  )
                                : n.jgrid.info_dialog(
                                    jQuery.jgrid.errors.errcap,
                                    l.message,
                                    jQuery.jgrid.edit.bClose
                                  );
                            }
                        }
                        p++;
                      }
                    }),
                    p > 0 && n("#id_g", "#" + e).val(i)));
            }
            function g() {
              var b,
                i = [!0, "", ""],
                a = {},
                h = f.p.prmNames,
                l,
                y,
                p,
                w;
              n.isFunction(t.beforeCheckValues) &&
                ((p = t.beforeCheckValues(
                  u,
                  n("#" + o),
                  u[f.p.id + "_id"] == "_empty" ? h.addoper : h.editoper
                )),
                p && typeof p == "object" && (u = p));
              for (w in u)
                if (
                  u.hasOwnProperty(w) &&
                  ((i = n.jgrid.checkValues(u[w], w, f)), i[0] === !1)
                )
                  break;
              i[0] &&
                (n.isFunction(t.onclickSubmit) &&
                  (a = t.onclickSubmit(t, u) || {}),
                n.isFunction(t.beforeSubmit) &&
                  (i = t.beforeSubmit(u, n("#" + o))));
              i[0] &&
                !t.processing &&
                ((t.processing = !0),
                n("#sData", "#" + e + "_2").addClass("ui-state-active"),
                (y = h.oper),
                (l = h.id),
                (u[y] =
                  n.trim(u[f.p.id + "_id"]) == "_empty"
                    ? h.addoper
                    : h.editoper),
                u[y] != h.addoper
                  ? (u[l] = u[f.p.id + "_id"])
                  : u[l] === undefined && (u[l] = u[f.p.id + "_id"]),
                delete u[f.p.id + "_id"],
                (u = n.extend(u, t.editData, a)),
                (a = n.extend(
                  {
                    url: t.url ? t.url : n(f).jqGrid("getGridParam", "editurl"),
                    type: t.mtype,
                    data: n.isFunction(t.serializeEditData)
                      ? t.serializeEditData(u)
                      : u,
                    complete: function(a, p) {
                      if (
                        (p != "success"
                          ? ((i[0] = !1),
                            (i[1] = n.isFunction(t.errorTextFormat)
                              ? t.errorTextFormat(a)
                              : p +
                                " Status: '" +
                                a.statusText +
                                "'. Error code: " +
                                a.status))
                          : n.isFunction(t.afterSubmit) &&
                            (i = t.afterSubmit(a, u)),
                        i[0] === !1
                          ? (n("#FormError>td", "#" + e).html(i[1]),
                            n("#FormError", "#" + e).show())
                          : (n.each(f.p.colModel, function() {
                              if (
                                v[this.name] &&
                                this.formatter &&
                                this.formatter == "select"
                              )
                                try {
                                  delete v[this.name];
                                } catch (n) {}
                            }),
                            (u = n.extend(u, v)),
                            f.p.autoencode &&
                              n.each(u, function(t, i) {
                                u[t] = n.jgrid.htmlDecode(i);
                              }),
                            (t.reloadAfterSubmit =
                              t.reloadAfterSubmit && f.p.datatype != "local"),
                            u[y] == h.addoper
                              ? (i[2] ||
                                  (i[2] = parseInt(f.p.records, 10) + 1 + ""),
                                (u[l] = i[2]),
                                t.closeAfterAdd
                                  ? (t.reloadAfterSubmit
                                      ? n(f).trigger("reloadGrid")
                                      : (n(f).jqGrid(
                                          "addRowData",
                                          i[2],
                                          u,
                                          r.addedrow
                                        ),
                                        n(f).jqGrid("setSelection", i[2])),
                                    n.jgrid.hideModal("#" + s.themodal, {
                                      gb: "#gbox_" + c,
                                      jqm: r.jqModal,
                                      onClose: t.onClose
                                    }))
                                  : t.clearAfterAdd
                                  ? (t.reloadAfterSubmit
                                      ? n(f).trigger("reloadGrid")
                                      : n(f).jqGrid(
                                          "addRowData",
                                          i[2],
                                          u,
                                          r.addedrow
                                        ),
                                    d("_empty", f, o))
                                  : t.reloadAfterSubmit
                                  ? n(f).trigger("reloadGrid")
                                  : n(f).jqGrid(
                                      "addRowData",
                                      i[2],
                                      u,
                                      r.addedrow
                                    ))
                              : (t.reloadAfterSubmit
                                  ? (n(f).trigger("reloadGrid"),
                                    t.closeAfterEdit ||
                                      setTimeout(function() {
                                        n(f).jqGrid("setSelection", u[l]);
                                      }, 1e3))
                                  : f.p.treeGrid === !0
                                  ? n(f).jqGrid("setTreeRow", u[l], u)
                                  : n(f).jqGrid("setRowData", u[l], u),
                                t.closeAfterEdit &&
                                  n.jgrid.hideModal("#" + s.themodal, {
                                    gb: "#gbox_" + c,
                                    jqm: r.jqModal,
                                    onClose: t.onClose
                                  })),
                            n.isFunction(t.afterComplete) &&
                              ((b = a),
                              setTimeout(function() {
                                t.afterComplete(b, u, n("#" + o));
                                b = null;
                              }, 500))),
                        (t.processing = !1),
                        (t.checkOnSubmit || t.checkOnUpdate) &&
                          (n("#" + o).data("disabled", !1),
                          t._savedData[f.p.id + "_id"] != "_empty"))
                      )
                        for (var w in t._savedData)
                          u[w] && (t._savedData[w] = u[w]);
                      n("#sData", "#" + e + "_2").removeClass(
                        "ui-state-active"
                      );
                      try {
                        n(":input:visible", "#" + o)[0].focus();
                      } catch (k) {}
                    },
                    error: function(i, r, u) {
                      n("#FormError>td", "#" + e).html(r + " : " + u);
                      n("#FormError", "#" + e).show();
                      t.processing = !1;
                      n("#" + o).data("disabled", !1);
                      n("#sData", "#" + e + "_2").removeClass(
                        "ui-state-active"
                      );
                    }
                  },
                  n.jgrid.ajaxOptions,
                  t.ajaxEditOptions
                )),
                a.url ||
                  t.useDataProxy ||
                  (n.isFunction(f.p.dataProxy)
                    ? (t.useDataProxy = !0)
                    : ((i[0] = !1), (i[1] += " " + n.jgrid.errors.nourl))),
                i[0] &&
                  (t.useDataProxy
                    ? f.p.dataProxy.call(f, a, "set_" + f.p.id)
                    : n.ajax(a)));
              i[0] === !1 &&
                (n("#FormError>td", "#" + e).html(i[1]),
                n("#FormError", "#" + e).show());
            }
            function lt(n, t) {
              var r = !1,
                i;
              for (i in n)
                if (n[i] != t[i]) {
                  r = !0;
                  break;
                }
              return r;
            }
            function y() {
              var i = !0;
              return (
                n("#FormError", "#" + e).hide(),
                t.checkOnUpdate &&
                  ((u = {}),
                  (v = {}),
                  ct(),
                  (tt = n.extend({}, u, v)),
                  (yt = lt(tt, t._savedData)) &&
                    (n("#" + o).data("disabled", !0),
                    n(".confirm", "#" + s.themodal).show(),
                    (i = !1))),
                i
              );
            }
            function at() {
              if (
                i !== "_empty" &&
                typeof f.p.savedRow != "undefined" &&
                f.p.savedRow.length > 0 &&
                n.isFunction(n.fn.jqGrid.restoreRow)
              )
                for (var t = 0; t < f.p.savedRow.length; t++)
                  if (f.p.savedRow[t].id == i) {
                    n(f).jqGrid("restoreRow", i);
                    break;
                  }
            }
            function et(t, i) {
              t === 0
                ? n("#pData", "#" + e + "_2").addClass("ui-state-disabled")
                : n("#pData", "#" + e + "_2").removeClass("ui-state-disabled");
              t == i
                ? n("#nData", "#" + e + "_2").addClass("ui-state-disabled")
                : n("#nData", "#" + e + "_2").removeClass("ui-state-disabled");
            }
            function ot() {
              var t = n(f).jqGrid("getDataIDs"),
                i = n("#id_g", "#" + e).val();
              return [n.inArray(i, t), t];
            }
            var f = this,
              it,
              a,
              w,
              b,
              rt,
              ut,
              ft,
              ht;
            if (f.grid && i) {
              var c = f.p.id,
                o = "FrmGrid_" + c,
                e = "TblGrid_" + c,
                s = {
                  themodal: "editmod" + c,
                  modalhead: "edithd" + c,
                  modalcontent: "editcnt" + c,
                  scrollelm: o
                },
                p = n.isFunction(t.beforeShowForm) ? t.beforeShowForm : !1,
                nt = n.isFunction(t.afterShowForm) ? t.afterShowForm : !1,
                l = n.isFunction(t.beforeInitData) ? t.beforeInitData : !1,
                vt = n.isFunction(t.onInitializeForm) ? t.onInitializeForm : !1,
                h = !0,
                k = 1,
                st = 0,
                u,
                v,
                tt,
                yt;
              if (
                (i == "new"
                  ? ((i = "_empty"), (r.caption = r.addCaption))
                  : (r.caption = r.editCaption),
                r.recreateForm === !0 &&
                  n("#" + s.themodal).html() != null &&
                  n("#" + s.themodal).remove(),
                (it = !0),
                r.checkOnUpdate && r.jqModal && !r.modal && (it = !1),
                n("#" + s.themodal).html() != null)
              ) {
                if (
                  (l &&
                    ((h = l(n("#" + o))), typeof h == "undefined" && (h = !0)),
                  h === !1)
                )
                  return;
                at();
                n(".ui-jqdialog-title", "#" + s.modalhead).html(r.caption);
                n("#FormError", "#" + e).hide();
                t.topinfo
                  ? (n(".topinfo", "#" + e + "_2").html(t.topinfo),
                    n(".tinfo", "#" + e + "_2").show())
                  : n(".tinfo", "#" + e + "_2").hide();
                t.bottominfo
                  ? (n(".bottominfo", "#" + e + "_2").html(t.bottominfo),
                    n(".binfo", "#" + e + "_2").show())
                  : n(".binfo", "#" + e + "_2").hide();
                d(i, f, o);
                i == "_empty" || !t.viewPagerButtons
                  ? n("#pData, #nData", "#" + e + "_2").hide()
                  : n("#pData, #nData", "#" + e + "_2").show();
                t.processing === !0 &&
                  ((t.processing = !1),
                  n("#sData", "#" + e + "_2").removeClass("ui-state-active"));
                n("#" + o).data("disabled") === !0 &&
                  (n(".confirm", "#" + s.themodal).hide(),
                  n("#" + o).data("disabled", !1));
                p && p(n("#" + o));
                n("#" + s.themodal).data("onClose", t.onClose);
                n.jgrid.viewModal("#" + s.themodal, {
                  gbox: "#gbox_" + c,
                  jqm: r.jqModal,
                  jqM: !1,
                  overlay: r.overlay,
                  modal: r.modal
                });
                it ||
                  n(".jqmOverlay").click(function() {
                    return y()
                      ? (n.jgrid.hideModal("#" + s.themodal, {
                          gb: "#gbox_" + c,
                          jqm: r.jqModal,
                          onClose: t.onClose
                        }),
                        !1)
                      : !1;
                  });
                nt && nt(n("#" + o));
              } else {
                if (
                  ((a = isNaN(r.dataheight)
                    ? r.dataheight
                    : r.dataheight + "px"),
                  (a = n(
                    "<form name='FormPost' id='" +
                      o +
                      "' class='FormGrid' onSubmit='return false;' style='width:100%;overflow:auto;position:relative;height:" +
                      a +
                      ";'></form>"
                  ).data("disabled", !1)),
                  (w = n(
                    "<table id='" +
                      e +
                      "' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"
                  )),
                  l &&
                    ((h = l(n("#" + o))), typeof h == "undefined" && (h = !0)),
                  h === !1)
                )
                  return;
                at();
                n(f.p.colModel).each(function() {
                  var n = this.formoptions;
                  k = Math.max(k, n ? n.colpos || 0 : 0);
                  st = Math.max(st, n ? n.rowpos || 0 : 0);
                });
                n(a).append(w);
                l = n(
                  "<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='" +
                    k * 2 +
                    "'></td></tr>"
                );
                l[0].rp = 0;
                n(w).append(l);
                l = n(
                  "<tr style='display:none' class='tinfo'><td class='topinfo' colspan='" +
                    k * 2 +
                    "'>" +
                    t.topinfo +
                    "</td></tr>"
                );
                l[0].rp = 0;
                n(w).append(l);
                h = (l = f.p.direction == "rtl" ? !0 : !1) ? "nData" : "pData";
                b = l ? "pData" : "nData";
                pt(i, f, w, k);
                h =
                  "<a href='javascript:void(0)' id='" +
                  h +
                  "' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></div>";
                b =
                  "<a href='javascript:void(0)' id='" +
                  b +
                  "' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></div>";
                rt =
                  "<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>" +
                  r.bSubmit +
                  "</a>";
                ut =
                  "<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>" +
                  r.bCancel +
                  "</a>";
                h =
                  "<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='" +
                  e +
                  "_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>" +
                  (l ? b + h : h + b) +
                  "</td><td class='EditButton'>" +
                  rt +
                  ut +
                  "</td></tr>";
                h +=
                  "<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>" +
                  t.bottominfo +
                  "</td></tr>";
                h += "</tbody></table>";
                st > 0 &&
                  ((ft = []),
                  n.each(n(w)[0].rows, function(n, t) {
                    ft[n] = t;
                  }),
                  ft.sort(function(n, t) {
                    return n.rp > t.rp ? 1 : n.rp < t.rp ? -1 : 0;
                  }),
                  n.each(ft, function(t, i) {
                    n("tbody", w).append(i);
                  }));
                r.gbox = "#gbox_" + c;
                ht = !1;
                r.closeOnEscape === !0 && ((r.closeOnEscape = !1), (ht = !0));
                a = n("<span></span>")
                  .append(a)
                  .append(h);
                n.jgrid.createModal(
                  s,
                  a,
                  r,
                  "#gview_" + f.p.id,
                  n("#gbox_" + f.p.id)[0]
                );
                l &&
                  (n("#pData, #nData", "#" + e + "_2").css("float", "right"),
                  n(".EditButton", "#" + e + "_2").css("text-align", "left"));
                t.topinfo && n(".tinfo", "#" + e + "_2").show();
                t.bottominfo && n(".binfo", "#" + e + "_2").show();
                h = a = null;
                n("#" + s.themodal).keydown(function(i) {
                  var u = i.target;
                  if (n("#" + o).data("disabled") === !0) return !1;
                  if (
                    t.savekey[0] === !0 &&
                    i.which == t.savekey[1] &&
                    u.tagName != "TEXTAREA"
                  )
                    return n("#sData", "#" + e + "_2").trigger("click"), !1;
                  if (i.which === 27)
                    return y()
                      ? (ht &&
                          n.jgrid.hideModal(this, {
                            gb: r.gbox,
                            jqm: r.jqModal,
                            onClose: t.onClose
                          }),
                        !1)
                      : !1;
                  if (t.navkeys[0] === !0) {
                    if (n("#id_g", "#" + e).val() == "_empty") return !0;
                    if (i.which == t.navkeys[1])
                      return n("#pData", "#" + e + "_2").trigger("click"), !1;
                    if (i.which == t.navkeys[2])
                      return n("#nData", "#" + e + "_2").trigger("click"), !1;
                  }
                });
                r.checkOnUpdate &&
                  (n(
                    "a.ui-jqdialog-titlebar-close span",
                    "#" + s.themodal
                  ).removeClass("jqmClose"),
                  n("a.ui-jqdialog-titlebar-close", "#" + s.themodal)
                    .unbind("click")
                    .click(function() {
                      return y()
                        ? (n.jgrid.hideModal("#" + s.themodal, {
                            gb: "#gbox_" + c,
                            jqm: r.jqModal,
                            onClose: t.onClose
                          }),
                          !1)
                        : !1;
                    }));
                r.saveicon = n.extend([!0, "left", "ui-icon-disk"], r.saveicon);
                r.closeicon = n.extend(
                  [!0, "left", "ui-icon-close"],
                  r.closeicon
                );
                r.saveicon[0] === !0 &&
                  n("#sData", "#" + e + "_2")
                    .addClass(
                      r.saveicon[1] == "right"
                        ? "fm-button-icon-right"
                        : "fm-button-icon-left"
                    )
                    .append(
                      "<span class='ui-icon " + r.saveicon[2] + "'></span>"
                    );
                r.closeicon[0] === !0 &&
                  n("#cData", "#" + e + "_2")
                    .addClass(
                      r.closeicon[1] == "right"
                        ? "fm-button-icon-right"
                        : "fm-button-icon-left"
                    )
                    .append(
                      "<span class='ui-icon " + r.closeicon[2] + "'></span>"
                    );
                (t.checkOnSubmit || t.checkOnUpdate) &&
                  ((rt =
                    "<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>" +
                    r.bYes +
                    "</a>"),
                  (b =
                    "<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>" +
                    r.bNo +
                    "</a>"),
                  (ut =
                    "<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>" +
                    r.bExit +
                    "</a>"),
                  (a = r.zIndex || 999),
                  a++,
                  n(
                    "<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:" +
                      a +
                      ";display:none;'>&#160;" +
                      (n.browser.msie && n.browser.version == 6
                        ? '<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>'
                        : "") +
                      "</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:" +
                      (a + 1) +
                      "'>" +
                      r.saveData +
                      "<br/><br/>" +
                      rt +
                      b +
                      ut +
                      "</div>"
                  ).insertAfter("#" + o),
                  n("#sNew", "#" + s.themodal).click(function() {
                    return (
                      g(),
                      n("#" + o).data("disabled", !1),
                      n(".confirm", "#" + s.themodal).hide(),
                      !1
                    );
                  }),
                  n("#nNew", "#" + s.themodal).click(function() {
                    return (
                      n(".confirm", "#" + s.themodal).hide(),
                      n("#" + o).data("disabled", !1),
                      setTimeout(function() {
                        n(":input", "#" + o)[0].focus();
                      }, 0),
                      !1
                    );
                  }),
                  n("#cNew", "#" + s.themodal).click(function() {
                    return (
                      n(".confirm", "#" + s.themodal).hide(),
                      n("#" + o).data("disabled", !1),
                      n.jgrid.hideModal("#" + s.themodal, {
                        gb: "#gbox_" + c,
                        jqm: r.jqModal,
                        onClose: t.onClose
                      }),
                      !1
                    );
                  }));
                vt && vt(n("#" + o));
                i == "_empty" || !t.viewPagerButtons
                  ? n("#pData,#nData", "#" + e + "_2").hide()
                  : n("#pData,#nData", "#" + e + "_2").show();
                p && p(n("#" + o));
                n("#" + s.themodal).data("onClose", t.onClose);
                n.jgrid.viewModal("#" + s.themodal, {
                  gbox: "#gbox_" + c,
                  jqm: r.jqModal,
                  overlay: r.overlay,
                  modal: r.modal
                });
                it ||
                  n(".jqmOverlay").click(function() {
                    return y()
                      ? (n.jgrid.hideModal("#" + s.themodal, {
                          gb: "#gbox_" + c,
                          jqm: r.jqModal,
                          onClose: t.onClose
                        }),
                        !1)
                      : !1;
                  });
                nt && nt(n("#" + o));
                n(".fm-button", "#" + s.themodal).hover(
                  function() {
                    n(this).addClass("ui-state-hover");
                  },
                  function() {
                    n(this).removeClass("ui-state-hover");
                  }
                );
                n("#sData", "#" + e + "_2").click(function() {
                  return (
                    (u = {}),
                    (v = {}),
                    n("#FormError", "#" + e).hide(),
                    ct(),
                    u[f.p.id + "_id"] == "_empty"
                      ? g()
                      : r.checkOnSubmit === !0
                      ? ((tt = n.extend({}, u, v)),
                        (yt = lt(tt, t._savedData))
                          ? (n("#" + o).data("disabled", !0),
                            n(".confirm", "#" + s.themodal).show())
                          : g())
                      : g(),
                    !1
                  );
                });
                n("#cData", "#" + e + "_2").click(function() {
                  return y()
                    ? (n.jgrid.hideModal("#" + s.themodal, {
                        gb: "#gbox_" + c,
                        jqm: r.jqModal,
                        onClose: t.onClose
                      }),
                      !1)
                    : !1;
                });
                n("#nData", "#" + e + "_2").click(function() {
                  if (!y()) return !1;
                  n("#FormError", "#" + e).hide();
                  var t = ot();
                  return (
                    (t[0] = parseInt(t[0], 10)),
                    t[0] != -1 &&
                      t[1][t[0] + 1] &&
                      (n.isFunction(r.onclickPgButtons) &&
                        r.onclickPgButtons("next", n("#" + o), t[1][t[0]]),
                      d(t[1][t[0] + 1], f, o),
                      n(f).jqGrid("setSelection", t[1][t[0] + 1]),
                      n.isFunction(r.afterclickPgButtons) &&
                        r.afterclickPgButtons(
                          "next",
                          n("#" + o),
                          t[1][t[0] + 1]
                        ),
                      et(t[0] + 1, t[1].length - 1)),
                    !1
                  );
                });
                n("#pData", "#" + e + "_2").click(function() {
                  if (!y()) return !1;
                  n("#FormError", "#" + e).hide();
                  var t = ot();
                  return (
                    t[0] != -1 &&
                      t[1][t[0] - 1] &&
                      (n.isFunction(r.onclickPgButtons) &&
                        r.onclickPgButtons("prev", n("#" + o), t[1][t[0]]),
                      d(t[1][t[0] - 1], f, o),
                      n(f).jqGrid("setSelection", t[1][t[0] - 1]),
                      n.isFunction(r.afterclickPgButtons) &&
                        r.afterclickPgButtons(
                          "prev",
                          n("#" + o),
                          t[1][t[0] - 1]
                        ),
                      et(t[0] - 1, t[1].length - 1)),
                    !1
                  );
                });
              }
              p = ot();
              et(p[0], p[1].length - 1);
            }
          })
        );
      },
      viewGridRow: function(t, i) {
        return (
          (i = n.extend(
            {
              top: 0,
              left: 0,
              width: 0,
              height: "auto",
              dataheight: "auto",
              modal: !1,
              overlay: 10,
              drag: !0,
              resize: !0,
              jqModal: !0,
              closeOnEscape: !1,
              labelswidth: "30%",
              closeicon: [],
              navkeys: [!1, 38, 40],
              onClose: null,
              beforeShowForm: null,
              beforeInitData: null,
              viewPagerButtons: !0
            },
            n.jgrid.view,
            i || {}
          )),
          this.each(function() {
            function a() {
              (i.closeOnEscape === !0 || i.navkeys[0] === !0) &&
                setTimeout(function() {
                  n(".ui-jqdialog-titlebar-close", "#" + c.modalhead).focus();
                }, 0);
            }
            function tt(t, r, u, f) {
              for (
                var e,
                  a,
                  o,
                  s = 0,
                  w,
                  b,
                  k = [],
                  h = !1,
                  nt =
                    "<td class='CaptionTD form-view-label ui-widget-content' width='" +
                    i.labelswidth +
                    "'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",
                  d = "",
                  tt = ["integer", "number", "currency"],
                  c = 0,
                  l = 0,
                  v,
                  y,
                  g,
                  p = 1;
                p <= f;
                p++
              )
                d +=
                  p == 1
                    ? nt
                    : "<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";
              return (
                n(r.p.colModel).each(function() {
                  a =
                    this.editrules && this.editrules.edithidden === !0
                      ? !1
                      : this.hidden === !0
                      ? !0
                      : !1;
                  a ||
                    this.align !== "right" ||
                    (this.formatter && n.inArray(this.formatter, tt) !== -1
                      ? (c = Math.max(c, parseInt(this.width, 10)))
                      : (l = Math.max(l, parseInt(this.width, 10))));
                }),
                (v = c !== 0 ? c : l !== 0 ? l : 0),
                (h = n(r).jqGrid("getInd", t)),
                n(r.p.colModel).each(function(t) {
                  var p;
                  if (
                    ((e = this.name),
                    (y = !1),
                    (b = (a =
                      this.editrules && this.editrules.edithidden === !0
                        ? !1
                        : this.hidden === !0
                        ? !0
                        : !1)
                      ? "style='display:none'"
                      : ""),
                    (g =
                      typeof this.viewable != "boolean" ? !0 : this.viewable),
                    e !== "cb" && e !== "subgrid" && e !== "rn" && g)
                  ) {
                    w =
                      h === !1
                        ? ""
                        : e == r.p.ExpandColumn && r.p.treeGrid === !0
                        ? n("td:eq(" + t + ")", r.rows[h]).text()
                        : n("td:eq(" + t + ")", r.rows[h]).html();
                    y = this.align === "right" && v !== 0 ? !0 : !1;
                    n.extend({}, this.editoptions || {}, { id: e, name: e });
                    var i = n.extend(
                        {},
                        { rowabove: !1, rowcontent: "" },
                        this.formoptions || {}
                      ),
                      c = parseInt(i.rowpos, 10) || s + 1,
                      l = parseInt((parseInt(i.colpos, 10) || 1) * 2, 10);
                    i.rowabove &&
                      ((p = n(
                        "<tr><td class='contentinfo' colspan='" +
                          f * 2 +
                          "'>" +
                          i.rowcontent +
                          "</td></tr>"
                      )),
                      n(u).append(p),
                      (p[0].rp = c));
                    o = n(u).find("tr[rowpos=" + c + "]");
                    o.length === 0 &&
                      ((o = n("<tr " + b + " rowpos='" + c + "'></tr>")
                        .addClass("FormData")
                        .attr("id", "trv_" + e)),
                      n(o).append(d),
                      n(u).append(o),
                      (o[0].rp = c));
                    n("td:eq(" + (l - 2) + ")", o[0]).html(
                      "<b>" +
                        (typeof i.label == "undefined"
                          ? r.p.colNames[t]
                          : i.label) +
                        "</b>"
                    );
                    n("td:eq(" + (l - 1) + ")", o[0])
                      .append("<span>" + w + "</span>")
                      .attr("id", "v_" + e);
                    y &&
                      n("td:eq(" + (l - 1) + ") span", o[0]).css({
                        "text-align": "right",
                        width: v + "px"
                      });
                    k[s] = t;
                    s++;
                  }
                }),
                s > 0 &&
                  ((t = n(
                    "<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='" +
                      (f * 2 - 1) +
                      "' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='" +
                      t +
                      "'/></td></tr>"
                  )),
                  (t[0].rp = s + 99),
                  n(u).append(t)),
                k
              );
            }
            function y(t, i) {
              var u,
                f,
                e = 0,
                o,
                s;
              (s = n(i).jqGrid("getInd", t, !0)) &&
                (n("td", s).each(function(t) {
                  u = i.p.colModel[t].name;
                  f =
                    i.p.colModel[t].editrules &&
                    i.p.colModel[t].editrules.edithidden === !0
                      ? !1
                      : i.p.colModel[t].hidden === !0
                      ? !0
                      : !1;
                  u !== "cb" &&
                    u !== "subgrid" &&
                    u !== "rn" &&
                    ((o =
                      u == i.p.ExpandColumn && i.p.treeGrid === !0
                        ? n(this).text()
                        : n(this).html()),
                    n.extend({}, i.p.colModel[t].editoptions || {}),
                    (u = n.jgrid.jqID("v_" + u)),
                    n("#" + u + " span", "#" + r).html(o),
                    f &&
                      n("#" + u, "#" + r)
                        .parents("tr:first")
                        .hide(),
                    e++);
                }),
                e > 0 && n("#id_g", "#" + r).val(t));
            }
            function p(t, i) {
              t === 0
                ? n("#pData", "#" + r + "_2").addClass("ui-state-disabled")
                : n("#pData", "#" + r + "_2").removeClass("ui-state-disabled");
              t == i
                ? n("#nData", "#" + r + "_2").addClass("ui-state-disabled")
                : n("#nData", "#" + r + "_2").removeClass("ui-state-disabled");
            }
            function w() {
              var t = n(u).jqGrid("getDataIDs"),
                i = n("#id_g", "#" + r).val();
              return [n.inArray(i, t), t];
            }
            var u = this,
              e,
              l,
              d,
              nt,
              v,
              g;
            if (u.grid && t) {
              i.imgpath || (i.imgpath = u.p.imgpath);
              var s = u.p.id,
                o = "ViewGrid_" + s,
                r = "ViewTbl_" + s,
                c = {
                  themodal: "viewmod" + s,
                  modalhead: "viewhd" + s,
                  modalcontent: "viewcnt" + s,
                  scrollelm: o
                },
                h = n.isFunction(i.beforeInitData) ? i.beforeInitData : !1,
                f = !0,
                b = 1,
                k = 0;
              if (n("#" + c.themodal).html() != null) {
                if (
                  (h &&
                    ((f = h(n("#" + o))), typeof f == "undefined" && (f = !0)),
                  f === !1)
                )
                  return;
                n(".ui-jqdialog-title", "#" + c.modalhead).html(i.caption);
                n("#FormError", "#" + r).hide();
                y(t, u);
                n.isFunction(i.beforeShowForm) && i.beforeShowForm(n("#" + o));
                n.jgrid.viewModal("#" + c.themodal, {
                  gbox: "#gbox_" + s,
                  jqm: i.jqModal,
                  jqM: !1,
                  overlay: i.overlay,
                  modal: i.modal
                });
                a();
              } else {
                if (
                  ((e = isNaN(i.dataheight)
                    ? i.dataheight
                    : i.dataheight + "px"),
                  (e = n(
                    "<form name='FormPost' id='" +
                      o +
                      "' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:" +
                      e +
                      ";'></form>"
                  )),
                  (l = n(
                    "<table id='" +
                      r +
                      "' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>"
                  )),
                  h &&
                    ((f = h(n("#" + o))), typeof f == "undefined" && (f = !0)),
                  f === !1)
                )
                  return;
                n(u.p.colModel).each(function() {
                  var n = this.formoptions;
                  b = Math.max(b, n ? n.colpos || 0 : 0);
                  k = Math.max(k, n ? n.rowpos || 0 : 0);
                });
                n(e).append(l);
                tt(t, u, l, b);
                h = u.p.direction == "rtl" ? !0 : !1;
                f =
                  "<a href='javascript:void(0)' id='" +
                  (h ? "nData" : "pData") +
                  "' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>";
                d =
                  "<a href='javascript:void(0)' id='" +
                  (h ? "pData" : "nData") +
                  "' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>";
                nt =
                  "<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>" +
                  i.bClose +
                  "</a>";
                k > 0 &&
                  ((v = []),
                  n.each(n(l)[0].rows, function(n, t) {
                    v[n] = t;
                  }),
                  v.sort(function(n, t) {
                    return n.rp > t.rp ? 1 : n.rp < t.rp ? -1 : 0;
                  }),
                  n.each(v, function(t, i) {
                    n("tbody", l).append(i);
                  }));
                i.gbox = "#gbox_" + s;
                g = !1;
                i.closeOnEscape === !0 && ((i.closeOnEscape = !1), (g = !0));
                e = n("<span></span>")
                  .append(e)
                  .append(
                    "<table border='0' class='EditTable' id='" +
                      r +
                      "_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='" +
                      i.labelswidth +
                      "'>" +
                      (h ? d + f : f + d) +
                      "</td><td class='EditButton'>" +
                      nt +
                      "</td></tr></tbody></table>"
                  );
                n.jgrid.createModal(
                  c,
                  e,
                  i,
                  "#gview_" + u.p.id,
                  n("#gview_" + u.p.id)[0]
                );
                h &&
                  (n("#pData, #nData", "#" + r + "_2").css("float", "right"),
                  n(".EditButton", "#" + r + "_2").css("text-align", "left"));
                i.viewPagerButtons ||
                  n("#pData, #nData", "#" + r + "_2").hide();
                e = null;
                n("#" + c.themodal).keydown(function(t) {
                  if (t.which === 27)
                    return (
                      g &&
                        n.jgrid.hideModal(this, {
                          gb: i.gbox,
                          jqm: i.jqModal,
                          onClose: i.onClose
                        }),
                      !1
                    );
                  if (i.navkeys[0] === !0) {
                    if (t.which === i.navkeys[1])
                      return n("#pData", "#" + r + "_2").trigger("click"), !1;
                    if (t.which === i.navkeys[2])
                      return n("#nData", "#" + r + "_2").trigger("click"), !1;
                  }
                });
                i.closeicon = n.extend(
                  [!0, "left", "ui-icon-close"],
                  i.closeicon
                );
                i.closeicon[0] === !0 &&
                  n("#cData", "#" + r + "_2")
                    .addClass(
                      i.closeicon[1] == "right"
                        ? "fm-button-icon-right"
                        : "fm-button-icon-left"
                    )
                    .append(
                      "<span class='ui-icon " + i.closeicon[2] + "'></span>"
                    );
                n.isFunction(i.beforeShowForm) && i.beforeShowForm(n("#" + o));
                n.jgrid.viewModal("#" + c.themodal, {
                  gbox: "#gbox_" + s,
                  jqm: i.jqModal,
                  modal: i.modal
                });
                n(".fm-button:not(.ui-state-disabled)", "#" + r + "_2").hover(
                  function() {
                    n(this).addClass("ui-state-hover");
                  },
                  function() {
                    n(this).removeClass("ui-state-hover");
                  }
                );
                a();
                n("#cData", "#" + r + "_2").click(function() {
                  return (
                    n.jgrid.hideModal("#" + c.themodal, {
                      gb: "#gbox_" + s,
                      jqm: i.jqModal,
                      onClose: i.onClose
                    }),
                    !1
                  );
                });
                n("#nData", "#" + r + "_2").click(function() {
                  n("#FormError", "#" + r).hide();
                  var t = w();
                  return (
                    (t[0] = parseInt(t[0], 10)),
                    t[0] != -1 &&
                      t[1][t[0] + 1] &&
                      (n.isFunction(i.onclickPgButtons) &&
                        i.onclickPgButtons("next", n("#" + o), t[1][t[0]]),
                      y(t[1][t[0] + 1], u),
                      n(u).jqGrid("setSelection", t[1][t[0] + 1]),
                      n.isFunction(i.afterclickPgButtons) &&
                        i.afterclickPgButtons(
                          "next",
                          n("#" + o),
                          t[1][t[0] + 1]
                        ),
                      p(t[0] + 1, t[1].length - 1)),
                    a(),
                    !1
                  );
                });
                n("#pData", "#" + r + "_2").click(function() {
                  n("#FormError", "#" + r).hide();
                  var t = w();
                  return (
                    t[0] != -1 &&
                      t[1][t[0] - 1] &&
                      (n.isFunction(i.onclickPgButtons) &&
                        i.onclickPgButtons("prev", n("#" + o), t[1][t[0]]),
                      y(t[1][t[0] - 1], u),
                      n(u).jqGrid("setSelection", t[1][t[0] - 1]),
                      n.isFunction(i.afterclickPgButtons) &&
                        i.afterclickPgButtons(
                          "prev",
                          n("#" + o),
                          t[1][t[0] - 1]
                        ),
                      p(t[0] - 1, t[1].length - 1)),
                    a(),
                    !1
                  );
                });
              }
              e = w();
              p(e[0], e[1].length - 1);
            }
          })
        );
      },
      delGridRow: function(i, r) {
        return (
          (t = r = n.extend(
            {
              top: 0,
              left: 0,
              width: 240,
              height: "auto",
              dataheight: "auto",
              modal: !1,
              overlay: 10,
              drag: !0,
              resize: !0,
              url: "",
              mtype: "POST",
              reloadAfterSubmit: !0,
              beforeShowForm: null,
              beforeInitData: null,
              afterShowForm: null,
              beforeSubmit: null,
              onclickSubmit: null,
              afterSubmit: null,
              jqModal: !0,
              closeOnEscape: !1,
              delData: {},
              delicon: [],
              cancelicon: [],
              onClose: null,
              ajaxDelOptions: {},
              processing: !1,
              serializeDelData: null,
              useDataProxy: !1
            },
            n.jgrid.del,
            r || {}
          )),
          this.each(function() {
            var f = this;
            if (f.grid && i) {
              var v = typeof r.beforeShowForm == "function" ? !0 : !1,
                w = typeof r.afterShowForm == "function" ? !0 : !1,
                e = n.isFunction(r.beforeInitData) ? r.beforeInitData : !1,
                o = f.p.id,
                a = {},
                s = !0,
                u = "DelTbl_" + o,
                c,
                y,
                l,
                p,
                h = {
                  themodal: "delmod" + o,
                  modalhead: "delhd" + o,
                  modalcontent: "delcnt" + o,
                  scrollelm: u
                };
              if (
                (jQuery.isArray(i) && (i = i.join()),
                n("#" + h.themodal).html() != null)
              ) {
                if (
                  (e && ((s = e()), typeof s == "undefined" && (s = !0)),
                  s === !1)
                )
                  return;
                n("#DelData>td", "#" + u).text(i);
                n("#DelError", "#" + u).hide();
                t.processing === !0 &&
                  ((t.processing = !1),
                  n("#dData", "#" + u).removeClass("ui-state-active"));
                v && r.beforeShowForm(n("#" + u));
                n.jgrid.viewModal("#" + h.themodal, {
                  gbox: "#gbox_" + o,
                  jqm: r.jqModal,
                  jqM: !1,
                  overlay: r.overlay,
                  modal: r.modal
                });
              } else {
                if (
                  (e && ((s = e()), typeof s == "undefined" && (s = !0)),
                  s === !1)
                )
                  return;
                e = isNaN(r.dataheight) ? r.dataheight : r.dataheight + "px";
                e =
                  "<div id='" +
                  u +
                  "' class='formdata' style='width:100%;overflow:auto;position:relative;height:" +
                  e +
                  ";'>";
                e += "<table class='DelTable'><tbody>";
                e +=
                  "<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>";
                e +=
                  "<tr id='DelData' style='display:none'><td >" +
                  i +
                  "</td></tr>";
                e +=
                  '<tr><td class="delmsg" style="white-space:pre;">' +
                  r.msg +
                  "</td></tr><tr><td >&#160;</td></tr>";
                e += "</tbody></table></div>";
                e +=
                  "<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='" +
                  u +
                  "_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr></tr><tr><td class='DelButton EditButton'>" +
                  ("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>" +
                    r.bSubmit +
                    "</a>") +
                  "&#160;" +
                  ("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>" +
                    r.bCancel +
                    "</a>") +
                  "</td></tr></tbody></table>";
                r.gbox = "#gbox_" + o;
                n.jgrid.createModal(
                  h,
                  e,
                  r,
                  "#gview_" + f.p.id,
                  n("#gview_" + f.p.id)[0]
                );
                n(".fm-button", "#" + u + "_2").hover(
                  function() {
                    n(this).addClass("ui-state-hover");
                  },
                  function() {
                    n(this).removeClass("ui-state-hover");
                  }
                );
                r.delicon = n.extend(
                  [!0, "left", "ui-icon-scissors"],
                  r.delicon
                );
                r.cancelicon = n.extend(
                  [!0, "left", "ui-icon-cancel"],
                  r.cancelicon
                );
                r.delicon[0] === !0 &&
                  n("#dData", "#" + u + "_2")
                    .addClass(
                      r.delicon[1] == "right"
                        ? "fm-button-icon-right"
                        : "fm-button-icon-left"
                    )
                    .append(
                      "<span class='ui-icon " + r.delicon[2] + "'></span>"
                    );
                r.cancelicon[0] === !0 &&
                  n("#eData", "#" + u + "_2")
                    .addClass(
                      r.cancelicon[1] == "right"
                        ? "fm-button-icon-right"
                        : "fm-button-icon-left"
                    )
                    .append(
                      "<span class='ui-icon " + r.cancelicon[2] + "'></span>"
                    );
                n("#dData", "#" + u + "_2").click(function() {
                  var i = [!0, ""],
                    e,
                    s;
                  return (
                    (a = {}),
                    (e = n("#DelData>td", "#" + u).text()),
                    typeof r.onclickSubmit == "function" &&
                      (a = r.onclickSubmit(t, e) || {}),
                    typeof r.beforeSubmit == "function" &&
                      (i = r.beforeSubmit(e)),
                    i[0] &&
                      !t.processing &&
                      ((t.processing = !0),
                      n(this).addClass("ui-state-active"),
                      (l = f.p.prmNames),
                      (c = n.extend({}, t.delData, a)),
                      (p = l.oper),
                      (c[p] = l.deloper),
                      (y = l.id),
                      (c[y] = e),
                      (s = n.extend(
                        {
                          url: t.url
                            ? t.url
                            : n(f).jqGrid("getGridParam", "editurl"),
                          type: r.mtype,
                          data: n.isFunction(r.serializeDelData)
                            ? r.serializeDelData(c)
                            : c,
                          complete: function(s, l) {
                            if (
                              (l != "success"
                                ? ((i[0] = !1),
                                  (i[1] = n.isFunction(t.errorTextFormat)
                                    ? t.errorTextFormat(s)
                                    : l +
                                      " Status: '" +
                                      s.statusText +
                                      "'. Error code: " +
                                      s.status))
                                : typeof t.afterSubmit == "function" &&
                                  (i = t.afterSubmit(s, c)),
                              i[0] === !1)
                            )
                              n("#DelError>td", "#" + u).html(i[1]),
                                n("#DelError", "#" + u).show();
                            else {
                              if (
                                t.reloadAfterSubmit &&
                                f.p.datatype != "local"
                              )
                                n(f).trigger("reloadGrid");
                              else {
                                if (
                                  ((l = []),
                                  (l = e.split(",")),
                                  f.p.treeGrid === !0)
                                )
                                  try {
                                    n(f).jqGrid("delTreeNode", l[0]);
                                  } catch (v) {}
                                else
                                  for (var a = 0; a < l.length; a++)
                                    n(f).jqGrid("delRowData", l[a]);
                                f.p.selrow = null;
                                f.p.selarrrow = [];
                              }
                              n.isFunction(t.afterComplete) &&
                                setTimeout(function() {
                                  t.afterComplete(s, e);
                                }, 500);
                            }
                            t.processing = !1;
                            n("#dData", "#" + u + "_2").removeClass(
                              "ui-state-active"
                            );
                            i[0] &&
                              n.jgrid.hideModal("#" + h.themodal, {
                                gb: "#gbox_" + o,
                                jqm: r.jqModal,
                                onClose: t.onClose
                              });
                          },
                          error: function(i, r, f) {
                            n("#DelError>td", "#" + u).html(r + " : " + f);
                            n("#DelError", "#" + u).show();
                            t.processing = !1;
                            n("#dData", "#" + u + "_2").removeClass(
                              "ui-state-active"
                            );
                          }
                        },
                        n.jgrid.ajaxOptions,
                        r.ajaxDelOptions
                      )),
                      s.url ||
                        t.useDataProxy ||
                        (n.isFunction(f.p.dataProxy)
                          ? (t.useDataProxy = !0)
                          : ((i[0] = !1),
                            (i[1] += " " + n.jgrid.errors.nourl))),
                      i[0] &&
                        (t.useDataProxy
                          ? f.p.dataProxy.call(f, s, "del_" + f.p.id)
                          : n.ajax(s))),
                    i[0] === !1 &&
                      (n("#DelError>td", "#" + u).html(i[1]),
                      n("#DelError", "#" + u).show()),
                    !1
                  );
                });
                n("#eData", "#" + u + "_2").click(function() {
                  return (
                    n.jgrid.hideModal("#" + h.themodal, {
                      gb: "#gbox_" + o,
                      jqm: r.jqModal,
                      onClose: t.onClose
                    }),
                    !1
                  );
                });
                v && r.beforeShowForm(n("#" + u));
                n.jgrid.viewModal("#" + h.themodal, {
                  gbox: "#gbox_" + o,
                  jqm: r.jqModal,
                  overlay: r.overlay,
                  modal: r.modal
                });
              }
              w && r.afterShowForm(n("#" + u));
              r.closeOnEscape === !0 &&
                setTimeout(function() {
                  n(".ui-jqdialog-titlebar-close", "#" + h.modalhead).focus();
                }, 0);
            }
          })
        );
      },
      navGrid: function(t, i, r, u, f, e, o) {
        return (
          (i = n.extend(
            {
              edit: !0,
              editicon: "ui-icon-pencil",
              add: !0,
              addicon: "ui-icon-plus",
              del: !0,
              delicon: "ui-icon-trash",
              search: !0,
              searchicon: "ui-icon-search",
              refresh: !0,
              refreshicon: "ui-icon-refresh",
              refreshstate: "firstpage",
              view: !1,
              viewicon: "ui-icon-document",
              position: "left",
              closeOnEscape: !0,
              beforeRefresh: null,
              afterRefresh: null,
              cloneToTop: !1
            },
            n.jgrid.nav,
            i || {}
          )),
          this.each(function() {
            var p = {
                themodal: "alertmod",
                modalhead: "alerthd",
                modalcontent: "alertcnt"
              },
              h = this,
              a,
              v,
              s,
              c,
              y,
              l;
            if (!(!h.grid || typeof t != "string"))
              for (
                n("#" + p.themodal).html() === null &&
                  (typeof window.innerWidth != "undefined"
                    ? ((a = window.innerWidth), (v = window.innerHeight))
                    : typeof document.documentElement != "undefined" &&
                      typeof document.documentElement.clientWidth !=
                        "undefined" &&
                      document.documentElement.clientWidth !== 0
                    ? ((a = document.documentElement.clientWidth),
                      (v = document.documentElement.clientHeight))
                    : ((a = 1024), (v = 768)),
                  n.jgrid.createModal(
                    p,
                    "<div>" +
                      i.alerttext +
                      "</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",
                    {
                      gbox: "#gbox_" + h.p.id,
                      jqModal: !0,
                      drag: !0,
                      resize: !0,
                      caption: i.alertcap,
                      top: v / 2 - 25,
                      left: a / 2 - 100,
                      width: 200,
                      height: "auto",
                      closeOnEscape: i.closeOnEscape
                    },
                    "",
                    "",
                    !0
                  )),
                  a = 1,
                  i.cloneToTop && h.p.toppager && (a = 2),
                  v = 0;
                v < a;
                v++
              )
                (c = n(
                  "<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"
                )),
                  v === 0
                    ? ((y = t),
                      (l = h.p.id),
                      y == h.p.toppager && ((l += "_top"), (a = 1)))
                    : ((y = h.p.toppager), (l = h.p.id + "_top")),
                  h.p.direction == "rtl" &&
                    n(c)
                      .attr("dir", "rtl")
                      .css("float", "right"),
                  i.add &&
                    ((u = u || {}),
                    (s = n("<td class='ui-pg-button ui-corner-all'></td>")),
                    n(s).append(
                      "<div class='ui-pg-div'><span class='ui-icon " +
                        i.addicon +
                        "'></span>" +
                        i.addtext +
                        "</div>"
                    ),
                    n("tr", c).append(s),
                    n(s, c)
                      .attr({ title: i.addtitle || "", id: u.id || "add_" + l })
                      .click(function() {
                        return (
                          n(this).hasClass("ui-state-disabled") ||
                            (typeof i.addfunc == "function"
                              ? i.addfunc()
                              : n(h).jqGrid("editGridRow", "new", u)),
                          !1
                        );
                      })
                      .hover(
                        function() {
                          n(this).hasClass("ui-state-disabled") ||
                            n(this).addClass("ui-state-hover");
                        },
                        function() {
                          n(this).removeClass("ui-state-hover");
                        }
                      ),
                    (s = null)),
                  i.edit &&
                    ((s = n("<td class='ui-pg-button ui-corner-all'></td>")),
                    (r = r || {}),
                    n(s).append(
                      "<div class='ui-pg-div'><span class='ui-icon " +
                        i.editicon +
                        "'></span>" +
                        i.edittext +
                        "</div>"
                    ),
                    n("tr", c).append(s),
                    n(s, c)
                      .attr({
                        title: i.edittitle || "",
                        id: r.id || "edit_" + l
                      })
                      .click(function() {
                        if (!n(this).hasClass("ui-state-disabled")) {
                          var t = h.p.selrow;
                          t
                            ? typeof i.editfunc == "function"
                              ? i.editfunc(t)
                              : n(h).jqGrid("editGridRow", t, r)
                            : (n.jgrid.viewModal("#" + p.themodal, {
                                gbox: "#gbox_" + h.p.id,
                                jqm: !0
                              }),
                              n("#jqg_alrt").focus());
                        }
                        return !1;
                      })
                      .hover(
                        function() {
                          n(this).hasClass("ui-state-disabled") ||
                            n(this).addClass("ui-state-hover");
                        },
                        function() {
                          n(this).removeClass("ui-state-hover");
                        }
                      ),
                    (s = null)),
                  i.view &&
                    ((s = n("<td class='ui-pg-button ui-corner-all'></td>")),
                    (o = o || {}),
                    n(s).append(
                      "<div class='ui-pg-div'><span class='ui-icon " +
                        i.viewicon +
                        "'></span>" +
                        i.viewtext +
                        "</div>"
                    ),
                    n("tr", c).append(s),
                    n(s, c)
                      .attr({
                        title: i.viewtitle || "",
                        id: o.id || "view_" + l
                      })
                      .click(function() {
                        if (!n(this).hasClass("ui-state-disabled")) {
                          var t = h.p.selrow;
                          t
                            ? n(h).jqGrid("viewGridRow", t, o)
                            : (n.jgrid.viewModal("#" + p.themodal, {
                                gbox: "#gbox_" + h.p.id,
                                jqm: !0
                              }),
                              n("#jqg_alrt").focus());
                        }
                        return !1;
                      })
                      .hover(
                        function() {
                          n(this).hasClass("ui-state-disabled") ||
                            n(this).addClass("ui-state-hover");
                        },
                        function() {
                          n(this).removeClass("ui-state-hover");
                        }
                      ),
                    (s = null)),
                  i.del &&
                    ((s = n("<td class='ui-pg-button ui-corner-all'></td>")),
                    (f = f || {}),
                    n(s).append(
                      "<div class='ui-pg-div'><span class='ui-icon " +
                        i.delicon +
                        "'></span>" +
                        i.deltext +
                        "</div>"
                    ),
                    n("tr", c).append(s),
                    n(s, c)
                      .attr({ title: i.deltitle || "", id: f.id || "del_" + l })
                      .click(function() {
                        if (!n(this).hasClass("ui-state-disabled")) {
                          var t;
                          h.p.multiselect
                            ? ((t = h.p.selarrrow),
                              t.length === 0 && (t = null))
                            : (t = h.p.selrow);
                          t
                            ? "function" == typeof i.delfunc
                              ? i.delfunc(t)
                              : n(h).jqGrid("delGridRow", t, f)
                            : (n.jgrid.viewModal("#" + p.themodal, {
                                gbox: "#gbox_" + h.p.id,
                                jqm: !0
                              }),
                              n("#jqg_alrt").focus());
                        }
                        return !1;
                      })
                      .hover(
                        function() {
                          n(this).hasClass("ui-state-disabled") ||
                            n(this).addClass("ui-state-hover");
                        },
                        function() {
                          n(this).removeClass("ui-state-hover");
                        }
                      ),
                    (s = null)),
                  (i.add || i.edit || i.del || i.view) &&
                    n("tr", c).append(
                      "<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"
                    ),
                  i.search &&
                    ((s = n("<td class='ui-pg-button ui-corner-all'></td>")),
                    (e = e || {}),
                    n(s).append(
                      "<div class='ui-pg-div'><span class='ui-icon " +
                        i.searchicon +
                        "'></span>" +
                        i.searchtext +
                        "</div>"
                    ),
                    n("tr", c).append(s),
                    n(s, c)
                      .attr({
                        title: i.searchtitle || "",
                        id: e.id || "search_" + l
                      })
                      .click(function() {
                        return (
                          n(this).hasClass("ui-state-disabled") ||
                            n(h).jqGrid("searchGrid", e),
                          !1
                        );
                      })
                      .hover(
                        function() {
                          n(this).hasClass("ui-state-disabled") ||
                            n(this).addClass("ui-state-hover");
                        },
                        function() {
                          n(this).removeClass("ui-state-hover");
                        }
                      ),
                    (s = null)),
                  i.refresh &&
                    ((s = n("<td class='ui-pg-button ui-corner-all'></td>")),
                    n(s).append(
                      "<div class='ui-pg-div'><span class='ui-icon " +
                        i.refreshicon +
                        "'></span>" +
                        i.refreshtext +
                        "</div>"
                    ),
                    n("tr", c).append(s),
                    n(s, c)
                      .attr({ title: i.refreshtitle || "", id: "refresh_" + l })
                      .click(function() {
                        if (!n(this).hasClass("ui-state-disabled")) {
                          n.isFunction(i.beforeRefresh) && i.beforeRefresh();
                          h.p.search = !1;
                          try {
                            n("#fbox_" + h.p.id)
                              .searchFilter()
                              .reset({ reload: !1 });
                            n.isFunction(h.clearToolbar) && h.clearToolbar(!1);
                          } catch (t) {}
                          switch (i.refreshstate) {
                            case "firstpage":
                              n(h).trigger("reloadGrid", [{ page: 1 }]);
                              break;
                            case "current":
                              n(h).trigger("reloadGrid", [{ current: !0 }]);
                          }
                          n.isFunction(i.afterRefresh) && i.afterRefresh();
                        }
                        return !1;
                      })
                      .hover(
                        function() {
                          n(this).hasClass("ui-state-disabled") ||
                            n(this).addClass("ui-state-hover");
                        },
                        function() {
                          n(this).removeClass("ui-state-hover");
                        }
                      ),
                    (s = null)),
                  (s = n(".ui-jqgrid").css("font-size") || "11px"),
                  n("body").append(
                    "<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:" +
                      s +
                      ";visibility:hidden;' ></div>"
                  ),
                  (s = n(c)
                    .clone()
                    .appendTo("#testpg2")
                    .width()),
                  n("#testpg2").remove(),
                  n(y + "_" + i.position, y).append(c),
                  h.p._nvtd &&
                    (s > h.p._nvtd[0] &&
                      (n(y + "_" + i.position, y).width(s), (h.p._nvtd[0] = s)),
                    (h.p._nvtd[1] = s)),
                  (c = s = s = null);
          })
        );
      },
      navButtonAdd: function(t, i) {
        return (
          (i = n.extend(
            {
              caption: "newButton",
              title: "",
              buttonicon: "ui-icon-newwin",
              onClickButton: null,
              position: "last",
              cursor: "pointer"
            },
            i || {}
          )),
          this.each(function() {
            var u, f, r;
            this.grid &&
              (t.indexOf("#") !== 0 && (t = "#" + t),
              (u = n(".navtable", t)[0]),
              (f = this),
              u &&
                ((r = n("<td></td>")),
                i.buttonicon.toString().toUpperCase() == "NONE"
                  ? n(r)
                      .addClass("ui-pg-button ui-corner-all")
                      .append("<div class='ui-pg-div'>" + i.caption + "</div>")
                  : n(r)
                      .addClass("ui-pg-button ui-corner-all")
                      .append(
                        "<div class='ui-pg-div'><span class='ui-icon " +
                          i.buttonicon +
                          "'></span>" +
                          i.caption +
                          "</div>"
                      ),
                i.id && n(r).attr("id", i.id),
                i.position == "first"
                  ? u.rows[0].cells.length === 0
                    ? n("tr", u).append(r)
                    : n("tr td:eq(0)", u).before(r)
                  : n("tr", u).append(r),
                n(r, u)
                  .attr("title", i.title || "")
                  .click(function(t) {
                    return (
                      n(this).hasClass("ui-state-disabled") ||
                        (n.isFunction(i.onClickButton) &&
                          i.onClickButton.call(f, t)),
                      !1
                    );
                  })
                  .hover(
                    function() {
                      n(this).hasClass("ui-state-disabled") ||
                        n(this).addClass("ui-state-hover");
                    },
                    function() {
                      n(this).removeClass("ui-state-hover");
                    }
                  )));
          })
        );
      },
      navSeparatorAdd: function(t, i) {
        return (
          (i = n.extend({ sepclass: "ui-separator", sepcontent: "" }, i || {})),
          this.each(function() {
            var r, u;
            this.grid &&
              (t.indexOf("#") !== 0 && (t = "#" + t),
              (r = n(".navtable", t)[0]),
              r &&
                ((u =
                  "<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='" +
                  i.sepclass +
                  "'></span>" +
                  i.sepcontent +
                  "</td>"),
                n("tr", r).append(u)));
          })
        );
      },
      GridToForm: function(t, i) {
        return this.each(function() {
          var f = this,
            u,
            r;
          if (f.grid && ((u = n(f).jqGrid("getRowData", t)), u))
            for (r in u)
              n("[name=" + r + "]", i).is("input:radio") ||
              n("[name=" + r + "]", i).is("input:checkbox")
                ? n("[name=" + r + "]", i).each(function() {
                    n(this).val() == u[r]
                      ? n(this).prop("checked", "checked")
                      : n(this).prop("checked", "");
                  })
                : n("[name=" + r + "]", i).val(u[r]);
        });
      },
      FormToGrid: function(t, i, r, u) {
        return this.each(function() {
          var e = this,
            o,
            f;
          e.grid &&
            (r || (r = "set"),
            u || (u = "first"),
            (o = n(i).serializeArray()),
            (f = {}),
            n.each(o, function(n, t) {
              f[t.name] = t.value;
            }),
            r == "add"
              ? n(e).jqGrid("addRowData", t, f, u)
              : r == "set" && n(e).jqGrid("setRowData", t, f));
        });
      }
    });
  })(jQuery);
jQuery.fn.searchFilter = function(n, t) {
  function i(n, t, i) {
    if (
      ((this.$ = n),
      (this.add = function(t) {
        return (
          t == null
            ? n.find(".ui-add-last").click()
            : n.find(".sf:eq(" + t + ") .ui-add").click(),
          this
        );
      }),
      (this.del = function(t) {
        return (
          t == null
            ? n.find(".sf:last .ui-del").click()
            : n.find(".sf:eq(" + t + ") .ui-del").click(),
          this
        );
      }),
      (this.search = function() {
        return n.find(".ui-search").click(), this;
      }),
      (this.reset = function(t) {
        return (
          t === undefined && (t = !1),
          n.find(".ui-reset").trigger("click", [t]),
          this
        );
      }),
      (this.close = function() {
        return n.find(".ui-closer").click(), this;
      }),
      t != null)
    ) {
      function p() {
        return jQuery(this).toggleClass("ui-state-hover"), !1;
      }
      function w(n) {
        return (
          jQuery(this).toggleClass("ui-state-active", n.type == "mousedown"), !1
        );
      }
      function u(n, t) {
        return "<option value='" + n + "'>" + t + "</option>";
      }
      function l(n, t, i) {
        return (
          "<select class='" +
          n +
          "'" +
          (i ? " style='display:none;'" : "") +
          ">" +
          t +
          "</select>"
        );
      }
      function b(t, i) {
        t = n.find("tr.sf td.data " + t);
        t[0] != null && i(t);
      }
      function k(t, i) {
        var r = n.find("tr.sf td.data " + t);
        r[0] != null &&
          jQuery.each(i, function() {
            this.data != null
              ? r.bind(this.type, this.data, this.fn)
              : r.bind(this.type, this.fn);
          });
      }
      var r = jQuery.extend({}, jQuery.fn.searchFilter.defaults, i),
        f = -1,
        s = "";
      jQuery.each(r.groupOps, function() {
        s += u(this.op, this.text);
      });
      s = "<select name='groupOp'>" + s + "</select>";
      n.html("")
        .addClass("ui-searchFilter")
        .append(
          "<div class='ui-widget-overlay' style='z-index: -1'>&#160;</div><table class='ui-widget-content ui-corner-all'><thead><tr><td colspan='5' class='ui-widget-header ui-corner-all' style='line-height: 18px;'><div class='ui-closer ui-state-default ui-corner-all ui-helper-clearfix' style='float: right;'><span class='ui-icon ui-icon-close'></span></div>" +
            r.windowTitle +
            "</td></tr></thead><tbody><tr class='sf'><td class='fields'></td><td class='ops'></td><td class='data'></td><td><div class='ui-del ui-state-default ui-corner-all'><span class='ui-icon ui-icon-minus'></span></div></td><td><div class='ui-add ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plus'></span></div></td></tr><tr><td colspan='5' class='divider'><hr class='ui-widget-content' style='margin:1px'/></td></tr></tbody><tfoot><tr><td colspan='3'><span class='ui-reset ui-state-default ui-corner-all' style='display: inline-block; float: left;'><span class='ui-icon ui-icon-arrowreturnthick-1-w' style='float: left;'></span><span style='line-height: 18px; padding: 0 7px 0 3px;'>" +
            r.resetText +
            "</span></span><span class='ui-search ui-state-default ui-corner-all' style='display: inline-block; float: right;'><span class='ui-icon ui-icon-search' style='float: left;'></span><span style='line-height: 18px; padding: 0 7px 0 3px;'>" +
            r.searchText +
            "</span></span><span class='matchText'>" +
            r.matchText +
            "</span> " +
            s +
            " <span class='rulesText'>" +
            r.rulesText +
            "</span></td><td>&#160;</td><td><div class='ui-add-last ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plusthick'></span></div></td></tr></tfoot></table>"
        );
      var a = n.find("tr.sf"),
        d = a.find("td.fields"),
        v = a.find("td.ops"),
        e = a.find("td.data"),
        h = "";
      jQuery.each(r.operators, function() {
        h += u(this.op, this.text);
      });
      h = l("default", h, !0);
      v.append(h);
      e.append("<input type='text' class='default' style='display:none;' />");
      var c = "",
        y = !1,
        o = !1;
      jQuery.each(t, function(t) {
        var s, i;
        if (
          ((c += u(this.itemval, this.text)),
          this.ops != null &&
            ((y = !0),
            (s = ""),
            jQuery.each(this.ops, function() {
              s += u(this.op, this.text);
            }),
            (s = l("field" + t, s, !0)),
            v.append(s)),
          this.dataUrl != null)
        ) {
          t > f && (f = t);
          o = !0;
          var h = this.dataEvents,
            a = this.dataInit,
            p = this.buildSelect;
          jQuery.ajax(
            jQuery.extend(
              {
                url: this.dataUrl,
                complete: function(i) {
                  i =
                    p != null
                      ? jQuery("<div />").append(p(i))
                      : jQuery("<div />").append(i.responseText);
                  i.find("select")
                    .addClass("field" + t)
                    .hide();
                  e.append(i.html());
                  a && b(".field" + t, a);
                  h && k(".field" + t, h);
                  t == f &&
                    n.find("tr.sf td.fields select[name='field']").change();
                }
              },
              r.ajaxSelectOptions
            )
          );
        } else
          this.dataValues != null
            ? ((o = !0),
              (i = ""),
              jQuery.each(this.dataValues, function() {
                i += u(this.value, this.text);
              }),
              (i = l("field" + t, i, !0)),
              e.append(i))
            : (this.dataEvents != null || this.dataInit != null) &&
              ((o = !0),
              (i = "<input type='text' class='field" + t + "' />"),
              e.append(i));
        this.dataInit != null && t != f && b(".field" + t, this.dataInit);
        this.dataEvents != null && t != f && k(".field" + t, this.dataEvents);
      });
      c = "<select name='field'>" + c + "</select>";
      d.append(c);
      t = d.find("select[name='field']");
      y
        ? t.change(function(n) {
            var t = n.target.selectedIndex;
            return (
              (n = jQuery(n.target)
                .parents("tr.sf")
                .find("td.ops")),
              n
                .find("select")
                .removeAttr("name")
                .hide(),
              (t = n.find(".field" + t)),
              t[0] == null && (t = n.find(".default")),
              t.attr("name", "op").show(),
              !1
            );
          })
        : v
            .find(".default")
            .attr("name", "op")
            .show();
      o
        ? t.change(function(n) {
            var t = n.target.selectedIndex;
            return (
              (n = jQuery(n.target)
                .parents("tr.sf")
                .find("td.data")),
              n
                .find("select,input")
                .removeClass("vdata")
                .hide(),
              (t = n.find(".field" + t)),
              t[0] == null && (t = n.find(".default")),
              t.show().addClass("vdata"),
              !1
            );
          })
        : e
            .find(".default")
            .show()
            .addClass("vdata");
      (y || o) && t.change();
      n.find(".ui-state-default")
        .hover(p, p)
        .mousedown(w)
        .mouseup(w);
      n.find(".ui-closer").click(function() {
        r.onClose(jQuery(n.selector));
        return !1;
      });
      n.find(".ui-del").click(function(n) {
        return (
          (n = jQuery(n.target).parents(".sf")),
          n.siblings(".sf").length > 0
            ? (r.datepickerFix === !0 &&
                jQuery.fn.datepicker !== undefined &&
                n.find(".hasDatepicker").datepicker("destroy"),
              n.remove())
            : ((n.find("select[name='field']")[0].selectedIndex = 0),
              (n.find("select[name='op']")[0].selectedIndex = 0),
              n.find(".data input").val(""),
              n.find(".data select").each(function() {
                this.selectedIndex = 0;
              }),
              n.find("select[name='field']").change(function(n) {
                n.stopPropagation();
              })),
          !1
        );
      });
      n.find(".ui-add").click(function(n) {
        var t, i;
        return (
          (n = jQuery(n.target).parents(".sf")),
          (t = n.clone(!0).insertAfter(n)),
          t
            .find(".ui-state-default")
            .removeClass("ui-state-hover ui-state-active"),
          r.clone
            ? ((t.find("select[name='field']")[0].selectedIndex = n.find(
                "select[name='field']"
              )[0].selectedIndex),
              t.find("select[name='op']")[0] != null &&
                (t.find("select[name='op']").focus()[0].selectedIndex = n.find(
                  "select[name='op']"
                )[0].selectedIndex),
              (i = t.find("select.vdata")),
              i[0] != null &&
                (i[0].selectedIndex = n.find("select.vdata")[0].selectedIndex))
            : (t.find(".data input").val(""),
              t.find("select[name='field']").focus()),
          r.datepickerFix === !0 &&
            jQuery.fn.datepicker !== undefined &&
            n.find(".hasDatepicker").each(function() {
              var n = jQuery.data(this, "datepicker").settings;
              t.find("#" + this.id)
                .unbind()
                .removeAttr("id")
                .removeClass("hasDatepicker")
                .datepicker(n);
            }),
          t.find("select[name='field']").change(function(n) {
            n.stopPropagation();
          }),
          !1
        );
      });
      n.find(".ui-search").click(function() {
        var i = jQuery(n.selector),
          t,
          u = i.find("select[name='groupOp'] :selected").val();
        t = r.stringResult
          ? '{"groupOp":"' + u + '","rules":['
          : { groupOp: u, rules: [] };
        i.find(".sf").each(function(n) {
          var u = jQuery(this)
              .find("select[name='field'] :selected")
              .val(),
            f = jQuery(this)
              .find("select[name='op'] :selected")
              .val(),
            i = jQuery(this)
              .find("input.vdata,select.vdata :selected")
              .val();
          i += "";
          i = i.replace(/\\/g, "\\\\").replace(/\"/g, '\\"');
          r.stringResult
            ? (n > 0 && (t += ","),
              (t += '{"field":"' + u + '",'),
              (t += '"op":"' + f + '",'),
              (t += '"data":"' + i + '"}'))
            : t.rules.push({ field: u, op: f, data: i });
        });
        r.stringResult && (t += "]}");
        r.onSearch(t);
        return !1;
      });
      n.find(".ui-reset").click(function(t, i) {
        t = jQuery(n.selector);
        t.find(".ui-del").click();
        t.find("select[name='groupOp']")[0].selectedIndex = 0;
        r.onReset(i);
        return !1;
      });
      n.find(".ui-add-last").click(function() {
        var i = jQuery(n.selector + " .sf:last"),
          t = i.clone(!0).insertAfter(i);
        return (
          t
            .find(".ui-state-default")
            .removeClass("ui-state-hover ui-state-active"),
          t.find(".data input").val(""),
          t.find("select[name='field']").focus(),
          r.datepickerFix === !0 &&
            jQuery.fn.datepicker !== undefined &&
            i.find(".hasDatepicker").each(function() {
              var n = jQuery.data(this, "datepicker").settings;
              t.find("#" + this.id)
                .unbind()
                .removeAttr("id")
                .removeClass("hasDatepicker")
                .datepicker(n);
            }),
          t.find("select[name='field']").change(function(n) {
            n.stopPropagation();
          }),
          !1
        );
      });
      this.setGroupOp = function(t) {
        selDOMobj = n.find("select[name='groupOp']")[0];
        for (var r = {}, u = selDOMobj.options.length, i = 0; i < u; i++)
          r[selDOMobj.options[i].value] = i;
        selDOMobj.selectedIndex = r[t];
        jQuery(selDOMobj).change(function(n) {
          n.stopPropagation();
        });
      };
      this.setFilter = function(n) {
        var u = n.sfref,
          r,
          t,
          f,
          o,
          h,
          e,
          c,
          s,
          l,
          a;
        for (
          n = n.filter,
            r = [],
            e = {},
            selDOMobj = u.find("select[name='field']")[0],
            t = 0,
            o = selDOMobj.options.length;
          t < o;
          t++
        )
          (e[selDOMobj.options[t].value] = { index: t, ops: {} }),
            r.push(selDOMobj.options[t].value);
        for (t = 0, o = r.length; t < o; t++) {
          if ((selDOMobj = u.find(".ops > select[class='field" + t + "']")[0]))
            for (f = 0, h = selDOMobj.options.length; f < h; f++)
              e[r[t]].ops[selDOMobj.options[f].value] = f;
          if ((selDOMobj = u.find(".data > select[class='field" + t + "']")[0]))
            for (
              e[r[t]].data = {}, f = 0, h = selDOMobj.options.length;
              f < h;
              f++
            )
              e[r[t]].data[selDOMobj.options[f].value] = f;
        }
        if (((r = n.field), e[r] && (c = e[r].index), c != null)) {
          if (((s = e[r].ops[n.op]), s === undefined))
            for (t = 0, o = i.operators.length; t < o; t++)
              if (i.operators[t].op == n.op) {
                s = t;
                break;
              }
          l = n.data;
          a = e[r].data == null ? -1 : e[r].data[l];
        }
        return c != null && s != null && a != null
          ? ((u.find("select[name='field']")[0].selectedIndex = c),
            u.find("select[name='field']").change(),
            (u.find("select[name='op']")[0].selectedIndex = s),
            u.find("input.vdata").val(l),
            (u = u.find("select.vdata")[0]) && (u.selectedIndex = a),
            !0)
          : !1;
      };
    }
  }
  return new i(this, n, t);
};
jQuery.fn.searchFilter.version = "1.2.9";
(jQuery.fn.searchFilter.defaults = {
  clone: !0,
  datepickerFix: !0,
  onReset: function(n) {
    alert("Reset Clicked. Data Returned: " + n);
  },
  onSearch: function(n) {
    alert("Search Clicked. Data Returned: " + n);
  },
  onClose: function(n) {
    n.hide();
  },
  groupOps: [
    { op: "AND", text: "all" },
    { op: "OR", text: "any" }
  ],
  operators: [
    { op: "eq", text: "is equal to" },
    { op: "ne", text: "is not equal to" },
    { op: "lt", text: "is less than" },
    { op: "le", text: "is less or equal to" },
    { op: "gt", text: "is greater than" },
    { op: "ge", text: "is greater or equal to" },
    { op: "in", text: "is in" },
    { op: "ni", text: "is not in" },
    { op: "bw", text: "begins with" },
    { op: "bn", text: "does not begin with" },
    { op: "ew", text: "ends with" },
    { op: "en", text: "does not end with" },
    { op: "cn", text: "contains" },
    { op: "nc", text: "does not contain" }
  ],
  matchText: "match",
  rulesText: "rules",
  resetText: "Reset",
  searchText: "Search",
  stringResult: !0,
  windowTitle: "Search Rules",
  ajaxSelectOptions: {}
}),
  (function(n) {
    n.jgrid.extend({
      editRow: function(t, i, r, u, f, e, o, s, h) {
        return this.each(function() {
          var c = this,
            a,
            y,
            b = 0,
            p = null,
            w = {},
            v,
            l;
          c.grid &&
            ((v = n(c).jqGrid("getInd", t, !0)),
            v !== !1 &&
              ((n(v).attr("editable") || "0") != "0" ||
                n(v).hasClass("not-editable-row") ||
                ((l = c.p.colModel),
                n("td", v).each(function(i) {
                  var u, r;
                  if (
                    ((a = l[i].name),
                    (u = c.p.treeGrid === !0 && a == c.p.ExpandColumn),
                    u)
                  )
                    y = n("span:first", this).html();
                  else
                    try {
                      y = n.unformat(this, { rowId: t, colModel: l[i] }, i);
                    } catch (f) {
                      y = n(this).html();
                    }
                  a != "cb" &&
                    a != "subgrid" &&
                    a != "rn" &&
                    (c.p.autoencode && (y = n.jgrid.htmlDecode(y)),
                    (w[a] = y),
                    l[i].editable === !0 &&
                      (p === null && (p = i),
                      u ? n("span:first", this).html("") : n(this).html(""),
                      (r = n.extend({}, l[i].editoptions || {}, {
                        id: t + "_" + a,
                        name: a
                      })),
                      l[i].edittype || (l[i].edittype = "text"),
                      (r = n.jgrid.createEl(
                        l[i].edittype,
                        r,
                        y,
                        !0,
                        n.extend(
                          {},
                          n.jgrid.ajaxOptions,
                          c.p.ajaxSelectOptions || {}
                        )
                      )),
                      n(r).addClass("editable"),
                      u ? n("span:first", this).append(r) : n(this).append(r),
                      l[i].edittype == "select" &&
                        l[i].editoptions.multiple === !0 &&
                        n.browser.msie &&
                        n(r).width(n(r).width()),
                      b++));
                }),
                b > 0 &&
                  ((w.id = t),
                  c.p.savedRow.push(w),
                  n(v).attr("editable", "1"),
                  n("td:eq(" + p + ") input", v).focus(),
                  i === !0 &&
                    n(v).bind("keydown", function(i) {
                      if (
                        (i.keyCode === 27 && n(c).jqGrid("restoreRow", t, h),
                        i.keyCode === 13)
                      )
                        return i.target.tagName == "TEXTAREA"
                          ? !0
                          : (n(c).jqGrid("saveRow", t, u, f, e, o, s, h), !1);
                      i.stopPropagation();
                    }),
                  n.isFunction(r) && r.call(c, t)))));
        });
      },
      saveRow: function(t, i, r, u, f, e, o) {
        return this.each(function() {
          var s = this,
            c,
            h = {},
            b = {},
            p,
            w,
            v,
            y,
            l,
            a,
            k;
          if (
            s.grid &&
            ((y = n(s).jqGrid("getInd", t, !0)),
            y !== !1 &&
              ((p = n(y).attr("editable")),
              (r = r ? r : s.p.editurl),
              p === "1"))
          )
            if (
              (n("td", y).each(function(t) {
                var i, r;
                if (
                  ((l = s.p.colModel[t]),
                  (c = l.name),
                  c != "cb" && c != "subgrid" && l.editable === !0 && c != "rn")
                ) {
                  switch (l.edittype) {
                    case "checkbox":
                      i = ["Yes", "No"];
                      l.editoptions && (i = l.editoptions.value.split(":"));
                      h[c] = n("input", this).prop("checked") ? i[0] : i[1];
                      break;
                    case "text":
                    case "password":
                    case "textarea":
                    case "button":
                      h[c] = n("input, textarea", this).val();
                      break;
                    case "select":
                      l.editoptions.multiple
                        ? ((i = n("select", this)),
                          (r = []),
                          (h[c] = n(i).val()),
                          (h[c] = h[c] ? h[c].join(",") : ""),
                          n("select > option:selected", this).each(function(
                            t,
                            i
                          ) {
                            r[t] = n(i).text();
                          }),
                          (b[c] = r.join(",")))
                        : ((h[c] = n("select>option:selected", this).val()),
                          (b[c] = n("select>option:selected", this).text()));
                      l.formatter && l.formatter == "select" && (b = {});
                      break;
                    case "custom":
                      try {
                        if (
                          l.editoptions &&
                          n.isFunction(l.editoptions.custom_value)
                        ) {
                          if (
                            ((h[c] = l.editoptions.custom_value.call(
                              s,
                              n(".customelement", this),
                              "get"
                            )),
                            h[c] === undefined)
                          )
                            throw "e2";
                        } else throw "e1";
                      } catch (u) {
                        u == "e1" &&
                          n.jgrid.info_dialog(
                            jQuery.jgrid.errors.errcap,
                            "function 'custom_value' " +
                              n.jgrid.edit.msg.nodefined,
                            jQuery.jgrid.edit.bClose
                          );
                        u == "e2"
                          ? n.jgrid.info_dialog(
                              jQuery.jgrid.errors.errcap,
                              "function 'custom_value' " +
                                n.jgrid.edit.msg.novalue,
                              jQuery.jgrid.edit.bClose
                            )
                          : n.jgrid.info_dialog(
                              jQuery.jgrid.errors.errcap,
                              u.message,
                              jQuery.jgrid.edit.bClose
                            );
                      }
                  }
                  if (((v = n.jgrid.checkValues(h[c], t, s)), v[0] === !1))
                    return (v[1] = h[c] + " " + v[1]), !1;
                  s.p.autoencode && (h[c] = n.jgrid.htmlEncode(h[c]));
                }
              }),
              v[0] === !1)
            )
              try {
                a = n.jgrid.findPos(n("#" + n.jgrid.jqID(t), s.grid.bDiv)[0]);
                n.jgrid.info_dialog(
                  n.jgrid.errors.errcap,
                  v[1],
                  n.jgrid.edit.bClose,
                  { left: a[0], top: a[1] }
                );
              } catch (d) {
                alert(v[1]);
              }
            else {
              if (
                (h &&
                  ((a = s.p.prmNames),
                  (k = a.oper),
                  (p = a.id),
                  (h[k] = a.editoper),
                  (h[p] = t),
                  typeof s.p.inlineData == "undefined" && (s.p.inlineData = {}),
                  typeof u == "undefined" && (u = {}),
                  (h = n.extend({}, h, s.p.inlineData, u))),
                r == "clientArray")
              ) {
                for (
                  h = n.extend({}, h, b),
                    s.p.autoencode &&
                      n.each(h, function(t, i) {
                        h[t] = n.jgrid.htmlDecode(i);
                      }),
                    p = n(s).jqGrid("setRowData", t, h),
                    n(y).attr("editable", "0"),
                    a = 0;
                  a < s.p.savedRow.length;
                  a++
                )
                  if (s.p.savedRow[a].id == t) {
                    w = a;
                    break;
                  }
                w >= 0 && s.p.savedRow.splice(w, 1);
                n.isFunction(f) && f.call(s, t, p);
              } else
                n("#lui_" + s.p.id).show(),
                  n.ajax(
                    n.extend(
                      {
                        url: r,
                        data: n.isFunction(s.p.serializeRowData)
                          ? s.p.serializeRowData.call(s, h)
                          : h,
                        type: "POST",
                        complete: function(r, u) {
                          if ((n("#lui_" + s.p.id).hide(), u === "success"))
                            if ((n.isFunction(i) ? i.call(s, r) : !0) === !0) {
                              for (
                                s.p.autoencode &&
                                  n.each(h, function(t, i) {
                                    h[t] = n.jgrid.htmlDecode(i);
                                  }),
                                  h = n.extend({}, h, b),
                                  n(s).jqGrid("setRowData", t, h),
                                  n(y).attr("editable", "0"),
                                  u = 0;
                                u < s.p.savedRow.length;
                                u++
                              )
                                if (s.p.savedRow[u].id == t) {
                                  w = u;
                                  break;
                                }
                              w >= 0 && s.p.savedRow.splice(w, 1);
                              n.isFunction(f) && f.call(s, t, r);
                            } else
                              n.isFunction(e) && e.call(s, t, r, u),
                                n(s).jqGrid("restoreRow", t, o);
                        },
                        error: function(i, r) {
                          n("#lui_" + s.p.id).hide();
                          n.isFunction(e)
                            ? e.call(s, t, i, r)
                            : alert(
                                "Error Row: " +
                                  t +
                                  " Result: " +
                                  i.status +
                                  ":" +
                                  i.statusText +
                                  " Status: " +
                                  r
                              );
                          n(s).jqGrid("restoreRow", t, o);
                        }
                      },
                      n.jgrid.ajaxOptions,
                      s.p.ajaxRowOptions || {}
                    )
                  );
              n(y).unbind("keydown");
            }
        });
      },
      restoreRow: function(t, i) {
        return this.each(function() {
          var r = this,
            u,
            e,
            o = {},
            f;
          if (r.grid && ((e = n(r).jqGrid("getInd", t, !0)), e !== !1)) {
            for (f = 0; f < r.p.savedRow.length; f++)
              if (r.p.savedRow[f].id == t) {
                u = f;
                break;
              }
            if (u >= 0) {
              if (n.isFunction(n.fn.datepicker))
                try {
                  n("input.hasDatepicker", "#" + n.jgrid.jqID(e.id)).datepicker(
                    "hide"
                  );
                } catch (s) {}
              n.each(r.p.colModel, function() {
                this.editable === !0 &&
                  this.name in r.p.savedRow[u] &&
                  (o[this.name] = r.p.savedRow[u][this.name]);
              });
              n(r).jqGrid("setRowData", t, o);
              n(e)
                .attr("editable", "0")
                .unbind("keydown");
              r.p.savedRow.splice(u, 1);
            }
            n.isFunction(i) && i.call(r, t);
          }
        });
      }
    });
  })(jQuery),
  (function(n) {
    n.jgrid.extend({
      editCell: function(t, i, r) {
        return this.each(function() {
          var u = this,
            e,
            f,
            o,
            s,
            h;
          if (!(!u.grid || u.p.cellEdit !== !0)) {
            if (
              ((i = parseInt(i, 10)),
              (u.p.selrow = u.rows[t].id),
              u.p.knv || n(u).jqGrid("GridNav"),
              u.p.savedRow.length > 0)
            ) {
              if (r === !0 && t == u.p.iRow && i == u.p.iCol) return;
              n(u).jqGrid("saveCell", u.p.savedRow[0].id, u.p.savedRow[0].ic);
            } else
              window.setTimeout(function() {
                n("#" + u.p.knv)
                  .attr("tabindex", "-1")
                  .focus();
              }, 0);
            if (
              ((e = u.p.colModel[i].name),
              !(e == "subgrid" || e == "cb" || e == "rn"))
            ) {
              if (
                ((o = n("td:eq(" + i + ")", u.rows[t])),
                u.p.colModel[i].editable !== !0 ||
                  r !== !0 ||
                  o.hasClass("not-editable-cell"))
              )
                parseInt(u.p.iCol, 10) >= 0 &&
                  parseInt(u.p.iRow, 10) >= 0 &&
                  (n("td:eq(" + u.p.iCol + ")", u.rows[u.p.iRow]).removeClass(
                    "edit-cell ui-state-highlight"
                  ),
                  n(u.rows[u.p.iRow]).removeClass(
                    "selected-row ui-state-hover"
                  )),
                  o.addClass("edit-cell ui-state-highlight"),
                  n(u.rows[t]).addClass("selected-row ui-state-hover"),
                  n.isFunction(u.p.onSelectCell) &&
                    ((f = o.html().replace(/\&#160\;/gi, "")),
                    u.p.onSelectCell.call(u, u.rows[t].id, e, f, t, i));
              else {
                parseInt(u.p.iCol, 10) >= 0 &&
                  parseInt(u.p.iRow, 10) >= 0 &&
                  (n("td:eq(" + u.p.iCol + ")", u.rows[u.p.iRow]).removeClass(
                    "edit-cell ui-state-highlight"
                  ),
                  n(u.rows[u.p.iRow]).removeClass(
                    "selected-row ui-state-hover"
                  ));
                n(o).addClass("edit-cell ui-state-highlight");
                n(u.rows[t]).addClass("selected-row ui-state-hover");
                try {
                  f = n.unformat(
                    o,
                    { rowId: u.rows[t].id, colModel: u.p.colModel[i] },
                    i
                  );
                } catch (c) {
                  f = n(o).html();
                }
                u.p.autoencode && (f = n.jgrid.htmlDecode(f));
                u.p.colModel[i].edittype || (u.p.colModel[i].edittype = "text");
                u.p.savedRow.push({ id: t, ic: i, name: e, v: f });
                n.isFunction(u.p.formatCell) &&
                  ((s = u.p.formatCell.call(u, u.rows[t].id, e, f, t, i)),
                  s !== undefined && (f = s));
                s = n.extend({}, u.p.colModel[i].editoptions || {}, {
                  id: t + "_" + e,
                  name: e
                });
                h = n.jgrid.createEl(
                  u.p.colModel[i].edittype,
                  s,
                  f,
                  !0,
                  n.extend({}, n.jgrid.ajaxOptions, u.p.ajaxSelectOptions || {})
                );
                n.isFunction(u.p.beforeEditCell) &&
                  u.p.beforeEditCell.call(u, u.rows[t].id, e, f, t, i);
                n(o)
                  .html("")
                  .append(h)
                  .attr("tabindex", "0");
                window.setTimeout(function() {
                  n(h).focus();
                }, 0);
                n("input, select, textarea", o).bind("keydown", function(r) {
                  if (
                    (r.keyCode === 27 &&
                      (n("input.hasDatepicker", o).length > 0
                        ? n(".ui-datepicker").is(":hidden")
                          ? n(u).jqGrid("restoreCell", t, i)
                          : n("input.hasDatepicker", o).datepicker("hide")
                        : n(u).jqGrid("restoreCell", t, i)),
                    r.keyCode === 13 && n(u).jqGrid("saveCell", t, i),
                    r.keyCode == 9)
                  ) {
                    if (u.grid.hDiv.loading) return !1;
                    r.shiftKey
                      ? n(u).jqGrid("prevCell", t, i)
                      : n(u).jqGrid("nextCell", t, i);
                  }
                  r.stopPropagation();
                });
                n.isFunction(u.p.afterEditCell) &&
                  u.p.afterEditCell.call(u, u.rows[t].id, e, f, t, i);
              }
              u.p.iCol = i;
              u.p.iRow = t;
            }
          }
        });
      },
      saveCell: function(t, i) {
        return this.each(function() {
          var r = this,
            s,
            v,
            a,
            p,
            c;
          if (!(!r.grid || r.p.cellEdit !== !0)) {
            if (((s = r.p.savedRow.length >= 1 ? 0 : null), s !== null)) {
              var h = n("td:eq(" + i + ")", r.rows[t]),
                u,
                f,
                e = r.p.colModel[i],
                l = e.name,
                o = n.jgrid.jqID(l);
              switch (e.edittype) {
                case "select":
                  e.editoptions.multiple
                    ? ((o = n("#" + t + "_" + o, r.rows[t])),
                      (v = []),
                      (u = n(o).val()) ? u.join(",") : (u = ""),
                      n("option:selected", o).each(function(t, i) {
                        v[t] = n(i).text();
                      }),
                      (f = v.join(",")))
                    : ((u = n(
                        "#" + t + "_" + o + ">option:selected",
                        r.rows[t]
                      ).val()),
                      (f = n(
                        "#" + t + "_" + o + ">option:selected",
                        r.rows[t]
                      ).text()));
                  e.formatter && (f = u);
                  break;
                case "checkbox":
                  a = ["Yes", "No"];
                  e.editoptions && (a = e.editoptions.value.split(":"));
                  f = u = n("#" + t + "_" + o, r.rows[t]).prop("checked")
                    ? a[0]
                    : a[1];
                  break;
                case "password":
                case "text":
                case "textarea":
                case "button":
                  f = u = n("#" + t + "_" + o, r.rows[t]).val();
                  break;
                case "custom":
                  try {
                    if (
                      e.editoptions &&
                      n.isFunction(e.editoptions.custom_value)
                    )
                      if (
                        ((u = e.editoptions.custom_value.call(
                          r,
                          n(".customelement", h),
                          "get"
                        )),
                        u === undefined)
                      )
                        throw "e2";
                      else f = u;
                    else throw "e1";
                  } catch (y) {
                    y == "e1" &&
                      n.jgrid.info_dialog(
                        jQuery.jgrid.errors.errcap,
                        "function 'custom_value' " + n.jgrid.edit.msg.nodefined,
                        jQuery.jgrid.edit.bClose
                      );
                    y == "e2"
                      ? n.jgrid.info_dialog(
                          jQuery.jgrid.errors.errcap,
                          "function 'custom_value' " + n.jgrid.edit.msg.novalue,
                          jQuery.jgrid.edit.bClose
                        )
                      : n.jgrid.info_dialog(
                          jQuery.jgrid.errors.errcap,
                          y.message,
                          jQuery.jgrid.edit.bClose
                        );
                  }
              }
              if (f != r.p.savedRow[s].v)
                if (
                  (n.isFunction(r.p.beforeSaveCell) &&
                    (s = r.p.beforeSaveCell.call(
                      r,
                      r.rows[t].id,
                      l,
                      u,
                      t,
                      i
                    )) &&
                    (f = u = s),
                  (p = n.jgrid.checkValues(u, i, r)),
                  p[0] === !0)
                ) {
                  if (
                    ((s = {}),
                    n.isFunction(r.p.beforeSubmitCell) &&
                      ((s = r.p.beforeSubmitCell.call(
                        r,
                        r.rows[t].id,
                        l,
                        u,
                        t,
                        i
                      )) ||
                        (s = {})),
                    n("input.hasDatepicker", h).length > 0 &&
                      n("input.hasDatepicker", h).datepicker("hide"),
                    r.p.cellsubmit == "remote")
                  )
                    if (r.p.cellurl)
                      (c = {}),
                        r.p.autoencode && (u = n.jgrid.htmlEncode(u)),
                        (c[l] = u),
                        (a = r.p.prmNames),
                        (e = a.id),
                        (o = a.oper),
                        (c[e] = r.rows[t].id),
                        (c[o] = a.editoper),
                        (c = n.extend(s, c)),
                        n("#lui_" + r.p.id).show(),
                        (r.grid.hDiv.loading = !0),
                        n.ajax(
                          n.extend(
                            {
                              url: r.p.cellurl,
                              data: n.isFunction(r.p.serializeCellData)
                                ? r.p.serializeCellData.call(r, c)
                                : c,
                              type: "POST",
                              complete: function(e, o) {
                                n("#lui_" + r.p.id).hide();
                                r.grid.hDiv.loading = !1;
                                o == "success" &&
                                  (n.isFunction(r.p.afterSubmitCell)
                                    ? ((e = r.p.afterSubmitCell.call(
                                        r,
                                        e,
                                        c.id,
                                        l,
                                        u,
                                        t,
                                        i
                                      )),
                                      e[0] === !0
                                        ? (n(h).empty(),
                                          n(r).jqGrid(
                                            "setCell",
                                            r.rows[t].id,
                                            i,
                                            f,
                                            !1,
                                            !1,
                                            !0
                                          ),
                                          n(h).addClass("dirty-cell"),
                                          n(r.rows[t]).addClass("edited"),
                                          n.isFunction(r.p.afterSaveCell) &&
                                            r.p.afterSaveCell.call(
                                              r,
                                              r.rows[t].id,
                                              l,
                                              u,
                                              t,
                                              i
                                            ),
                                          r.p.savedRow.splice(0, 1))
                                        : (n.jgrid.info_dialog(
                                            n.jgrid.errors.errcap,
                                            e[1],
                                            n.jgrid.edit.bClose
                                          ),
                                          n(r).jqGrid("restoreCell", t, i)))
                                    : (n(h).empty(),
                                      n(r).jqGrid(
                                        "setCell",
                                        r.rows[t].id,
                                        i,
                                        f,
                                        !1,
                                        !1,
                                        !0
                                      ),
                                      n(h).addClass("dirty-cell"),
                                      n(r.rows[t]).addClass("edited"),
                                      n.isFunction(r.p.afterSaveCell) &&
                                        r.p.afterSaveCell.call(
                                          r,
                                          r.rows[t].id,
                                          l,
                                          u,
                                          t,
                                          i
                                        ),
                                      r.p.savedRow.splice(0, 1)));
                              },
                              error: function(u, f) {
                                n("#lui_" + r.p.id).hide();
                                r.grid.hDiv.loading = !1;
                                n.isFunction(r.p.errorCell)
                                  ? r.p.errorCell.call(r, u, f)
                                  : n.jgrid.info_dialog(
                                      n.jgrid.errors.errcap,
                                      u.status +
                                        " : " +
                                        u.statusText +
                                        "<br/>" +
                                        f,
                                      n.jgrid.edit.bClose
                                    );
                                n(r).jqGrid("restoreCell", t, i);
                              }
                            },
                            n.jgrid.ajaxOptions,
                            r.p.ajaxCellOptions || {}
                          )
                        );
                    else
                      try {
                        n.jgrid.info_dialog(
                          n.jgrid.errors.errcap,
                          n.jgrid.errors.nourl,
                          n.jgrid.edit.bClose
                        );
                        n(r).jqGrid("restoreCell", t, i);
                      } catch (w) {}
                  r.p.cellsubmit == "clientArray" &&
                    (n(h).empty(),
                    n(r).jqGrid("setCell", r.rows[t].id, i, f, !1, !1, !0),
                    n(h).addClass("dirty-cell"),
                    n(r.rows[t]).addClass("edited"),
                    n.isFunction(r.p.afterSaveCell) &&
                      r.p.afterSaveCell.call(r, r.rows[t].id, l, u, t, i),
                    r.p.savedRow.splice(0, 1));
                } else
                  try {
                    window.setTimeout(function() {
                      n.jgrid.info_dialog(
                        n.jgrid.errors.errcap,
                        u + " " + p[1],
                        n.jgrid.edit.bClose
                      );
                    }, 100);
                    n(r).jqGrid("restoreCell", t, i);
                  } catch (b) {}
              else n(r).jqGrid("restoreCell", t, i);
            }
            n.browser.opera
              ? n("#" + r.p.knv)
                  .attr("tabindex", "-1")
                  .focus()
              : window.setTimeout(function() {
                  n("#" + r.p.knv)
                    .attr("tabindex", "-1")
                    .focus();
                }, 0);
          }
        });
      },
      restoreCell: function(t, i) {
        return this.each(function() {
          var r = this,
            u,
            f;
          if (!(!r.grid || r.p.cellEdit !== !0)) {
            if (((u = r.p.savedRow.length >= 1 ? 0 : null), u !== null)) {
              if (
                ((f = n("td:eq(" + i + ")", r.rows[t])),
                n.isFunction(n.fn.datepicker))
              )
                try {
                  n("input.hasDatepicker", f).datepicker("hide");
                } catch (e) {}
              n(f)
                .empty()
                .attr("tabindex", "-1");
              n(r).jqGrid(
                "setCell",
                r.rows[t].id,
                i,
                r.p.savedRow[u].v,
                !1,
                !1,
                !0
              );
              n.isFunction(r.p.afterRestoreCell) &&
                r.p.afterRestoreCell.call(
                  r,
                  r.rows[t].id,
                  r.p.savedRow[u].v,
                  t,
                  i
                );
              r.p.savedRow.splice(0, 1);
            }
            window.setTimeout(function() {
              n("#" + r.p.knv)
                .attr("tabindex", "-1")
                .focus();
            }, 0);
          }
        });
      },
      nextCell: function(t, i) {
        return this.each(function() {
          var r = this,
            f = !1,
            u;
          if (!(!r.grid || r.p.cellEdit !== !0)) {
            for (u = i + 1; u < r.p.colModel.length; u++)
              if (r.p.colModel[u].editable === !0) {
                f = u;
                break;
              }
            f !== !1
              ? n(r).jqGrid("editCell", t, f, !0)
              : r.p.savedRow.length > 0 && n(r).jqGrid("saveCell", t, i);
          }
        });
      },
      prevCell: function(t, i) {
        return this.each(function() {
          var r = this,
            f = !1,
            u;
          if (!(!r.grid || r.p.cellEdit !== !0)) {
            for (u = i - 1; u >= 0; u--)
              if (r.p.colModel[u].editable === !0) {
                f = u;
                break;
              }
            f !== !1
              ? n(r).jqGrid("editCell", t, f, !0)
              : r.p.savedRow.length > 0 && n(r).jqGrid("saveCell", t, i);
          }
        });
      },
      GridNav: function() {
        return this.each(function() {
          function u(i, r, u) {
            if (u.substr(0, 1) == "v") {
              var f = n(t.grid.bDiv)[0].clientHeight,
                e = n(t.grid.bDiv)[0].scrollTop,
                o = t.rows[i].offsetTop + t.rows[i].clientHeight,
                s = t.rows[i].offsetTop;
              u == "vd" &&
                o >= f &&
                (n(t.grid.bDiv)[0].scrollTop =
                  n(t.grid.bDiv)[0].scrollTop + t.rows[i].clientHeight);
              u == "vu" &&
                s < e &&
                (n(t.grid.bDiv)[0].scrollTop =
                  n(t.grid.bDiv)[0].scrollTop - t.rows[i].clientHeight);
            }
            u == "h" &&
              ((u = n(t.grid.bDiv)[0].clientWidth),
              (f = n(t.grid.bDiv)[0].scrollLeft),
              (e = t.rows[i].cells[r].offsetLeft),
              t.rows[i].cells[r].offsetLeft + t.rows[i].cells[r].clientWidth >=
              u + parseInt(f, 10)
                ? (n(t.grid.bDiv)[0].scrollLeft =
                    n(t.grid.bDiv)[0].scrollLeft +
                    t.rows[i].cells[r].clientWidth)
                : e < f &&
                  (n(t.grid.bDiv)[0].scrollLeft =
                    n(t.grid.bDiv)[0].scrollLeft -
                    t.rows[i].cells[r].clientWidth));
          }
          function f(n, i) {
            var u, r;
            if (i == "lft")
              for (u = n + 1, r = n; r >= 0; r--)
                if (t.p.colModel[r].hidden !== !0) {
                  u = r;
                  break;
                }
            if (i == "rgt")
              for (u = n - 1, r = n; r < t.p.colModel.length; r++)
                if (t.p.colModel[r].hidden !== !0) {
                  u = r;
                  break;
                }
            return u;
          }
          var t = this,
            e,
            i,
            r;
          !t.grid ||
            t.p.cellEdit !== !0 ||
            ((t.p.knv = t.p.id + "_kn"),
            (e = n(
              "<span style='width:0px;height:0px;background-color:black;' tabindex='0'><span tabindex='-1' style='width:0px;height:0px;background-color:grey' id='" +
                t.p.knv +
                "'></span></span>"
            )),
            n(e).insertBefore(t.grid.cDiv),
            n("#" + t.p.knv)
              .focus()
              .keydown(function(e) {
                r = e.keyCode;
                t.p.direction == "rtl" &&
                  (r == 37 ? (r = 39) : r == 39 && (r = 37));
                switch (r) {
                  case 38:
                    t.p.iRow - 1 > 0 &&
                      (u(t.p.iRow - 1, t.p.iCol, "vu"),
                      n(t).jqGrid("editCell", t.p.iRow - 1, t.p.iCol, !1));
                    break;
                  case 40:
                    t.p.iRow + 1 <= t.rows.length - 1 &&
                      (u(t.p.iRow + 1, t.p.iCol, "vd"),
                      n(t).jqGrid("editCell", t.p.iRow + 1, t.p.iCol, !1));
                    break;
                  case 37:
                    t.p.iCol - 1 >= 0 &&
                      ((i = f(t.p.iCol - 1, "lft")),
                      u(t.p.iRow, i, "h"),
                      n(t).jqGrid("editCell", t.p.iRow, i, !1));
                    break;
                  case 39:
                    t.p.iCol + 1 <= t.p.colModel.length - 1 &&
                      ((i = f(t.p.iCol + 1, "rgt")),
                      u(t.p.iRow, i, "h"),
                      n(t).jqGrid("editCell", t.p.iRow, i, !1));
                    break;
                  case 13:
                    parseInt(t.p.iCol, 10) >= 0 &&
                      parseInt(t.p.iRow, 10) >= 0 &&
                      n(t).jqGrid("editCell", t.p.iRow, t.p.iCol, !0);
                }
                return !1;
              }));
        });
      },
      getChangedCells: function(t) {
        var i = [];
        return (
          t || (t = "all"),
          this.each(function() {
            var r = this,
              u;
            r.grid &&
              r.p.cellEdit === !0 &&
              n(r.rows).each(function(f) {
                var e = {};
                n(this).hasClass("edited") &&
                  (n("td", this).each(function(i) {
                    if (
                      ((u = r.p.colModel[i].name),
                      u !== "cb" && u !== "subgrid")
                    )
                      if (t == "dirty") {
                        if (n(this).hasClass("dirty-cell"))
                          try {
                            e[u] = n.unformat(
                              this,
                              {
                                rowId: r.rows[f].id,
                                colModel: r.p.colModel[i]
                              },
                              i
                            );
                          } catch (o) {
                            e[u] = n.jgrid.htmlDecode(n(this).html());
                          }
                      } else
                        try {
                          e[u] = n.unformat(
                            this,
                            { rowId: r.rows[f].id, colModel: r.p.colModel[i] },
                            i
                          );
                        } catch (s) {
                          e[u] = n.jgrid.htmlDecode(n(this).html());
                        }
                  }),
                  (e.id = this.id),
                  i.push(e));
              });
          }),
          i
        );
      }
    });
  })(jQuery),
  (function(n) {
    n.fn.jqm = function(r) {
      var f = {
        overlay: 50,
        closeoverlay: !0,
        overlayClass: "jqmOverlay",
        closeClass: "jqmClose",
        trigger: ".jqModal",
        ajax: t,
        ajaxText: "",
        target: t,
        modal: t,
        toTop: t,
        onShow: t,
        onHide: t,
        onLoad: t
      };
      return this.each(function() {
        if (this._jqm)
          return (i[this._jqm].c = n.extend({}, i[this._jqm].c, r));
        u++;
        this._jqm = u;
        i[u] = {
          c: n.extend(f, n.jqm.params, r),
          a: t,
          w: n(this).addClass("jqmID" + u),
          s: u
        };
        f.trigger && n(this).jqmAddTrigger(f.trigger);
      });
    };
    n.fn.jqmAddClose = function(n) {
      return c(this, n, "jqmHide");
    };
    n.fn.jqmAddTrigger = function(n) {
      return c(this, n, "jqmShow");
    };
    n.fn.jqmShow = function(t) {
      return this.each(function() {
        n.jqm.open(this._jqm, t);
      });
    };
    n.fn.jqmHide = function(t) {
      return this.each(function() {
        n.jqm.close(this._jqm, t);
      });
    };
    n.jqm = {
      hash: {},
      open: function(u, f) {
        var s = i[u],
          c = s.c,
          v = "." + c.closeClass,
          l = parseInt(s.w.css("z-index")),
          a,
          y;
        if (
          ((l = l > 0 ? l : 3e3),
          (a = n("<div></div>").css({
            height: "100%",
            width: "100%",
            position: "fixed",
            left: 0,
            top: 0,
            "z-index": l - 1,
            opacity: c.overlay / 100
          })),
          s.a)
        )
          return t;
        if (
          ((s.t = f),
          (s.a = !0),
          s.w.css("z-index", l),
          c.modal
            ? (r[0] ||
                setTimeout(function() {
                  h("bind");
                }, 1),
              r.push(u))
            : c.overlay > 0
            ? c.closeoverlay && s.w.jqmAddClose(a)
            : (a = t),
          (s.o = a ? a.addClass(c.overlayClass).prependTo("body") : t),
          e && (n("html,body").css({ height: "100%", width: "100%" }), a))
        ) {
          a = a.css({ position: "absolute" })[0];
          for (y in { Top: 1, Left: 1 })
            a.style.setExpression(
              y.toLowerCase(),
              "(_=(document.documentElement.scroll" +
                y +
                " || document.body.scroll" +
                y +
                "))+'px'"
            );
        }
        return (
          c.ajax
            ? ((u = c.target || s.w),
              (l = c.ajax),
              (u = typeof u == "string" ? n(u, s.w) : n(u)),
              (l = l.substr(0, 1) == "@" ? n(f).attr(l.substring(1)) : l),
              u.html(c.ajaxText).load(l, function() {
                c.onLoad && c.onLoad.call(this, s);
                v && s.w.jqmAddClose(n(v, s.w));
                o(s);
              }))
            : v && s.w.jqmAddClose(n(v, s.w)),
          c.toTop &&
            s.o &&
            s.w
              .before('<span id="jqmP' + s.w[0]._jqm + '"></span>')
              .insertAfter(s.o),
          c.onShow ? c.onShow(s) : s.w.show(),
          o(s),
          t
        );
      },
      close: function(u) {
        if (((u = i[u]), !u.a)) return t;
        if (
          ((u.a = t),
          r[0] && (r.pop(), r[0] || h("unbind")),
          u.c.toTop &&
            u.o &&
            n("#jqmP" + u.w[0]._jqm)
              .after(u.w)
              .remove(),
          u.c.onHide)
        )
          u.c.onHide(u);
        else u.w.hide(), u.o && u.o.remove();
        return t;
      },
      params: {}
    };
    var u = 0,
      i = n.jqm.hash,
      r = [],
      e = n.browser.msie && n.browser.version == "6.0",
      t = !1,
      o = function(t) {
        var i = n(
          '<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>'
        ).css({ opacity: 0 });
        e &&
          (t.o
            ? t.o.html('<p style="width:100%;height:100%"/>').prepend(i)
            : n("iframe.jqm", t.w)[0] || t.w.prepend(i));
        s(t);
      },
      s = function(t) {
        try {
          n(":input:visible", t.w)[0].focus();
        } catch (i) {}
      },
      h = function(t) {
        n(document)
          [t]("keypress", f)
          [t]("keydown", f)
          [t]("mousedown", f);
      },
      f = function(t) {
        var u = i[r[r.length - 1]];
        return (t = !n(t.target).parents(".jqmID" + u.s)[0]) && s(u), !t;
      },
      c = function(r, u, f) {
        return r.each(function() {
          var r = this._jqm;
          n(u).each(function() {
            this[f] ||
              ((this[f] = []),
              n(this).click(function() {
                var n, r;
                for (n in { jqmShow: 1, jqmHide: 1 })
                  for (r in this[n]) i[this[n][r]] && i[this[n][r]].w[n](this);
                return t;
              }));
            this[f].push(r);
          });
        });
      };
  })(jQuery),
  (function(n) {
    n.fn.jqDrag = function(n) {
      return e(this, n, "d");
    };
    n.fn.jqResize = function(n, t) {
      return e(this, n, "r", t);
    };
    n.jqDnR = {
      dnr: {},
      e: 0,
      drag: function(n) {
        return (
          t.k == "d"
            ? i.css({ left: t.X + n.pageX - t.pX, top: t.Y + n.pageY - t.pY })
            : (i.css({
                width: Math.max(n.pageX - t.pX + t.W, 0),
                height: Math.max(n.pageY - t.pY + t.H, 0)
              }),
              M1 &&
                r.css({
                  width: Math.max(n.pageX - M1.pX + M1.W, 0),
                  height: Math.max(n.pageY - M1.pY + M1.H, 0)
                })),
          !1
        );
      },
      stop: function() {
        n(document)
          .unbind("mousemove", u.drag)
          .unbind("mouseup", u.stop);
      }
    };
    var u = n.jqDnR,
      t = u.dnr,
      i = u.e,
      r,
      e = function(u, e, o, s) {
        return u.each(function() {
          e = e ? n(e, u) : u;
          e.bind("mousedown", { e: u, k: o }, function(u) {
            var o = u.data,
              e = {};
            if (
              ((i = o.e), (r = s ? n(s) : !1), i.css("position") != "relative")
            )
              try {
                i.position(e);
              } catch (h) {}
            t = {
              X: e.left || f("left") || 0,
              Y: e.top || f("top") || 0,
              W: f("width") || i[0].scrollWidth || 0,
              H: f("height") || i[0].scrollHeight || 0,
              pX: u.pageX,
              pY: u.pageY,
              k: o.k
            };
            M1 =
              r && o.k != "d"
                ? {
                    X: e.left || f1("left") || 0,
                    Y: e.top || f1("top") || 0,
                    W: r[0].offsetWidth || f1("width") || 0,
                    H: r[0].offsetHeight || f1("height") || 0,
                    pX: u.pageX,
                    pY: u.pageY,
                    k: o.k
                  }
                : !1;
            try {
              n("input.hasDatepicker", i[0]).datepicker("hide");
            } catch (c) {}
            return (
              n(document)
                .mousemove(n.jqDnR.drag)
                .mouseup(n.jqDnR.stop),
              !1
            );
          });
        });
      },
      f = function(n) {
        return parseInt(i.css(n)) || !1;
      };
    f1 = function(n) {
      return parseInt(r.css(n)) || !1;
    };
  })(jQuery),
  (function(n) {
    n.jgrid.extend({
      setSubGrid: function() {
        return this.each(function() {
          var t = this,
            i;
          if (
            (t.p.colNames.unshift(""),
            t.p.colModel.unshift({
              name: "subgrid",
              width: n.browser.safari
                ? t.p.subGridWidth + t.p.cellLayout
                : t.p.subGridWidth,
              sortable: !1,
              resizable: !1,
              hidedlg: !0,
              search: !1,
              fixed: !0
            }),
            (t = t.p.subGridModel),
            t[0])
          )
            for (
              t[0].align = n.extend([], t[0].align || []), i = 0;
              i < t[0].name.length;
              i++
            )
              t[0].align[i] = t[0].align[i] || "left";
        });
      },
      addSubGridCell: function(n, t) {
        var i = "",
          u,
          r;
        return (
          this.each(function() {
            i = this.formatCol(n, t);
            u = this.p.gridview;
            r = this.p.id;
          }),
          u === !1
            ? '<td role="grid" aria-describedby="' +
              r +
              '_subgrid" class="ui-sgcollapsed sgcollapsed" ' +
              i +
              "><a href='javascript:void(0);'><span class='ui-icon ui-icon-plus'></span></a></td>"
            : '<td role="grid" aria-describedby="' +
              r +
              '_subgrid" ' +
              i +
              "></td>"
        );
      },
      addSubGrid: function(t, i) {
        return this.each(function() {
          var r = this;
          if (r.grid) {
            var s = function(t, i, u) {
                i = n(
                  "<td align='" + r.p.subGridModel[0].align[u] + "'></td>"
                ).html(i);
                n(t).append(i);
              },
              c = function(t, i) {
                for (
                  var o,
                    e,
                    h = n(
                      "<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"
                    ),
                    f = n("<tr></tr>"),
                    u = 0;
                  u < r.p.subGridModel[0].name.length;
                  u++
                )
                  (o = n(
                    "<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-" +
                      r.p.direction +
                      "'></th>"
                  )),
                    n(o).html(r.p.subGridModel[0].name[u]),
                    n(o).width(r.p.subGridModel[0].width[u]),
                    n(f).append(o);
                return (
                  n(h).append(f),
                  t &&
                    ((e = r.p.xmlReader.subgrid),
                    n(e.root + " " + e.row, t).each(function() {
                      if (
                        ((f = n(
                          "<tr class='ui-widget-content ui-subtblcell'></tr>"
                        )),
                        e.repeatitems === !0)
                      )
                        n(e.cell, this).each(function(t) {
                          s(f, n(this).text() || "&#160;", t);
                        });
                      else {
                        var t =
                          r.p.subGridModel[0].mapping ||
                          r.p.subGridModel[0].name;
                        if (t)
                          for (u = 0; u < t.length; u++)
                            s(f, n(t[u], this).text() || "&#160;", u);
                      }
                      n(h).append(f);
                    })),
                  (t = n("table:first", r.grid.bDiv).attr("id") + "_"),
                  n("#" + t + i).append(h),
                  (r.grid.hDiv.loading = !1),
                  n("#load_" + r.p.id).hide(),
                  !1
                );
              },
              l = function(t, i) {
                for (
                  var e,
                    o,
                    f,
                    l = n(
                      "<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"
                    ),
                    h = n("<tr></tr>"),
                    c,
                    u = 0;
                  u < r.p.subGridModel[0].name.length;
                  u++
                )
                  (e = n(
                    "<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-" +
                      r.p.direction +
                      "'></th>"
                  )),
                    n(e).html(r.p.subGridModel[0].name[u]),
                    n(e).width(r.p.subGridModel[0].width[u]),
                    n(h).append(e);
                if (
                  (n(l).append(h),
                  t &&
                    ((e = r.p.jsonReader.subgrid),
                    (t = t[e.root]),
                    typeof t != "undefined"))
                )
                  for (u = 0; u < t.length; u++) {
                    if (
                      ((o = t[u]),
                      (h = n(
                        "<tr class='ui-widget-content ui-subtblcell'></tr>"
                      )),
                      e.repeatitems === !0)
                    )
                      for (e.cell && (o = o[e.cell]), f = 0; f < o.length; f++)
                        s(h, o[f] || "&#160;", f);
                    else if (
                      ((c =
                        r.p.subGridModel[0].mapping ||
                        r.p.subGridModel[0].name),
                      c.length)
                    )
                      for (f = 0; f < c.length; f++)
                        s(h, o[c[f]] || "&#160;", f);
                    n(l).append(h);
                  }
                return (
                  (u = n("table:first", r.grid.bDiv).attr("id") + "_"),
                  n("#" + u + i).append(l),
                  (r.grid.hDiv.loading = !1),
                  n("#load_" + r.p.id).hide(),
                  !1
                );
              },
              y = function(t) {
                var f, i, u, e;
                if (
                  ((f = n(t).attr("id")),
                  (i = { nd_: new Date().getTime() }),
                  (i[r.p.prmNames.subgridid] = f),
                  !r.p.subGridModel[0])
                )
                  return !1;
                if (r.p.subGridModel[0].params)
                  for (e = 0; e < r.p.subGridModel[0].params.length; e++)
                    for (u = 0; u < r.p.colModel.length; u++)
                      r.p.colModel[u].name == r.p.subGridModel[0].params[e] &&
                        (i[r.p.colModel[u].name] = n("td:eq(" + u + ")", t)
                          .text()
                          .replace(/\&#160\;/gi, ""));
                if (!r.grid.hDiv.loading) {
                  r.grid.hDiv.loading = !0;
                  n("#load_" + r.p.id).show();
                  r.p.subgridtype || (r.p.subgridtype = r.p.datatype);
                  n.isFunction(r.p.subgridtype)
                    ? r.p.subgridtype.call(r, i)
                    : (r.p.subgridtype = r.p.subgridtype.toLowerCase());
                  switch (r.p.subgridtype) {
                    case "xml":
                    case "json":
                      n.ajax(
                        n.extend(
                          {
                            type: r.p.mtype,
                            url: r.p.subGridUrl,
                            dataType: r.p.subgridtype,
                            data: n.isFunction(r.p.serializeSubGridData)
                              ? r.p.serializeSubGridData.call(r, i)
                              : i,
                            complete: function(t) {
                              r.p.subgridtype == "xml"
                                ? c(t.responseXML, f)
                                : l(n.jgrid.parse(t.responseText), f);
                            }
                          },
                          n.jgrid.ajaxOptions,
                          r.p.ajaxSubgridOptions || {}
                        )
                      );
                  }
                }
                return !1;
              },
              e,
              u,
              o,
              a,
              h,
              v,
              f;
            n("td:eq(" + i + ")", t).click(function() {
              if (n(this).hasClass("sgcollapsed")) {
                if (
                  ((o = r.p.id),
                  (e = n(this).parent()),
                  (a = i >= 1 ? "<td colspan='" + i + "'>&#160;</td>" : ""),
                  (u = n(e).attr("id")),
                  (f = !0),
                  n.isFunction(r.p.subGridBeforeExpand) &&
                    (f = r.p.subGridBeforeExpand.call(r, o + "_" + u, u)),
                  f === !1)
                )
                  return !1;
                h = 0;
                n.each(r.p.colModel, function() {
                  (this.hidden === !0 ||
                    this.name == "rn" ||
                    this.name == "cb") &&
                    h++;
                });
                v =
                  "<tr role='row' class='ui-subgrid'>" +
                  a +
                  "<td class='ui-widget-content subgrid-cell'><span class='ui-icon ui-icon-carat-1-sw'/></td><td colspan='" +
                  parseInt(r.p.colNames.length - 1 - h, 10) +
                  "' class='ui-widget-content subgrid-data'><div id=" +
                  o +
                  "_" +
                  u +
                  " class='tablediv'>";
                n(this)
                  .parent()
                  .after(v + "</div></td></tr>");
                n.isFunction(r.p.subGridRowExpanded)
                  ? r.p.subGridRowExpanded.call(r, o + "_" + u, u)
                  : y(e);
                n(this)
                  .html(
                    "<a href='javascript:void(0);'><span class='ui-icon ui-icon-minus'></span></a>"
                  )
                  .removeClass("sgcollapsed")
                  .addClass("sgexpanded");
              } else if (n(this).hasClass("sgexpanded")) {
                if (
                  ((f = !0),
                  n.isFunction(r.p.subGridRowColapsed) &&
                    ((e = n(this).parent()),
                    (u = n(e).attr("id")),
                    (f = r.p.subGridRowColapsed.call(r, o + "_" + u, u))),
                  f === !1)
                )
                  return !1;
                n(this)
                  .parent()
                  .next()
                  .remove(".ui-subgrid");
                n(this)
                  .html(
                    "<a href='javascript:void(0);'><span class='ui-icon ui-icon-plus'></span></a>"
                  )
                  .removeClass("sgexpanded")
                  .addClass("sgcollapsed");
              }
              return !1;
            });
            r.subGridXml = function(n, t) {
              c(n, t);
            };
            r.subGridJson = function(n, t) {
              l(n, t);
            };
          }
        });
      },
      expandSubGridRow: function(t) {
        return this.each(function() {
          var i = this;
          (i.grid || t) &&
            i.p.subGrid === !0 &&
            (i = n(this).jqGrid("getInd", t, !0)) &&
            (i = n("td.sgcollapsed", i)[0]) &&
            n(i).trigger("click");
        });
      },
      collapseSubGridRow: function(t) {
        return this.each(function() {
          var i = this;
          (i.grid || t) &&
            i.p.subGrid === !0 &&
            (i = n(this).jqGrid("getInd", t, !0)) &&
            (i = n("td.sgexpanded", i)[0]) &&
            n(i).trigger("click");
        });
      },
      toggleSubGridRow: function(t) {
        return this.each(function() {
          var i = this,
            r;
          (i.grid || t) &&
            i.p.subGrid === !0 &&
            (i = n(this).jqGrid("getInd", t, !0)) &&
            ((r = n("td.sgcollapsed", i)[0]),
            r
              ? n(r).trigger("click")
              : (r = n("td.sgexpanded", i)[0]) && n(r).trigger("click"));
        });
      }
    });
  })(jQuery),
  (function(n) {
    n.jgrid.extend({
      groupingSetup: function() {
        return this.each(function() {
          var r = this,
            t = r.p.groupingView,
            i;
          if (t !== null && (typeof t == "object" || n.isFunction(t)))
            if (t.groupField.length) {
              for (i = 0; i < t.groupField.length; i++)
                if (
                  (t.groupOrder[i] || (t.groupOrder[i] = "asc"),
                  t.groupText[i] || (t.groupText[i] = "{0}"),
                  typeof t.groupColumnShow[i] != "boolean" &&
                    (t.groupColumnShow[i] = !0),
                  typeof t.groupSummary[i] != "boolean" &&
                    (t.groupSummary[i] = !1),
                  t.groupColumnShow[i] === !0
                    ? n(r).jqGrid("showCol", t.groupField[i])
                    : n(r).jqGrid("hideCol", t.groupField[i]),
                  (t.sortitems[i] = []),
                  (t.sortnames[i] = []),
                  (t.summaryval[i] = []),
                  t.groupSummary[i])
                ) {
                  t.summary[i] = [];
                  for (var f = r.p.colModel, u = 0, e = f.length; u < e; u++)
                    f[u].summaryType &&
                      t.summary[i].push({
                        nm: f[u].name,
                        st: f[u].summaryType,
                        v: ""
                      });
                }
              r.p.scroll = !1;
              r.p.rownumbers = !1;
              r.p.subGrid = !1;
              r.p.treeGrid = !1;
              r.p.gridview = !0;
            } else r.p.grouping = !1;
          else r.p.grouping = !1;
        });
      },
      groupingPrepare: function(t, i, r, u) {
        return (
          this.each(function() {
            i[0] += "";
            var f = i[0]
                .toString()
                .split(" ")
                .join(""),
              e = this.p.groupingView,
              o = this;
            r.hasOwnProperty(f)
              ? r[f].push(t)
              : ((r[f] = []),
                r[f].push(t),
                e.sortitems[0].push(f),
                e.sortnames[0].push(n.trim(i[0].toString())),
                (e.summaryval[0][f] = n.extend(!0, [], e.summary[0])));
            e.groupSummary[0] &&
              n.each(e.summaryval[0][f], function() {
                this.v = n.isFunction(this.st)
                  ? this.st.call(o, this.v, this.nm, u)
                  : n(o).jqGrid(
                      "groupingCalculations." + this.st,
                      this.v,
                      this.nm,
                      u
                    );
              });
          }),
          r
        );
      },
      groupingToggle: function(t) {
        return (
          this.each(function() {
            var r = this.p.groupingView,
              i = t.lastIndexOf("_"),
              e = t.substring(0, i + 1),
              u,
              f;
            i = parseInt(t.substring(i + 1), 10) + 1;
            u = r.minusicon;
            f = r.plusicon;
            n("#" + t + " span").hasClass(u)
              ? (r.showSummaryOnHide && r.groupSummary[0]
                  ? n("#" + t)
                      .nextUntil(".jqfoot")
                      .hide()
                  : n("#" + t)
                      .nextUntil("#" + e + String(i))
                      .hide(),
                n("#" + t + " span")
                  .removeClass(u)
                  .addClass(f))
              : (n("#" + t)
                  .nextUntil("#" + e + String(i))
                  .show(),
                n("#" + t + " span")
                  .removeClass(f)
                  .addClass(u));
          }),
          !1
        );
      },
      groupingRender: function(t, i) {
        return this.each(function() {
          var u = this,
            r = u.p.groupingView,
            f = "",
            c = "",
            o,
            s = "",
            h,
            l,
            e;
          for (
            r.groupDataSorted ||
              (r.sortitems[0].sort(),
              r.sortnames[0].sort(),
              r.groupOrder[0].toLowerCase() == "desc" &&
                (r.sortitems[0].reverse(), r.sortnames[0].reverse())),
              s = r.groupCollapse ? r.plusicon : r.minusicon,
              s += " tree-wrap-" + u.p.direction,
              e = 0;
            e < i;

          ) {
            if (u.p.colModel[e].name == r.groupField[0]) {
              l = e;
              break;
            }
            e++;
          }
          n.each(r.sortitems[0], function(e, a) {
            var w, b;
            o = u.p.id + "ghead_" + e;
            c =
              "<span style='cursor:pointer;' class='ui-icon " +
              s +
              "' onclick=\"jQuery('#" +
              u.p.id +
              "').jqGrid('groupingToggle','" +
              o +
              "');return false;\"></span>";
            try {
              h = u.formatter(o, r.sortnames[0][e], l, r.sortitems[0]);
            } catch (d) {
              h = r.sortnames[0][e];
            }
            for (
              f +=
                '<tr id="' +
                o +
                '" role="row" class= "ui-widget-content jqgroup ui-row-' +
                u.p.direction +
                '"><td colspan="' +
                i +
                '">' +
                c +
                n.jgrid.format(r.groupText[0], h, t[a].length) +
                "</td></tr>",
                e = 0;
              e < t[a].length;
              e++
            )
              f += t[a][e].join("");
            if (r.groupSummary[0]) {
              e = "";
              r.groupCollapse &&
                !r.showSummaryOnHide &&
                (e = ' style="display:none;"');
              f +=
                "<tr" +
                e +
                ' role="row" class="ui-widget-content jqfoot ui-row-' +
                u.p.direction +
                '">';
              e = r.summaryval[0][a];
              for (var y = u.p.colModel, p, k = t[a].length, v = 0; v < i; v++)
                (w = "<td " + u.formatCol(v, 1, "") + ">&#160;</td>"),
                  (b = "{0}"),
                  n.each(e, function() {
                    if (this.nm == y[v].name) {
                      y[v].summaryTpl && (b = y[v].summaryTpl);
                      this.st == "avg" && this.v && k > 0 && (this.v /= k);
                      try {
                        p = u.formatter("", this.v, v, this);
                      } catch (t) {
                        p = this.v;
                      }
                      return (
                        (w =
                          "<td " +
                          u.formatCol(v, 1, "") +
                          ">" +
                          n.jgrid.format(b, p) +
                          "</td>"),
                        !1
                      );
                    }
                  }),
                  (f += w);
              f += "</tr>";
            }
          });
          n("#" + u.p.id + " tbody:first").append(f);
          f = null;
        });
      },
      groupingGroupBy: function(t, i) {
        return this.each(function() {
          var r = this,
            u,
            f;
          for (
            typeof t == "string" && (t = [t]),
              u = r.p.groupingView,
              r.p.grouping = !0,
              f = 0;
            f < u.groupField.length;
            f++
          )
            u.groupColumnShow[f] || n(r).jqGrid("showCol", u.groupField[f]);
          r.p.groupingView = n.extend(r.p.groupingView, i || {});
          u.groupField = t;
          n(r).trigger("reloadGrid");
        });
      },
      groupingRemove: function(t) {
        return this.each(function() {
          var i = this;
          typeof t == "undefined" && (t = !0);
          i.p.grouping = !1;
          t === !0
            ? (n(
                "tr.jqgroup, tr.jqfoot",
                "#" + i.p.id + " tbody:first"
              ).remove(),
              n("tr.jqgrow:hidden", "#" + i.p.id + " tbody:first").show())
            : n(i).trigger("reloadGrid");
        });
      },
      groupingCalculations: {
        sum: function(n, t, i) {
          return parseFloat(n || 0) + parseFloat(i[t] || 0);
        },
        min: function(n, t, i) {
          return n === ""
            ? parseFloat(i[t] || 0)
            : Math.min(parseFloat(n), parseFloat(i[t] || 0));
        },
        max: function(n, t, i) {
          return n === ""
            ? parseFloat(i[t] || 0)
            : Math.max(parseFloat(n), parseFloat(i[t] || 0));
        },
        count: function(n, t, i) {
          return n === "" && (n = 0), i.hasOwnProperty(t) ? n + 1 : 0;
        },
        avg: function(n, t, i) {
          return parseFloat(n || 0) + parseFloat(i[t] || 0);
        }
      }
    });
  })(jQuery),
  (function(n) {
    n.jgrid.extend({
      setColumns: function(t) {
        return (
          (t = n.extend(
            {
              top: 0,
              left: 0,
              width: 200,
              height: "auto",
              dataheight: "auto",
              modal: !1,
              drag: !0,
              beforeShowForm: null,
              afterShowForm: null,
              afterSubmitForm: null,
              closeOnEscape: !0,
              ShrinkToFit: !1,
              jqModal: !1,
              saveicon: [!0, "left", "ui-icon-disk"],
              closeicon: [!0, "left", "ui-icon-close"],
              onClose: null,
              colnameview: !0,
              closeAfterSubmit: !0,
              updateAfterCheck: !1,
              recreateForm: !1
            },
            n.jgrid.col,
            t || {}
          )),
          this.each(function() {
            var r = this,
              o;
            if (r.grid) {
              var s = typeof t.beforeShowForm == "function" ? !0 : !1,
                h = typeof t.afterShowForm == "function" ? !0 : !1,
                c = typeof t.afterSubmitForm == "function" ? !0 : !1,
                f = r.p.id,
                u = "ColTbl_" + f,
                e = {
                  themodal: "colmod" + f,
                  modalhead: "colhd" + f,
                  modalcontent: "colcnt" + f,
                  scrollelm: u
                };
              if (
                (t.recreateForm === !0 &&
                  n("#" + e.themodal).html() != null &&
                  n("#" + e.themodal).remove(),
                n("#" + e.themodal).html() != null)
              )
                s && t.beforeShowForm(n("#" + u)),
                  n.jgrid.viewModal("#" + e.themodal, {
                    gbox: "#gbox_" + f,
                    jqm: t.jqModal,
                    jqM: !1,
                    modal: t.modal
                  });
              else {
                for (
                  o = isNaN(t.dataheight) ? t.dataheight : t.dataheight + "px",
                    o =
                      "<div id='" +
                      u +
                      "' class='formdata' style='width:100%;overflow:auto;position:relative;height:" +
                      o +
                      ";'>",
                    o +=
                      "<table class='ColTable' cellspacing='1' cellpading='2' border='0'><tbody>",
                    i = 0;
                  i < this.p.colNames.length;
                  i++
                )
                  r.p.colModel[i].hidedlg ||
                    (o +=
                      "<tr><td style='white-space: pre;'><input type='checkbox' style='margin-right:5px;' id='col_" +
                      this.p.colModel[i].name +
                      "' class='cbox' value='T' " +
                      (this.p.colModel[i].hidden === !1 ? "checked" : "") +
                      "/><label for='col_" +
                      this.p.colModel[i].name +
                      "'>" +
                      this.p.colNames[i] +
                      (t.colnameview
                        ? " (" + this.p.colModel[i].name + ")"
                        : "") +
                      "</label></td></tr>");
                o += "</tbody></table></div>";
                o +=
                  "<table border='0' class='EditTable' id='" +
                  u +
                  "_2'><tbody><tr style='display:block;height:3px;'><td></td></tr><tr><td class='DataTD ui-widget-content'></td></tr><tr><td class='ColButton EditButton'>" +
                  (t.updateAfterCheck
                    ? ""
                    : "<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>" +
                      t.bSubmit +
                      "</a>") +
                  "&#160;" +
                  ("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>" +
                    t.bCancel +
                    "</a>") +
                  "</td></tr></tbody></table>";
                t.gbox = "#gbox_" + f;
                n.jgrid.createModal(
                  e,
                  o,
                  t,
                  "#gview_" + r.p.id,
                  n("#gview_" + r.p.id)[0]
                );
                t.saveicon[0] == !0 &&
                  n("#dData", "#" + u + "_2")
                    .addClass(
                      t.saveicon[1] == "right"
                        ? "fm-button-icon-right"
                        : "fm-button-icon-left"
                    )
                    .append(
                      "<span class='ui-icon " + t.saveicon[2] + "'></span>"
                    );
                t.closeicon[0] == !0 &&
                  n("#eData", "#" + u + "_2")
                    .addClass(
                      t.closeicon[1] == "right"
                        ? "fm-button-icon-right"
                        : "fm-button-icon-left"
                    )
                    .append(
                      "<span class='ui-icon " + t.closeicon[2] + "'></span>"
                    );
                t.updateAfterCheck
                  ? n(":input", "#" + u).click(function() {
                      var i = this.id.substr(4);
                      return (
                        i &&
                          (this.checked
                            ? n(r).jqGrid("showCol", i)
                            : n(r).jqGrid("hideCol", i),
                          t.ShrinkToFit === !0 &&
                            n(r).jqGrid(
                              "setGridWidth",
                              r.grid.width - 0.001,
                              !0
                            )),
                        this
                      );
                    })
                  : n("#dData", "#" + u + "_2").click(function() {
                      for (i = 0; i < r.p.colModel.length; i++)
                        if (!r.p.colModel[i].hidedlg) {
                          var o = r.p.colModel[i].name.replace(/\./g, "\\.");
                          n("#col_" + o, "#" + u).prop("checked")
                            ? (n(r).jqGrid("showCol", r.p.colModel[i].name),
                              n("#col_" + o, "#" + u).attr(
                                "defaultChecked",
                                !0
                              ))
                            : (n(r).jqGrid("hideCol", r.p.colModel[i].name),
                              n("#col_" + o, "#" + u).attr(
                                "defaultChecked",
                                ""
                              ));
                        }
                      return (
                        t.ShrinkToFit === !0 &&
                          n(r).jqGrid("setGridWidth", r.grid.width - 0.001, !0),
                        t.closeAfterSubmit &&
                          n.jgrid.hideModal("#" + e.themodal, {
                            gb: "#gbox_" + f,
                            jqm: t.jqModal,
                            onClose: t.onClose
                          }),
                        c && t.afterSubmitForm(n("#" + u)),
                        !1
                      );
                    });
                n("#eData", "#" + u + "_2").click(function() {
                  return (
                    n.jgrid.hideModal("#" + e.themodal, {
                      gb: "#gbox_" + f,
                      jqm: t.jqModal,
                      onClose: t.onClose
                    }),
                    !1
                  );
                });
                n("#dData, #eData", "#" + u + "_2").hover(
                  function() {
                    n(this).addClass("ui-state-hover");
                  },
                  function() {
                    n(this).removeClass("ui-state-hover");
                  }
                );
                s && t.beforeShowForm(n("#" + u));
                n.jgrid.viewModal("#" + e.themodal, {
                  gbox: "#gbox_" + f,
                  jqm: t.jqModal,
                  jqM: !0,
                  modal: t.modal
                });
              }
              h && t.afterShowForm(n("#" + u));
            }
          })
        );
      }
    });
  })(jQuery),
  (function(n) {
    n.jgrid.extend({
      getPostData: function() {
        var n = this[0];
        if (n.grid) return n.p.postData;
      },
      setPostData: function(n) {
        var t = this[0];
        t.grid &&
          (typeof n == "object"
            ? (t.p.postData = n)
            : alert(
                "Error: cannot add a non-object postData value. postData unchanged."
              ));
      },
      appendPostData: function(t) {
        var i = this[0];
        i.grid &&
          (typeof t == "object"
            ? n.extend(i.p.postData, t)
            : alert(
                "Error: cannot append a non-object postData value. postData unchanged."
              ));
      },
      setPostDataItem: function(n, t) {
        var i = this[0];
        i.grid && (i.p.postData[n] = t);
      },
      getPostDataItem: function(n) {
        var t = this[0];
        if (t.grid) return t.p.postData[n];
      },
      removePostDataItem: function(n) {
        var t = this[0];
        t.grid && delete t.p.postData[n];
      },
      getUserData: function() {
        var n = this[0];
        if (n.grid) return n.p.userData;
      },
      getUserDataItem: function(n) {
        var t = this[0];
        if (t.grid) return t.p.userData[n];
      }
    });
  })(jQuery),
  (function(n) {
    if (
      (n.browser.msie &&
        n.browser.version == 8 &&
        (n.expr[":"].hidden = function(n) {
          return (
            n.offsetWidth === 0 ||
            n.offsetHeight === 0 ||
            n.style.display == "none"
          );
        }),
      (n.jgrid._multiselect = !1),
      n.ui && n.ui.multiselect)
    ) {
      if (n.ui.multiselect.prototype._setSelected) {
        var t = n.ui.multiselect.prototype._setSelected;
        n.ui.multiselect.prototype._setSelected = function(i, r) {
          if (((i = t.call(this, i, r)), r && this.selectedList)) {
            var u = this.element;
            this.selectedList.find("li").each(function() {
              n(this).data("optionLink") &&
                n(this)
                  .data("optionLink")
                  .remove()
                  .appendTo(u);
            });
          }
          return i;
        };
      }
      n.ui.multiselect.prototype.destroy &&
        (n.ui.multiselect.prototype.destroy = function() {
          this.element.show();
          this.container.remove();
          n.Widget === undefined
            ? n.widget.prototype.destroy.apply(this, arguments)
            : n.Widget.prototype.destroy.apply(this, arguments);
        });
      n.jgrid._multiselect = !0;
    }
    n.jgrid.extend({
      sortableColumns: function(t) {
        return this.each(function() {
          function u() {
            i.p.disableClick = !0;
          }
          var i = this,
            r = {
              tolerance: "pointer",
              axis: "x",
              scrollSensitivity: "1",
              items: ">th:not(:has(#jqgh_cb,#jqgh_rn,#jqgh_subgrid),:hidden)",
              placeholder: {
                element: function(t) {
                  return n(document.createElement(t[0].nodeName))
                    .addClass(
                      t[0].className +
                        " ui-sortable-placeholder ui-state-highlight"
                    )
                    .removeClass("ui-sortable-helper")[0];
                },
                update: function(n, t) {
                  t.height(
                    n.currentItem.innerHeight() -
                      parseInt(n.currentItem.css("paddingTop") || 0, 10) -
                      parseInt(n.currentItem.css("paddingBottom") || 0, 10)
                  );
                  t.width(
                    n.currentItem.innerWidth() -
                      parseInt(n.currentItem.css("paddingLeft") || 0, 10) -
                      parseInt(n.currentItem.css("paddingRight") || 0, 10)
                  );
                }
              },
              update: function(t, r) {
                var u, f;
                t = n(r.item).parent();
                t = n(">th", t);
                u = {};
                n.each(i.p.colModel, function(n) {
                  u[this.name] = n;
                });
                f = [];
                t.each(function() {
                  var t = n(">div", this)
                    .get(0)
                    .id.replace(/^jqgh_/, "");
                  t in u && f.push(u[t]);
                });
                n(i).jqGrid("remapColumns", f, !0, !0);
                n.isFunction(i.p.sortable.update) && i.p.sortable.update(f);
                setTimeout(function() {
                  i.p.disableClick = !1;
                }, 50);
              }
            },
            f;
          i.p.sortable.options
            ? n.extend(r, i.p.sortable.options)
            : n.isFunction(i.p.sortable) &&
              (i.p.sortable = { update: i.p.sortable });
          r.start
            ? ((f = r.start),
              (r.start = function(n, t) {
                u();
                f.call(this, n, t);
              }))
            : (r.start = u);
          i.p.sortable.exclude &&
            (r.items += ":not(" + i.p.sortable.exclude + ")");
          t.sortable(r).data("sortable").floating = !0;
        });
      },
      columnChooser: function(t) {
        function h(n, t, i) {
          if (t >= 0) {
            var r = n.slice(),
              u = r.splice(t, Math.max(n.length - t, t));
            return t > n.length && (t = n.length), (r[t] = i), r.concat(u);
          }
        }
        function f(t, i) {
          t &&
            (typeof t == "string"
              ? n.fn[t] && n.fn[t].apply(i, n.makeArray(arguments).slice(2))
              : n.isFunction(t) && t.apply(i, n.makeArray(arguments).slice(2)));
        }
        var i = this,
          u,
          r,
          o;
        if (!n("#colchooser_" + i[0].p.id).length) {
          if (
            ((u = n(
              '<div id="colchooser_' +
                i[0].p.id +
                '" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'
            )),
            (r = n("select", u)),
            (t = n.extend(
              {
                width: 420,
                height: 240,
                classname: null,
                done: function(n) {
                  n && i.jqGrid("remapColumns", n, !0);
                },
                msel: "multiselect",
                dlog: "dialog",
                dlog_opts: function(n) {
                  var t = {};
                  return (
                    (t[n.bSubmit] = function() {
                      n.apply_perm();
                      n.cleanup(!1);
                    }),
                    (t[n.bCancel] = function() {
                      n.cleanup(!0);
                    }),
                    {
                      buttons: t,
                      close: function() {
                        n.cleanup(!0);
                      },
                      modal: !1,
                      resizable: !1,
                      width: n.width + 20
                    }
                  );
                },
                apply_perm: function() {
                  n("option", r).each(function() {
                    this.selected
                      ? i.jqGrid("showCol", e[this.value].name)
                      : i.jqGrid("hideCol", e[this.value].name);
                  });
                  var u = [];
                  n("option[selected]", r).each(function() {
                    u.push(parseInt(this.value, 10));
                  });
                  n.each(u, function() {
                    delete s[e[parseInt(this, 10)].name];
                  });
                  n.each(s, function() {
                    var n = parseInt(this, 10);
                    u = h(u, n, n);
                  });
                  t.done && t.done.call(i, u);
                },
                cleanup: function(n) {
                  f(t.dlog, u, "destroy");
                  f(t.msel, r, "destroy");
                  u.remove();
                  n && t.done && t.done.call(i);
                },
                msel_opts: {}
              },
              n.jgrid.col,
              t || {}
            )),
            n.ui && n.ui.multiselect && t.msel == "multiselect")
          ) {
            if (!n.jgrid._multiselect) {
              alert(
                "Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!"
              );
              return;
            }
            t.msel_opts = n.extend(n.ui.multiselect.defaults, t.msel_opts);
          }
          t.caption && u.attr("title", t.caption);
          t.classname && (u.addClass(t.classname), r.addClass(t.classname));
          t.width &&
            (n(">div", u).css({ width: t.width, margin: "0 auto" }),
            r.css("width", t.width));
          t.height &&
            (n(">div", u).css("height", t.height),
            r.css("height", t.height - 10));
          var e = i.jqGrid("getGridParam", "colModel"),
            c = i.jqGrid("getGridParam", "colNames"),
            s = {},
            l = [];
          r.empty();
          n.each(e, function(n) {
            s[this.name] = n;
            this.hidedlg
              ? this.hidden || l.push(n)
              : r.append(
                  "<option value='" +
                    n +
                    "' " +
                    (this.hidden ? "" : "selected='selected'") +
                    ">" +
                    c[n] +
                    "</option>"
                );
          });
          o = n.isFunction(t.dlog_opts) ? t.dlog_opts.call(i, t) : t.dlog_opts;
          f(t.dlog, u, o);
          o = n.isFunction(t.msel_opts) ? t.msel_opts.call(i, t) : t.msel_opts;
          f(t.msel, r, o);
        }
      },
      sortableRows: function(t) {
        return this.each(function() {
          var i = this;
          i.grid &&
            (i.p.treeGrid ||
              (n.fn.sortable &&
                ((t = n.extend(
                  { cursor: "move", axis: "y", items: ".jqgrow" },
                  t || {}
                )),
                t.start && n.isFunction(t.start)
                  ? ((t._start_ = t.start), delete t.start)
                  : (t._start_ = !1),
                t.update && n.isFunction(t.update)
                  ? ((t._update_ = t.update), delete t.update)
                  : (t._update_ = !1),
                (t.start = function(r, u) {
                  if (
                    (n(u.item).css("border-width", "0px"),
                    n("td", u.item).each(function(n) {
                      this.style.width = i.grid.cols[n].style.width;
                    }),
                    i.p.subGrid)
                  ) {
                    var f = n(u.item).attr("id");
                    try {
                      n(i).jqGrid("collapseSubGridRow", f);
                    } catch (e) {}
                  }
                  t._start_ && t._start_.apply(this, [r, u]);
                }),
                (t.update = function(r, u) {
                  n(u.item).css("border-width", "");
                  i.p.rownumbers === !0 &&
                    n("td.jqgrid-rownum", i.rows).each(function(t) {
                      n(this).html(t + 1 + (i.p.page - 1) * i.p.rowNum);
                    });
                  t._update_ && t._update_.apply(this, [r, u]);
                }),
                n("tbody:first", i).sortable(t),
                n("tbody:first", i).disableSelection())));
        });
      },
      gridDnD: function(t) {
        return this.each(function() {
          function u() {
            var t = n.data(i, "dnd");
            n("tr.jqgrow:not(.ui-draggable)", i).draggable(
              n.isFunction(t.drag) ? t.drag.call(n(i), t) : t.drag
            );
          }
          var i = this,
            r;
          if (i.grid && !i.p.treeGrid && n.fn.draggable && n.fn.droppable)
            if (
              (n("#jqgrid_dnd").html() === null &&
                n("body").append(
                  "<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"
                ),
              typeof t == "string" && t == "updateDnD" && i.p.jqgdnd === !0)
            )
              u();
            else if (
              ((t = n.extend(
                {
                  drag: function(t) {
                    return n.extend(
                      {
                        start: function(r, u) {
                          if (i.p.subGrid) {
                            var f = n(u.helper).attr("id");
                            try {
                              n(i).jqGrid("collapseSubGridRow", f);
                            } catch (e) {}
                          }
                          for (
                            f = 0;
                            f < n.data(i, "dnd").connectWith.length;
                            f++
                          )
                            n(n.data(i, "dnd").connectWith[f]).jqGrid(
                              "getGridParam",
                              "reccount"
                            ) == "0" &&
                              n(n.data(i, "dnd").connectWith[f]).jqGrid(
                                "addRowData",
                                "jqg_empty_row",
                                {}
                              );
                          u.helper.addClass("ui-state-highlight");
                          n("td", u.helper).each(function(n) {
                            this.style.width = i.grid.headers[n].width + "px";
                          });
                          t.onstart &&
                            n.isFunction(t.onstart) &&
                            t.onstart.call(n(i), r, u);
                        },
                        stop: function(r, u) {
                          if (u.helper.dropped) {
                            var f = n(u.helper).attr("id");
                            n(i).jqGrid("delRowData", f);
                          }
                          for (
                            f = 0;
                            f < n.data(i, "dnd").connectWith.length;
                            f++
                          )
                            n(n.data(i, "dnd").connectWith[f]).jqGrid(
                              "delRowData",
                              "jqg_empty_row"
                            );
                          t.onstop &&
                            n.isFunction(t.onstop) &&
                            t.onstop.call(n(i), r, u);
                        }
                      },
                      t.drag_opts || {}
                    );
                  },
                  drop: function(t) {
                    return n.extend(
                      {
                        accept: function(t) {
                          if (!n(t).hasClass("jqgrow")) return t;
                          var i = n(t).closest("table.ui-jqgrid-btable");
                          return i.length > 0 &&
                            n.data(i[0], "dnd") !== undefined
                            ? ((t = n.data(i[0], "dnd").connectWith),
                              n.inArray("#" + this.id, t) != -1 ? !0 : !1)
                            : t;
                        },
                        drop: function(r, u) {
                          var f, h, o;
                          if (n(u.draggable).hasClass("jqgrow")) {
                            if (
                              ((f = n(u.draggable).attr("id")),
                              (f = u.draggable
                                .parent()
                                .parent()
                                .jqGrid("getRowData", f)),
                              !t.dropbyname)
                            ) {
                              var s = 0,
                                c = {},
                                e,
                                l = n("#" + this.id).jqGrid(
                                  "getGridParam",
                                  "colModel"
                                );
                              try {
                                for (h in f)
                                  f.hasOwnProperty(h) &&
                                    l[s] &&
                                    ((e = l[s].name), (c[e] = f[h])),
                                    s++;
                                f = c;
                              } catch (a) {}
                            }
                            u.helper.dropped = !0;
                            t.beforedrop &&
                              n.isFunction(t.beforedrop) &&
                              ((e = t.beforedrop.call(
                                this,
                                r,
                                u,
                                f,
                                n("#" + i.id),
                                n(this)
                              )),
                              typeof e != "undefined" &&
                                e !== null &&
                                typeof e == "object" &&
                                (f = e));
                            u.helper.dropped &&
                              (t.autoid &&
                                (n.isFunction(t.autoid)
                                  ? (o = t.autoid.call(this, f))
                                  : ((o = Math.ceil(Math.random() * 1e3)),
                                    (o = t.autoidprefix + o))),
                              n("#" + this.id).jqGrid(
                                "addRowData",
                                o,
                                f,
                                t.droppos
                              ));
                            t.ondrop &&
                              n.isFunction(t.ondrop) &&
                              t.ondrop.call(this, r, u, f);
                          }
                        }
                      },
                      t.drop_opts || {}
                    );
                  },
                  onstart: null,
                  onstop: null,
                  beforedrop: null,
                  ondrop: null,
                  drop_opts: {
                    activeClass: "ui-state-active",
                    hoverClass: "ui-state-hover"
                  },
                  drag_opts: {
                    revert: "invalid",
                    helper: "clone",
                    cursor: "move",
                    appendTo: "#jqgrid_dnd",
                    zIndex: 5e3
                  },
                  dropbyname: !1,
                  droppos: "first",
                  autoid: !0,
                  autoidprefix: "dnd_"
                },
                t || {}
              )),
              t.connectWith)
            )
              for (
                t.connectWith = t.connectWith.split(","),
                  t.connectWith = n.map(t.connectWith, function(t) {
                    return n.trim(t);
                  }),
                  n.data(i, "dnd", t),
                  i.p.reccount == "0" || i.p.jqgdnd || u(),
                  i.p.jqgdnd = !0,
                  r = 0;
                r < t.connectWith.length;
                r++
              )
                n(t.connectWith[r]).droppable(
                  n.isFunction(t.drop) ? t.drop.call(n(i), t) : t.drop
                );
        });
      },
      gridResize: function(t) {
        return this.each(function() {
          var j = this;
          j.grid &&
            n.fn.resizable &&
            ((t = n.extend({}, t || {})),
            t.alsoResize
              ? ((t._alsoResize_ = t.alsoResize), delete t.alsoResize)
              : (t._alsoResize_ = !1),
            t.stop && n.isFunction(t.stop)
              ? ((t._stop_ = t.stop), delete t.stop)
              : (t._stop_ = !1),
            (t.stop = function(i, r) {
              n(j).jqGrid("setGridParam", {
                height: n("#gview_" + j.p.id + " .ui-jqgrid-bdiv").height()
              });
              n(j).jqGrid("setGridWidth", r.size.width, t.shrinkToFit);
              t._stop_ && t._stop_.call(j, i, r);
            }),
            (t.alsoResize = t._alsoResize_
              ? eval(
                  "(" +
                    ("{'#gview_" +
                      j.p.id +
                      " .ui-jqgrid-bdiv':true,'" +
                      t._alsoResize_ +
                      "':true}") +
                    ")"
                )
              : n(".ui-jqgrid-bdiv", "#gview_" + j.p.id)),
            delete t._alsoResize_,
            n("#gbox_" + j.p.id).resizable(t));
        });
      }
    });
  })(jQuery),
  (function(n) {
    function t() {
      n.fn.ajaxSubmit.debug &&
        window.console &&
        window.console.log &&
        window.console.log(
          "[jquery.form] " + Array.prototype.join.call(arguments, "")
        );
    }
    n.fn.ajaxSubmit = function(i) {
      function w() {
        function h() {
          var r, v, i, e, l, a;
          if (!p++) {
            o.detachEvent
              ? o.detachEvent("onload", h)
              : o.removeEventListener("load", h, !1);
            r = !0;
            try {
              if (w) throw "timeout";
              if (
                ((i = o.contentWindow
                  ? o.contentWindow.document
                  : o.contentDocument
                  ? o.contentDocument
                  : o.document),
                (e = u.dataType == "xml" || i.XMLDocument || n.isXMLDoc(i)),
                t("isXml=" + e),
                !e && (i.body == null || i.body.innerHTML == ""))
              ) {
                if (--b) {
                  p = 0;
                  setTimeout(h, 100);
                  return;
                }
                t("Could not access iframe DOM after 50 tries.");
                return;
              }
              f.responseText = i.body ? i.body.innerHTML : null;
              f.responseXML = i.XMLDocument ? i.XMLDocument : i;
              f.getResponseHeader = function(n) {
                var t = { "content-type": u.dataType };
                return t[n];
              };
              u.dataType == "json" || u.dataType == "script"
                ? ((l = i.getElementsByTagName("textarea")[0]),
                  l
                    ? (f.responseText = l.value)
                    : ((a = i.getElementsByTagName("pre")[0]),
                      a && (f.responseText = a.innerHTML)))
                : u.dataType != "xml" ||
                  f.responseXML ||
                  f.responseText == null ||
                  (f.responseXML = k(f.responseText));
              v = n.httpData(f, u.dataType);
            } catch (y) {
              r = !1;
              n.handleError(u, f, "error", y);
            }
            r &&
              (u.success(v, "success"),
              s && n.event.trigger("ajaxSuccess", [f, u]));
            s && n.event.trigger("ajaxComplete", [f, u]);
            s && !--n.active && n.event.trigger("ajaxStop");
            u.complete && u.complete(f, r ? "success" : "error");
            setTimeout(function() {
              c.remove();
              f.responseXML = null;
            }, 100);
          }
        }
        function k(n, t) {
          return (
            window.ActiveXObject
              ? ((t = new ActiveXObject("Microsoft.XMLDOM")),
                (t.async = "false"),
                t.loadXML(n))
              : (t = new DOMParser().parseFromString(n, "text/xml")),
            t && t.documentElement && t.documentElement.tagName != "parsererror"
              ? t
              : null
          );
        }
        var e = r[0],
          f,
          s,
          y,
          b;
        if (n(":input[name=submit]", e).length) {
          alert('Error: Form elements must not be named "submit".');
          return;
        }
        var u = n.extend({}, n.ajaxSettings, i),
          a = n.extend(!0, {}, n.extend(!0, {}, n.ajaxSettings), u),
          v = "jqFormIO" + new Date().getTime(),
          c = n('<iframe id="' + v + '" name="' + v + '" src="about:blank" />'),
          o = c[0];
        if (
          (c.css({ position: "absolute", top: "-1000px", left: "-1000px" }),
          (f = {
            aborted: 0,
            responseText: null,
            responseXML: null,
            status: 0,
            statusText: "n/a",
            getAllResponseHeaders: function() {},
            getResponseHeader: function() {},
            setRequestHeader: function() {},
            abort: function() {
              this.aborted = 1;
              c.attr("src", "about:blank");
            }
          }),
          (s = u.global),
          s && !n.active++ && n.event.trigger("ajaxStart"),
          s && n.event.trigger("ajaxSend", [f, u]),
          a.beforeSend && a.beforeSend(f, a) === !1)
        ) {
          a.global && n.active--;
          return;
        }
        if (!f.aborted) {
          var p = 0,
            w = 0,
            l = e.clk;
          l &&
            ((y = l.name),
            y &&
              !l.disabled &&
              ((i.extraData = i.extraData || {}),
              (i.extraData[y] = l.value),
              l.type == "image" &&
                ((i.extraData[name + ".x"] = e.clk_x),
                (i.extraData[name + ".y"] = e.clk_y))));
          setTimeout(function() {
            var s = r.attr("target"),
              l = r.attr("action"),
              t,
              f;
            e.setAttribute("target", v);
            e.getAttribute("method") != "POST" &&
              e.setAttribute("method", "POST");
            e.getAttribute("action") != u.url &&
              e.setAttribute("action", u.url);
            i.skipEncodingOverride ||
              r.attr({
                encoding: "multipart/form-data",
                enctype: "multipart/form-data"
              });
            u.timeout &&
              setTimeout(function() {
                w = !0;
                h();
              }, u.timeout);
            t = [];
            try {
              if (i.extraData)
                for (f in i.extraData)
                  t.push(
                    n(
                      '<input type="hidden" name="' +
                        f +
                        '" value="' +
                        i.extraData[f] +
                        '" />'
                    ).appendTo(e)[0]
                  );
              c.appendTo("body");
              o.attachEvent
                ? o.attachEvent("onload", h)
                : o.addEventListener("load", h, !1);
              e.submit();
            } finally {
              e.setAttribute("action", l);
              s ? e.setAttribute("target", s) : r.removeAttr("target");
              n(t).remove();
            }
          }, 10);
          b = 50;
        }
      }
      var u, s, o, f, v, c, r, e, y, l, a, h, p;
      if (!this.length)
        return (
          t("ajaxSubmit: skipping submit process - no element selected"), this
        );
      if (
        (typeof i == "function" && (i = { success: i }),
        (u = n.trim(this.attr("action"))),
        u && (u = (u.match(/^([^#]+)/) || [])[1]),
        (u = u || window.location.href || ""),
        (i = n.extend({ url: u, type: this.attr("method") || "GET" }, i || {})),
        (s = {}),
        this.trigger("form-pre-serialize", [this, i, s]),
        s.veto)
      )
        return (
          t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this
        );
      if (i.beforeSerialize && i.beforeSerialize(this, i) === !1)
        return (
          t("ajaxSubmit: submit aborted via beforeSerialize callback"), this
        );
      if (((o = this.formToArray(i.semantic)), i.data)) {
        i.extraData = i.data;
        for (f in i.data)
          if (i.data[f] instanceof Array)
            for (v in i.data[f]) o.push({ name: f, value: i.data[f][v] });
          else o.push({ name: f, value: i.data[f] });
      }
      if (i.beforeSubmit && i.beforeSubmit(o, this, i) === !1)
        return t("ajaxSubmit: submit aborted via beforeSubmit callback"), this;
      if ((this.trigger("form-submit-validate", [o, this, i, s]), s.veto))
        return (
          t("ajaxSubmit: submit vetoed via form-submit-validate trigger"), this
        );
      for (
        c = n.param(o),
          i.type.toUpperCase() == "GET"
            ? ((i.url += (i.url.indexOf("?") >= 0 ? "&" : "?") + c),
              (i.data = null))
            : (i.data = c),
          r = this,
          e = [],
          i.resetForm &&
            e.push(function() {
              r.resetForm();
            }),
          i.clearForm &&
            e.push(function() {
              r.clearForm();
            }),
          !i.dataType && i.target
            ? ((y = i.success || function() {}),
              e.push(function(t) {
                n(i.target)
                  .html(t)
                  .each(y, arguments);
              }))
            : i.success && e.push(i.success),
          i.success = function(n, t) {
            for (var u = 0, f = e.length; u < f; u++) e[u].apply(i, [n, t, r]);
          },
          l = n("input:file", this).fieldValue(),
          a = !1,
          h = 0;
        h < l.length;
        h++
      )
        l[h] && (a = !0);
      return (
        (p = !1),
        i.iframe || a || p
          ? i.closeKeepAlive
            ? n.get(i.closeKeepAlive, w)
            : w()
          : n.ajax(i),
        this.trigger("form-submit-notify", [this, i]),
        this
      );
    };
    n.fn.ajaxForm = function(t) {
      return this.ajaxFormUnbind()
        .bind("submit.form-plugin", function() {
          return n(this).ajaxSubmit(t), !1;
        })
        .bind("click.form-plugin", function(t) {
          var u = n(t.target),
            i,
            r;
          u.is(":submit,input:image") &&
            ((i = this),
            (i.clk = t.target),
            t.target.type == "image" &&
              (t.offsetX != undefined
                ? ((i.clk_x = t.offsetX), (i.clk_y = t.offsetY))
                : typeof n.fn.offset == "function"
                ? ((r = u.offset()),
                  (i.clk_x = t.pageX - r.left),
                  (i.clk_y = t.pageY - r.top))
                : ((i.clk_x = t.pageX - t.target.offsetLeft),
                  (i.clk_y = t.pageY - t.target.offsetTop))),
            setTimeout(function() {
              i.clk = i.clk_x = i.clk_y = null;
            }, 10));
        });
    };
    n.fn.ajaxFormUnbind = function() {
      return this.unbind("submit.form-plugin click.form-plugin");
    };
    n.fn.formToArray = function(t) {
      var u = [],
        r,
        o,
        s,
        l,
        e,
        i,
        f,
        h,
        a;
      if (
        this.length == 0 ||
        ((r = this[0]), (o = t ? r.getElementsByTagName("*") : r.elements), !o)
      )
        return u;
      for (s = 0, l = o.length; s < l; s++)
        if (((e = o[s]), (i = e.name), i)) {
          if (t && r.clk && e.type == "image") {
            e.disabled ||
              r.clk != e ||
              (u.push({ name: i, value: n(e).val() }),
              u.push(
                { name: i + ".x", value: r.clk_x },
                { name: i + ".y", value: r.clk_y }
              ));
            continue;
          }
          if (((f = n.fieldValue(e, !0)), f && f.constructor == Array))
            for (h = 0, a = f.length; h < a; h++)
              u.push({ name: i, value: f[h] });
          else
            f !== null &&
              typeof f != "undefined" &&
              u.push({ name: i, value: f });
        }
      if (!t && r.clk) {
        var v = n(r.clk),
          c = v[0],
          i = c.name;
        i &&
          !c.disabled &&
          c.type == "image" &&
          (u.push({ name: i, value: v.val() }),
          u.push(
            { name: i + ".x", value: r.clk_x },
            { name: i + ".y", value: r.clk_y }
          ));
      }
      return u;
    };
    n.fn.formSerialize = function(t) {
      return n.param(this.formToArray(t));
    };
    n.fn.fieldSerialize = function(t) {
      var i = [];
      return (
        this.each(function() {
          var f = this.name,
            r,
            u,
            e;
          if (f)
            if (((r = n.fieldValue(this, t)), r && r.constructor == Array))
              for (u = 0, e = r.length; u < e; u++)
                i.push({ name: f, value: r[u] });
            else
              r !== null &&
                typeof r != "undefined" &&
                i.push({ name: this.name, value: r });
        }),
        n.param(i)
      );
    };
    n.fn.fieldValue = function(t) {
      for (var f, i, r = [], u = 0, e = this.length; u < e; u++)
        ((f = this[u]),
        (i = n.fieldValue(f, t)),
        i !== null &&
          typeof i != "undefined" &&
          (i.constructor != Array || i.length)) &&
          (i.constructor == Array ? n.merge(r, i) : r.push(i));
      return r;
    };
    n.fieldValue = function(n, t) {
      var l = n.name,
        r = n.type,
        s = n.tagName.toLowerCase(),
        f,
        e,
        i,
        u;
      if (
        (typeof t == "undefined" && (t = !0),
        t &&
          (!l ||
            n.disabled ||
            r == "reset" ||
            r == "button" ||
            ((r == "checkbox" || r == "radio") && !n.checked) ||
            ((r == "submit" || r == "image") && n.form && n.form.clk != n) ||
            (s == "select" && n.selectedIndex == -1)))
      )
        return null;
      if (s == "select") {
        if (((f = n.selectedIndex), f < 0)) return null;
        var h = [],
          c = n.options,
          o = r == "select-one",
          a = o ? f + 1 : c.length;
        for (e = o ? f : 0; e < a; e++)
          if (((i = c[e]), i.selected)) {
            if (
              ((u = i.value),
              u ||
                (u =
                  i.attributes &&
                  i.attributes.value &&
                  !i.attributes.value.specified
                    ? i.text
                    : i.value),
              o)
            )
              return u;
            h.push(u);
          }
        return h;
      }
      return n.value;
    };
    n.fn.clearForm = function() {
      return this.each(function() {
        n("input,select,textarea", this).clearFields();
      });
    };
    n.fn.clearFields = n.fn.clearInputs = function() {
      return this.each(function() {
        var n = this.type,
          t = this.tagName.toLowerCase();
        n == "text" || n == "password" || t == "textarea"
          ? (this.value = "")
          : n == "checkbox" || n == "radio"
          ? (this.checked = !1)
          : t == "select" && (this.selectedIndex = -1);
      });
    };
    n.fn.resetForm = function() {
      return this.each(function() {
        (typeof this.reset != "function" &&
          (typeof this.reset != "object" || this.reset.nodeType)) ||
          this.reset();
      });
    };
    n.fn.enable = function(n) {
      return (
        n == undefined && (n = !0),
        this.each(function() {
          this.disabled = !n;
        })
      );
    };
    n.fn.selected = function(t) {
      return (
        t == undefined && (t = !0),
        this.each(function() {
          var r = this.type,
            i;
          r == "checkbox" || r == "radio"
            ? (this.checked = t)
            : this.tagName.toLowerCase() == "option" &&
              ((i = n(this).parent("select")),
              t &&
                i[0] &&
                i[0].type == "select-one" &&
                i.find("option").selected(!1),
              (this.selected = t));
        })
      );
    };
  })(jQuery),
  (function(n) {
    function t() {
      return {
        cntr: ++t.cntr,
        settings: n.extend({}, n.tree.defaults),
        init: function(i, r) {
          var s = this,
            o,
            h,
            e,
            f,
            u;
          if (((this.container = n(i)), this.container.size == 0)) return !1;
          if (
            ((t.inst[this.cntr] = this),
            this.container.attr("id") ||
              this.container.attr("id", "jstree_" + this.cntr),
            (t.inst[this.container.attr("id")] = t.inst[this.cntr]),
            (t.focused = this.cntr),
            (this.settings = n.extend(!0, {}, this.settings, r)),
            this.settings.languages && this.settings.languages.length)
          )
            for (
              this.current_lang = this.settings.languages[0],
                o = !1,
                h = "#" + this.container.attr("id"),
                e = 0;
              e < this.settings.languages.length;
              e++
            )
              (o = t.add_css(h + " ." + this.settings.languages[e])),
                o !== !1 &&
                  (o.style.display =
                    this.settings.languages[e] == this.current_lang
                      ? ""
                      : "none");
          else this.current_lang = !1;
          this.container.addClass("tree");
          this.settings.ui.theme_name !== !1 &&
            (this.settings.ui.theme_path === !1 &&
              n("script").each(function() {
                if (this.src.toString().match(/jquery\.tree.*?js$/))
                  return (
                    (s.settings.ui.theme_path =
                      this.src.toString().replace(/jquery\.tree.*?js$/, "") +
                      "themes/" +
                      s.settings.ui.theme_name +
                      "/style.css"),
                    !1
                  );
              }),
            this.settings.ui.theme_path != "" &&
              n.inArray(this.settings.ui.theme_path, t.themes) == -1 &&
              (t.add_sheet({ url: this.settings.ui.theme_path }),
              t.themes.push(this.settings.ui.theme_path)),
            this.container.addClass("tree-" + this.settings.ui.theme_name));
          f = "";
          for (u in this.settings.types)
            this.settings.types.hasOwnProperty(u) &&
              this.settings.types[u].icon &&
              (this.settings.types[u].icon.image ||
                this.settings.types[u].icon.position) &&
              ((f +=
                u == "default"
                  ? "#" + this.container.attr("id") + " li > a ins { "
                  : "#" +
                    this.container.attr("id") +
                    " li[rel=" +
                    u +
                    "] > a ins { "),
              this.settings.types[u].icon.image &&
                (f +=
                  " background-image:url(" +
                  this.settings.types[u].icon.image +
                  "); "),
              this.settings.types[u].icon.position &&
                (f +=
                  " background-position:" +
                  this.settings.types[u].icon.position +
                  "; "),
              (f += "} "));
          f != "" && t.add_sheet({ str: f });
          this.settings.rules.multiple && (this.selected_arr = []);
          this.offset = !1;
          this.hovered = !1;
          this.locked = !1;
          t.drag_drop.marker === !1 &&
            (t.drag_drop.marker = n("<div>")
              .attr({ id: "jstree-marker" })
              .hide()
              .appendTo("body"));
          this.callback("oninit", [this]);
          this.refresh();
          this.attach_events();
          this.focus();
        },
        refresh: function(t) {
          var r, i, u;
          if (this.locked) return this.error("LOCKED");
          if (
            ((i = this),
            t && !this.settings.data.async && (t = !1),
            (this.is_partial_refresh = t ? !0 : !1),
            (this.opened = Array()),
            this.settings.opened != !1
              ? (n.each(this.settings.opened, function() {
                  this.replace(/^#/, "").length > 0 &&
                    i.opened.push("#" + this.replace(/^#/, ""));
                }),
                (this.settings.opened = !1))
              : this.container.find("li.open").each(function() {
                  this.id && i.opened.push("#" + this.id);
                }),
            this.selected
              ? ((this.settings.selected = Array()),
                t
                  ? n(t)
                      .find("li:has(a.clicked)")
                      .each(function() {
                        this.id && i.settings.selected.push("#" + this.id);
                      })
                  : this.selected_arr
                  ? n.each(this.selected_arr, function() {
                      this.attr("id") &&
                        i.settings.selected.push("#" + this.attr("id"));
                    })
                  : this.selected.attr("id") &&
                    this.settings.selected.push("#" + this.selected.attr("id")))
              : this.settings.selected !== !1 &&
                ((r = Array()),
                (typeof this.settings.selected).toLowerCase() == "object"
                  ? n.each(this.settings.selected, function() {
                      this.replace(/^#/, "").length > 0 &&
                        r.push("#" + this.replace(/^#/, ""));
                    })
                  : this.settings.selected.replace(/^#/, "").length > 0 &&
                    r.push("#" + this.settings.selected.replace(/^#/, "")),
                (this.settings.selected = r)),
            t && this.settings.data.async)
          )
            return (
              (this.opened = Array()),
              (t = this.get_node(t)),
              t.find("li.open").each(function() {
                i.opened.push("#" + this.id);
              }),
              t.hasClass("open") && t.removeClass("open").addClass("closed"),
              t.hasClass("leaf") && t.removeClass("leaf"),
              t.children("ul:eq(0)").html(""),
              this.open_branch(t, !0, function() {
                i.reselect.apply(i);
              })
            );
          i = this;
          u = new n.tree.datastores[this.settings.data.type]();
          this.container.children("ul").size() == 0 &&
            this.container.html(
              "<ul class='ltr' style='direction:ltr;'><li class='last'><a class='loading' href='#'><ins>&nbsp;</ins>" +
                (this.settings.lang.loading || "Loading ...") +
                "</a></li></ul>"
            );
          u.load(
            this.callback("beforedata", [!1, this]),
            this,
            this.settings.data.opts,
            function(t) {
              t = i.callback("ondata", [t, i]);
              u.parse(t, i, i.settings.data.opts, function(t) {
                t = i.callback("onparse", [t, i]);
                i.container.empty().append(n("<ul class='ltr'>").html(t));
                i.container
                  .find("li:last-child")
                  .addClass("last")
                  .end()
                  .find("li:has(ul)")
                  .not(".open")
                  .addClass("closed");
                i.container
                  .find("li")
                  .not(".open")
                  .not(".closed")
                  .addClass("leaf");
                i.reselect();
              });
            }
          );
        },
        reselect: function(t) {
          var i = this,
            f,
            r,
            u;
          if (
            (t ? this.cl_count-- : (this.cl_count = 0),
            this.opened && this.opened.length)
          ) {
            for (f = !1, r = 0; this.opened && r < this.opened.length; r++)
              this.settings.data.async
                ? ((u = this.get_node(this.opened[r])),
                  u.size() &&
                    u.hasClass("closed") > 0 &&
                    ((f = !0),
                    (u = this.opened[r].toString().replace("/", "\\/")),
                    delete this.opened[r],
                    this.open_branch(u, !0, function() {
                      i.reselect.apply(i, [!0]);
                    }),
                    this.cl_count++))
                : this.open_branch(this.opened[r], !0);
            if (this.settings.data.async && f) return;
            if (this.cl_count > 0) return;
            delete this.opened;
          }
          this.cl_count > 0 ||
            (this.container
              .css("direction", "ltr")
              .children("ul:eq(0)")
              .addClass("ltr"),
            this.settings.ui.dots == !1 &&
              this.container.children("ul:eq(0)").addClass("no_dots"),
            this.scrtop &&
              (this.container.scrollTop(i.scrtop), delete this.scrtop),
            this.settings.selected !== !1 &&
              (n.each(this.settings.selected, function(t) {
                i.is_partial_refresh
                  ? i.select_branch(
                      n(
                        i.settings.selected[t].toString().replace("/", "\\/"),
                        i.container
                      ),
                      i.settings.rules.multiple !== !1
                    )
                  : i.select_branch(
                      n(
                        i.settings.selected[t].toString().replace("/", "\\/"),
                        i.container
                      ),
                      i.settings.rules.multiple !== !1 && t > 0
                    );
              }),
              (this.settings.selected = !1)),
            this.callback("onload", [i]));
        },
        get: function(t, i, r) {
          return (
            i || (i = this.settings.data.type),
            r || (r = this.settings.data.opts),
            new n.tree.datastores[i]().get(t, this, r)
          );
        },
        attach_events: function() {
          var i = this;
          this.container
            .bind("mousedown.jstree", function(n) {
              if (t.drag_drop.isdown)
                return (
                  (t.drag_drop.move_type = !1),
                  n.preventDefault(),
                  n.stopPropagation(),
                  n.stopImmediatePropagation(),
                  !1
                );
            })
            .bind("mouseup.jstree", function() {
              setTimeout(function() {
                i.focus.apply(i);
              }, 5);
            })
            .bind("click.jstree", function() {
              return !0;
            });
          n("#" + this.container.attr("id") + " li").live("click", function(t) {
            return t.target.tagName != "LI"
              ? !0
              : (i.off_height(),
                t.pageY - n(t.target).offset().top > i.li_height)
              ? !0
              : (i.toggle_branch.apply(i, [t.target]), t.stopPropagation(), !1);
          });
          n("#" + this.container.attr("id") + " a")
            .live("click", function(n) {
              return n.which && n.which == 3
                ? !0
                : i.locked
                ? (n.preventDefault(), n.target.blur(), i.error("LOCKED"))
                : (i.select_branch.apply(i, [
                    n.target,
                    n.ctrlKey || i.settings.rules.multiple == "on"
                  ]),
                  i.inp && i.inp.blur(),
                  n.preventDefault(),
                  n.target.blur(),
                  !1);
            })
            .live("dblclick", function(n) {
              if (i.locked)
                return (
                  n.preventDefault(),
                  n.stopPropagation(),
                  n.target.blur(),
                  i.error("LOCKED")
                );
              i.callback("ondblclk", [i.get_node(n.target).get(0), i]);
              n.preventDefault();
              n.stopPropagation();
              n.target.blur();
            })
            .live("contextmenu", function(n) {
              return i.locked
                ? (n.target.blur(), i.error("LOCKED"))
                : i.callback("onrgtclk", [i.get_node(n.target).get(0), i, n]);
            })
            .live("mouseover", function(n) {
              if (i.locked)
                return (
                  n.preventDefault(), n.stopPropagation(), i.error("LOCKED")
                );
              i.hovered !== !1 &&
                (n.target.tagName == "A" || n.target.tagName == "INS") &&
                (i.hovered.children("a").removeClass("hover"),
                (i.hovered = !1));
              i.callback("onhover", [i.get_node(n.target).get(0), i]);
            })
            .live("mousedown", function(r) {
              var u, o, e, f;
              if (
                (i.settings.rules.drag_button == "left" &&
                  r.which &&
                  r.which != 1) ||
                (i.settings.rules.drag_button == "right" &&
                  r.which &&
                  r.which != 3)
              )
                return !0;
              if ((i.focus.apply(i), i.locked)) return i.error("LOCKED");
              if (
                ((u = i.get_node(r.target)),
                i.settings.rules.multiple != !1 &&
                  i.selected_arr.length > 1 &&
                  u.children("a:eq(0)").hasClass("clicked"))
              ) {
                o = 0;
                for (e in i.selected_arr)
                  i.selected_arr.hasOwnProperty(e) &&
                    i.check("draggable", i.selected_arr[e]) &&
                    (i.selected_arr[e].addClass("dragged"),
                    (t.drag_drop.origin_tree = i),
                    o++);
                o > 0 &&
                  ((t.drag_drop.drag_node = i.check("draggable", u)
                    ? u
                    : i.container.find("li.dragged:eq(0)")),
                  (t.drag_drop.isdown = !0),
                  (t.drag_drop.drag_help = n(
                    "<div id='jstree-dragged' class='tree " +
                      (i.settings.ui.theme_name != ""
                        ? " tree-" + i.settings.ui.theme_name
                        : "") +
                      "' />"
                  ).append(
                    "<ul class='" +
                      i.container.children("ul:eq(0)").get(0).className +
                      "' />"
                  )),
                  (f = t.drag_drop.drag_node.clone()),
                  i.settings.languages.length > 0 &&
                    f
                      .find("a")
                      .not("." + i.current_lang)
                      .hide(),
                  t.drag_drop.drag_help.children("ul:eq(0)").append(f),
                  t.drag_drop.drag_help
                    .find("li:eq(0)")
                    .removeClass("last")
                    .addClass("last")
                    .children("a")
                    .html("<ins>&nbsp;</ins>Multiple selection")
                    .end()
                    .children("ul")
                    .remove(),
                  (t.drag_drop.dragged = i.container.find("li.dragged")));
              } else
                i.check("draggable", u) &&
                  ((t.drag_drop.drag_node = u),
                  (t.drag_drop.drag_help = n(
                    "<div id='jstree-dragged' class='tree " +
                      (i.settings.ui.theme_name != ""
                        ? " tree-" + i.settings.ui.theme_name
                        : "") +
                      "' />"
                  ).append(
                    "<ul class='" +
                      i.container.children("ul:eq(0)").get(0).className +
                      "' />"
                  )),
                  (f = u.clone()),
                  i.settings.languages.length > 0 &&
                    f
                      .find("a")
                      .not("." + i.current_lang)
                      .hide(),
                  t.drag_drop.drag_help.children("ul:eq(0)").append(f),
                  t.drag_drop.drag_help
                    .find("li:eq(0)")
                    .removeClass("last")
                    .addClass("last"),
                  (t.drag_drop.isdown = !0),
                  (t.drag_drop.foreign = !1),
                  (t.drag_drop.origin_tree = i),
                  u.addClass("dragged"),
                  (t.drag_drop.dragged = i.container.find("li.dragged")));
              return (
                (t.drag_drop.init_x = r.pageX),
                (t.drag_drop.init_y = r.pageY),
                u.blur(),
                r.preventDefault(),
                r.stopPropagation(),
                !1
              );
            });
        },
        focus: function() {
          if (this.locked) return !1;
          t.focused != this.cntr &&
            ((t.focused = this.cntr), this.callback("onfocus", [this]));
        },
        off_height: function() {
          var t;
          this.offset === !1 &&
            (this.container.css({ position: "relative" }),
            (this.offset = this.container.offset()),
            (t = 0),
            (t = parseInt(
              n.curCSS(this.container.get(0), "paddingTop", !0),
              10
            )),
            t && (this.offset.top += t),
            (t = parseInt(
              n.curCSS(this.container.get(0), "borderTopWidth", !0),
              10
            )),
            t && (this.offset.top += t),
            this.container.css({ position: "" }));
          this.li_height ||
            ((t = this.container.find("ul li.closed, ul li.leaf").eq(0)),
            (this.li_height = t.height()),
            t.children("ul:eq(0)").size() &&
              (this.li_height -= t.children("ul:eq(0)").height()),
            this.li_height || (this.li_height = 18));
        },
        scroll_check: function(n, i) {
          var u = this,
            r = u.container,
            f = u.container.offset(),
            e = r.scrollTop(),
            o = r.scrollLeft(),
            s = r.get(0).scrollWidth > r.width() ? 40 : 20;
          i - f.top < 20 &&
            r.scrollTop(Math.max(e - u.settings.ui.scroll_spd, 0));
          r.height() - (i - f.top) < s &&
            r.scrollTop(e + u.settings.ui.scroll_spd);
          n - f.left < 20 &&
            r.scrollLeft(Math.max(o - u.settings.ui.scroll_spd, 0));
          r.width() - (n - f.left) < 40 &&
            r.scrollLeft(o + u.settings.ui.scroll_spd);
          (r.scrollLeft() != o || r.scrollTop() != e) &&
            ((t.drag_drop.move_type = !1),
            (t.drag_drop.ref_node = !1),
            t.drag_drop.marker.hide());
          t.drag_drop.scroll_time = setTimeout(function() {
            u.scroll_check(n, i);
          }, 50);
        },
        scroll_into_view: function(n) {
          if (((n = n ? this.get_node(n) : this.selected), !n)) return !1;
          var t = n.offset().top,
            i = this.container.offset().top,
            r = i + this.container.height(),
            u =
              this.container.get(0).scrollWidth > this.container.width()
                ? 40
                : 20;
          t + 5 < i &&
            this.container.scrollTop(this.container.scrollTop() - (i - t + 5));
          t + u > r &&
            this.container.scrollTop(this.container.scrollTop() + (t + u - r));
        },
        get_node: function(t) {
          return n(t).closest("li");
        },
        get_type: function(n) {
          if (((n = n ? this.get_node(n) : this.selected), n)) {
            var t = n.attr(this.settings.rules.type_attr);
            return t || "default";
          }
        },
        set_type: function(n, t) {
          ((t = t ? this.get_node(t) : this.selected), t && n) &&
            t.attr(this.settings.rules.type_attr, n);
        },
        get_text: function(n, t) {
          if (((n = this.get_node(n)), !n || n.size() == 0)) return "";
          this.settings.languages && this.settings.languages.length
            ? ((t = t ? t : this.current_lang), (n = n.children("a." + t)))
            : (n = n.children("a:visible"));
          var i = "";
          return (
            n.contents().each(function() {
              if (this.nodeType == 3) return (i = this.data), !1;
            }),
            i
          );
        },
        check: function(n, t) {
          var i, r;
          if (this.locked) return !1;
          if (((i = !1), t === -1))
            typeof this.settings.rules[n] != "undefined" &&
              (i = this.settings.rules[n]);
          else {
            if (((t = t ? this.get_node(t) : this.selected), !t)) return;
            r = this.get_type(t);
            typeof this.settings.types[r] != "undefined" &&
            typeof this.settings.types[r][n] != "undefined"
              ? (i = this.settings.types[r][n])
              : typeof this.settings.types["default"] != "undefined" &&
                typeof this.settings.types["default"][n] != "undefined" &&
                (i = this.settings.types["default"][n]);
          }
          return (
            typeof i == "function" && (i = i.call(null, t, this)),
            this.callback("check", [n, t, i, this])
          );
        },
        check_move: function(i, r, u) {
          var l, a, h, f, p, c, e, y, s;
          if (
            this.locked ||
            n(r)
              .closest("li.dragged")
              .size() ||
            ((l = i.parents(".tree:eq(0)").get(0)),
            (a = r.parents(".tree:eq(0)").get(0)),
            l &&
              l != a &&
              ((e = n.tree.reference(a.id).settings.rules.multitree),
              e == "none" || (n.isArray(e) && n.inArray(l.id, e) == -1))) ||
            ((h = u != "inside" ? this.parent(r) : this.get_node(r)),
            (i = this.get_node(i)),
            h == !1) ||
            ((f = {
              max_depth: this.settings.rules.use_max_depth
                ? this.check("max_depth", h)
                : -1,
              max_children: this.settings.rules.use_max_children
                ? this.check("max_children", h)
                : -1,
              valid_children: this.check("valid_children", h)
            }),
            (p = typeof i == "string" ? i : this.get_type(i)),
            typeof f.valid_children != "undefined" &&
              (f.valid_children == "none" ||
                (typeof f.valid_children == "object" &&
                  n.inArray(p, n.makeArray(f.valid_children)) == -1))) ||
            (this.settings.rules.use_max_children &&
              typeof f.max_children != "undefined" &&
              f.max_children != -1 &&
              (f.max_children == 0 ||
                ((c = 1),
                t.drag_drop.moving == !0 &&
                  t.drag_drop.foreign == !1 &&
                  ((c = t.drag_drop.dragged.size()),
                  (c = c - h.find("> ul > li.dragged").size())),
                f.max_children < h.find("> ul > li").size() + c)))
          )
            return !1;
          if (this.settings.rules.use_max_depth) {
            if (typeof f.max_depth != "undefined" && f.max_depth === 0)
              return this.error("MOVE: MAX-DEPTH REACHED");
            for (
              var o = f.max_depth > 0 ? f.max_depth : !1, v = 0, s = h;
              s !== -1;

            )
              if (
                ((s = this.parent(s)),
                v++,
                (e = this.check("max_depth", s)),
                e >= 0 && (o = o === !1 ? e - v : Math.min(o, e - v)),
                o !== !1 && o <= 0)
              )
                return this.error("MOVE: MAX-DEPTH REACHED");
            if (o !== !1 && o <= 0)
              return this.error("MOVE: MAX-DEPTH REACHED");
            if (o !== !1 && ((y = 1), typeof i != "string"))
              for (s = i; s.size() > 0; ) {
                if (o - y < 0) return this.error("MOVE: MAX-DEPTH REACHED");
                s = s.children("ul").children("li");
                y++;
              }
          }
          return this.callback("check_move", [i, r, u, this]) == !1 ? !1 : !0;
        },
        hover_branch: function(n) {
          if (this.locked) return this.error("LOCKED");
          var t = this,
            n = t.get_node(n);
          if (!n.size()) return this.error("HOVER: NOT A VALID NODE");
          if (!t.check("clickable", n))
            return this.error("SELECT: NODE NOT SELECTABLE");
          this.hovered && this.hovered.children("A").removeClass("hover");
          this.hovered = n;
          this.hovered.children("a").addClass("hover");
          this.scroll_into_view(this.hovered);
        },
        select_branch: function(n, t, i) {
          var r, u;
          if (this.locked) return this.error("LOCKED");
          if (
            (n || this.hovered === !1 || (n = this.hovered),
            (r = this),
            (n = r.get_node(n)),
            !n.size())
          )
            return this.error("SELECT: NOT A VALID NODE");
          if ((n.children("a").removeClass("hover"), !r.check("clickable", n)))
            return this.error("SELECT: NODE NOT SELECTABLE");
          if (r.callback("beforechange", [n.get(0), r]) === !1)
            return this.error("SELECT: STOPPED BY USER");
          if (
            this.settings.rules.multiple != !1 &&
            t &&
            n.children("a.clicked").size() > 0
          )
            return this.deselect_branch(n);
          if (
            (this.settings.rules.multiple != !1 &&
              t &&
              this.selected_arr.push(n),
            this.settings.rules.multiple != !1 && !t)
          ) {
            for (u in this.selected_arr)
              this.selected_arr.hasOwnProperty(u) &&
                (this.selected_arr[u].children("A").removeClass("clicked"),
                this.callback("ondeselect", [this.selected_arr[u].get(0), r]));
            this.selected_arr = [];
            this.selected_arr.push(n);
            this.selected &&
              this.selected.children("A").hasClass("clicked") &&
              (this.selected.children("A").removeClass("clicked"),
              this.callback("ondeselect", [this.selected.get(0), r]));
          }
          this.settings.rules.multiple ||
            (this.selected &&
              (this.selected.children("A").removeClass("clicked"),
              this.callback("ondeselect", [this.selected.get(0), r])));
          this.selected = n;
          this.hovered !== !1 &&
            (this.hovered.children("A").removeClass("hover"),
            (this.hovered = n));
          this.selected
            .children("a")
            .addClass("clicked")
            .end()
            .parents("li.closed")
            .each(function() {
              r.open_branch(this, !0);
            });
          i || this.scroll_into_view(this.selected);
          this.callback("onselect", [this.selected.get(0), r]);
          this.callback("onchange", [this.selected.get(0), r]);
        },
        deselect_branch: function(t) {
          if (this.locked) return this.error("LOCKED");
          var i = this,
            t = this.get_node(t);
          if (t.children("a.clicked").size() == 0)
            return this.error("DESELECT: NODE NOT SELECTED");
          t.children("a").removeClass("clicked");
          this.callback("ondeselect", [t.get(0), i]);
          this.settings.rules.multiple != !1 && this.selected_arr.length > 1
            ? ((this.selected_arr = []),
              this.container
                .find("a.clicked")
                .filter(":first-child")
                .parent()
                .each(function() {
                  i.selected_arr.push(n(this));
                }),
              t.get(0) == this.selected.get(0) &&
                (this.selected = this.selected_arr[0]))
            : (this.settings.rules.multiple != !1 && (this.selected_arr = []),
              (this.selected = !1));
          this.callback("onchange", [t.get(0), i]);
        },
        toggle_branch: function(n) {
          if (this.locked) return this.error("LOCKED");
          var n = this.get_node(n);
          return n.hasClass("closed")
            ? this.open_branch(n)
            : n.hasClass("open")
            ? this.close_branch(n)
            : void 0;
        },
        open_branch: function(t, i, r) {
          var u = this,
            t,
            f;
          return this.locked
            ? this.error("LOCKED")
            : ((t = this.get_node(t)), !t.size())
            ? this.error("OPEN: NO SUCH NODE")
            : t.hasClass("leaf")
            ? this.error("OPEN: OPENING LEAF NODE")
            : this.settings.data.async && t.find("li").size() == 0
            ? this.callback("beforeopen", [t.get(0), this]) === !1
              ? this.error("OPEN: STOPPED BY USER")
              : (t
                  .children("ul:eq(0)")
                  .remove()
                  .end()
                  .append(
                    "<ul><li class='last'><a class='loading' href='#'><ins>&nbsp;</ins>" +
                      (u.settings.lang.loading || "Loading ...") +
                      "</a></li></ul>"
                  ),
                t.removeClass("closed").addClass("open"),
                (f = new n.tree.datastores[this.settings.data.type]()),
                f.load(
                  this.callback("beforedata", [t, this]),
                  this,
                  this.settings.data.opts,
                  function(i) {
                    if (
                      ((i = u.callback("ondata", [i, u])), !i || i.length == 0)
                    ) {
                      t.removeClass("closed")
                        .removeClass("open")
                        .addClass("leaf")
                        .children("ul")
                        .remove();
                      r && r.call();
                      return;
                    }
                    f.parse(i, u, u.settings.data.opts, function(i) {
                      i = u.callback("onparse", [i, u]);
                      t.children("ul:eq(0)").replaceWith(n("<ul>").html(i));
                      t.find("li:last-child")
                        .addClass("last")
                        .end()
                        .find("li:has(ul)")
                        .not(".open")
                        .addClass("closed");
                      t.find("li")
                        .not(".open")
                        .not(".closed")
                        .addClass("leaf");
                      u.open_branch.apply(u, [t]);
                      r && r.call();
                    });
                  }
                ),
                !0)
            : !this.settings.data.async &&
              this.callback("beforeopen", [t.get(0), this]) === !1
            ? this.error("OPEN: STOPPED BY USER")
            : (parseInt(this.settings.ui.animation) > 0 && !i
                ? (t.children("ul:eq(0)").css("display", "none"),
                  t.removeClass("closed").addClass("open"),
                  t
                    .children("ul:eq(0)")
                    .slideDown(
                      parseInt(this.settings.ui.animation),
                      function() {
                        n(this).css("display", "");
                        r && r.call();
                      }
                    ))
                : (t.removeClass("closed").addClass("open"), r && r.call()),
              this.callback("onopen", [t.get(0), this]),
              !0);
        },
        close_branch: function(t, i) {
          if (this.locked) return this.error("LOCKED");
          var r = this,
            t = this.get_node(t);
          if (!t.size()) return this.error("CLOSE: NO SUCH NODE");
          if (r.callback("beforeclose", [t.get(0), r]) === !1)
            return this.error("CLOSE: STOPPED BY USER");
          parseInt(this.settings.ui.animation) > 0 &&
          !i &&
          t.children("ul:eq(0)").size() == 1
            ? t
                .children("ul:eq(0)")
                .slideUp(parseInt(this.settings.ui.animation), function() {
                  t.hasClass("open") &&
                    t.removeClass("open").addClass("closed");
                  n(this).css("display", "");
                })
            : t.hasClass("open") && t.removeClass("open").addClass("closed");
          this.selected &&
            this.settings.ui.selected_parent_close !== !1 &&
            t
              .children("ul:eq(0)")
              .find("a.clicked")
              .size() > 0 &&
            t.find("li:has(a.clicked)").each(function() {
              r.deselect_branch(this);
            });
          this.callback("onclose", [t.get(0), this]);
        },
        open_all: function(n, t) {
          var i, r;
          if (this.locked) return this.error("LOCKED");
          i = this;
          n = n ? this.get_node(n) : this.container;
          r = n.find("li.closed").size();
          t ? this.cl_count-- : (this.cl_count = 0);
          r > 0
            ? ((this.cl_count += r),
              n.find("li.closed").each(function() {
                var n = this;
                i.open_branch.apply(i, [
                  this,
                  !0,
                  function() {
                    i.open_all.apply(i, [n, !0]);
                  }
                ]);
              }))
            : this.cl_count == 0 && this.callback("onopen_all", [this]);
        },
        close_all: function(n) {
          if (this.locked) return this.error("LOCKED");
          var t = this;
          n = n ? this.get_node(n) : this.container;
          n.find("li.open").each(function() {
            t.close_branch(this, !0);
          });
          this.callback("onclose_all", [this]);
        },
        set_lang: function(i) {
          if (
            !n.isArray(this.settings.languages) ||
            this.settings.languages.length == 0
          )
            return !1;
          if (this.locked) return this.error("LOCKED");
          if (
            (n.inArray(i, this.settings.languages) ||
              typeof this.settings.languages[i] == "undefined" ||
              (i = this.settings.languages[i]),
            typeof i == "undefined")
          )
            return !1;
          if (i == this.current_lang) return !0;
          var r = !1,
            u = "#" + this.container.attr("id");
          return (
            (r = t.get_css(u + " ." + this.current_lang)),
            r !== !1 && (r.style.display = "none"),
            (r = t.get_css(u + " ." + i)),
            r !== !1 && (r.style.display = ""),
            (this.current_lang = i),
            !0
          );
        },
        get_lang: function() {
          return !n.isArray(this.settings.languages) ||
            this.settings.languages.length == 0
            ? !1
            : this.current_lang;
        },
        create: function(t, i, r) {
          var f, y, b, p, l, o, a, u, e, k, v, w, h, c;
          if (this.locked) return this.error("LOCKED");
          if (
            ((f = !1),
            i == -1
              ? ((f = !0), (i = this.container))
              : (i = i ? this.get_node(i) : this.selected),
            !f && (!i || !i.size()))
          )
            return this.error("CREATE: NO NODE SELECTED");
          if (
            ((y = r),
            (b = i),
            r == "before" &&
              ((r = i
                .parent()
                .children()
                .index(i)),
              (i = i.parents("li:eq(0)"))),
            r == "after" &&
              ((r =
                i
                  .parent()
                  .children()
                  .index(i) + 1),
              (i = i.parents("li:eq(0)"))),
            f || i.size() != 0 || ((f = !0), (i = this.container)),
            !f)
          ) {
            if (!this.check("creatable", i))
              return this.error("CREATE: CANNOT CREATE IN NODE");
            if (i.hasClass("closed")) {
              if (this.settings.data.async && i.children("ul").size() == 0)
                return (
                  (p = this),
                  this.open_branch(i, !0, function() {
                    p.create.apply(p, [t, i, r]);
                  })
                );
              this.open_branch(i, !0);
            }
          }
          if (
            ((l = !1),
            (t = t ? n.extend(!0, {}, t) : {}),
            t.attributes || (t.attributes = {}),
            t.attributes[this.settings.rules.type_attr] ||
              (t.attributes[this.settings.rules.type_attr] =
                this.get_type(b) || "default"),
            this.settings.languages.length)
          )
            for (
              t.data || ((t.data = {}), (l = !0)), o = 0;
              o < this.settings.languages.length;
              o++
            )
              t.data[this.settings.languages[o]] ||
                (t.data[this.settings.languages[o]] =
                  (typeof this.settings.lang.new_node).toLowerCase() !=
                    "string" && this.settings.lang.new_node[o]
                    ? this.settings.lang.new_node[o]
                    : this.settings.lang.new_node);
          else t.data || ((t.data = this.settings.lang.new_node), (l = !0));
          if (
            ((t = this.callback("ondata", [t, this])),
            (a = n.tree.datastores.json().parse(t, this)),
            (a = this.callback("onparse", [a, this])),
            (u = n(a)),
            u.children("ul").size()
              ? u.is(".open") || u.addClass("closed")
              : u.addClass("leaf"),
            u
              .find("li:last-child")
              .addClass("last")
              .end()
              .find("li:has(ul)")
              .not(".open")
              .addClass("closed"),
            u
              .find("li")
              .not(".open")
              .not(".closed")
              .addClass("leaf"),
            (e = {
              max_depth: this.settings.rules.use_max_depth
                ? this.check("max_depth", f ? -1 : i)
                : -1,
              max_children: this.settings.rules.use_max_children
                ? this.check("max_children", f ? -1 : i)
                : -1,
              valid_children: this.check("valid_children", f ? -1 : i)
            }),
            (k = this.get_type(u)),
            typeof e.valid_children != "undefined" &&
              (e.valid_children == "none" ||
                (n.isArray(e.valid_children) &&
                  n.inArray(k, e.valid_children) == -1)))
          )
            return this.error("CREATE: NODE NOT A VALID CHILD");
          if (
            this.settings.rules.use_max_children &&
            typeof e.max_children != "undefined" &&
            e.max_children != -1 &&
            e.max_children >= this.children(i).size()
          )
            return this.error("CREATE: MAX_CHILDREN REACHED");
          if (this.settings.rules.use_max_depth) {
            if (typeof e.max_depth != "undefined" && e.max_depth === 0)
              return this.error("CREATE: MAX-DEPTH REACHED");
            for (
              var s = e.max_depth > 0 ? e.max_depth : !1, o = 0, h = i;
              h !== -1 && !f;

            )
              if (
                ((h = this.parent(h)),
                o++,
                (v = this.check("max_depth", h)),
                v >= 0 && (s = s === !1 ? v - o : Math.min(s, v - o)),
                s !== !1 && s <= 0)
              )
                return this.error("CREATE: MAX-DEPTH REACHED");
            if (s !== !1 && s <= 0)
              return this.error("CREATE: MAX-DEPTH REACHED");
            if (s !== !1)
              for (w = 1, h = u; h.size() > 0; ) {
                if (s - w < 0) return this.error("CREATE: MAX-DEPTH REACHED");
                h = h.children("ul").children("li");
                w++;
              }
          }
          return (((typeof r).toLowerCase() == "undefined" || r == "inside") &&
            (r =
              this.settings.rules.createat == "top"
                ? 0
                : i
                    .children("ul:eq(0)")
                    .children("li")
                    .size()),
          (c =
            i.children("ul").size() == 0 ||
            (f == !0 &&
              i
                .children("ul")
                .children("li")
                .size() == 0)
              ? f
                ? this.moved(
                    u,
                    this.container.children("ul:eq(0)"),
                    "inside",
                    !0
                  )
                : this.moved(u, i.children("a:eq(0)"), "inside", !0)
              : y == "before" &&
                i
                  .children("ul:eq(0)")
                  .children("li:nth-child(" + (r + 1) + ")")
                  .size()
              ? this.moved(
                  u,
                  i
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + (r + 1) + ")")
                    .children("a:eq(0)"),
                  "before",
                  !0
                )
              : y == "after" &&
                i
                  .children("ul:eq(0)")
                  .children("li:nth-child(" + r + ")")
                  .size()
              ? this.moved(
                  u,
                  i
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + r + ")")
                    .children("a:eq(0)"),
                  "after",
                  !0
                )
              : i
                  .children("ul:eq(0)")
                  .children("li:nth-child(" + (r + 1) + ")")
                  .size()
              ? this.moved(
                  u,
                  i
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + (r + 1) + ")")
                    .children("a:eq(0)"),
                  "before",
                  !0
                )
              : this.moved(
                  u,
                  i
                    .children("ul:eq(0)")
                    .children("li:last")
                    .children("a:eq(0)"),
                  "after",
                  !0
                )),
          c === !1)
            ? this.error("CREATE: ABORTED")
            : (l && (this.select_branch(u.children("a:eq(0)")), this.rename()),
              u);
        },
        rename: function(t, i) {
          var r, f, e, u, o;
          if (this.locked) return this.error("LOCKED");
          if (
            ((t = t ? this.get_node(t) : this.selected),
            (r = this),
            !t || !t.size())
          )
            return this.error("RENAME: NO NODE SELECTED");
          if (!this.check("renameable", t))
            return this.error("RENAME: NODE NOT RENAMABLE");
          if (!this.callback("beforerename", [t.get(0), r.current_lang, r]))
            return this.error("RENAME: STOPPED BY USER");
          t.parents("li.closed").each(function() {
            r.open_branch(this);
          });
          t = this.current_lang
            ? t.find("a." + this.current_lang)
            : t.find("a:first");
          f = {};
          f[this.container.attr("id")] = this.get_rollback();
          e = t.children("ins").clone();
          (typeof i).toLowerCase() == "string"
            ? (t.text(i).prepend(e),
              r.callback("onrename", [r.get_node(t).get(0), r, f]))
            : ((u = ""),
              t.contents().each(function() {
                if (this.nodeType == 3) return (u = this.data), !1;
              }),
              (r.inp = n("<input type='text' autocomplete='off' />")),
              r.inp
                .val(
                  u
                    .replace(/&amp;/g, "&")
                    .replace(/&gt;/g, ">")
                    .replace(/&lt;/g, "<")
                )
                .bind("mousedown", function(n) {
                  n.stopPropagation();
                })
                .bind("mouseup", function(n) {
                  n.stopPropagation();
                })
                .bind("click", function(n) {
                  n.stopPropagation();
                })
                .bind("keyup", function(n) {
                  var t = n.keyCode || n.which;
                  if (t == 27) {
                    this.value = u;
                    this.blur();
                    return;
                  }
                  if (t == 13) {
                    this.blur();
                    return;
                  }
                }),
              r.inp.blur(function() {
                this.value == "" && (this.value = u);
                t.text(this.value).prepend(e);
                t.get(0).style.display = "";
                t.prevAll("span").remove();
                r.inp = !1;
                r.callback("onrename", [r.get_node(t).get(0), r, f]);
              }),
              (o = n("<span />")
                .addClass(t.attr("class"))
                .append(e)
                .append(r.inp)),
              (t.get(0).style.display = "none"),
              t.parent().prepend(o),
              r.inp.get(0).focus(),
              r.inp.get(0).select());
        },
        remove: function(t) {
          var r, u, t, f, e, i;
          if (this.locked) return this.error("LOCKED");
          if (
            ((i = this),
            (r = {}),
            (r[this.container.attr("id")] = this.get_rollback()),
            t &&
              (!this.selected ||
                this.get_node(t).get(0) != this.selected.get(0)))
          ) {
            if (((t = this.get_node(t)), t.size())) {
              if (!this.check("deletable", t))
                return this.error("DELETE: NODE NOT DELETABLE");
              if (!this.callback("beforedelete", [t.get(0), i]))
                return this.error("DELETE: STOPPED BY USER");
              $parent = t.parent();
              t.find("a.clicked").size() &&
                ((u = !1),
                (i.selected_arr = []),
                this.container
                  .find("a.clicked")
                  .filter(":first-child")
                  .parent()
                  .each(function() {
                    if (
                      (u || this != i.selected.get(0) || (u = !0),
                      n(this)
                        .parents()
                        .index(t) != -1)
                    )
                      return !0;
                    i.selected_arr.push(n(this));
                  }),
                u && (this.selected = this.selected_arr[0] || !1));
              t = t.remove();
              $parent.children("li:last").addClass("last");
              $parent.children("li").size() == 0 &&
                (($li = $parent.parents("li:eq(0)")),
                $li
                  .removeClass("open")
                  .removeClass("closed")
                  .addClass("leaf")
                  .children("ul")
                  .remove());
              this.callback("ondelete", [t.get(0), this, r]);
            }
          } else if (this.selected) {
            if (!this.check("deletable", this.selected))
              return this.error("DELETE: NODE NOT DELETABLE");
            if (!this.callback("beforedelete", [this.selected.get(0), i]))
              return this.error("DELETE: STOPPED BY USER");
            $parent = this.selected.parent();
            t = this.selected;
            (this.settings.rules.multiple == !1 ||
              this.selected_arr.length == 1) &&
              ((f = !0),
              (e =
                this.settings.ui.selected_delete == "select_previous"
                  ? this.prev(this.selected)
                  : !1));
            t = t.remove();
            $parent.children("li:last").addClass("last");
            $parent.children("li").size() == 0 &&
              (($li = $parent.parents("li:eq(0)")),
              $li
                .removeClass("open")
                .removeClass("closed")
                .addClass("leaf")
                .children("ul")
                .remove());
            f ||
              this.settings.rules.multiple == !1 ||
              ((i = this),
              (this.selected_arr = []),
              this.container
                .find("a.clicked")
                .filter(":first-child")
                .parent()
                .each(function() {
                  i.selected_arr.push(n(this));
                }),
              this.selected_arr.length > 0 &&
                ((this.selected = this.selected_arr[0]), this.remove()));
            f && e && this.select_branch(e);
            this.callback("ondelete", [t.get(0), this, r]);
          } else return this.error("DELETE: NO NODE SELECTED");
        },
        next: function(n, t) {
          return ((n = this.get_node(n)), !n.size())
            ? !1
            : t
            ? n.nextAll("li").size() > 0
              ? n.nextAll("li:eq(0)")
              : !1
            : n.hasClass("open")
            ? n.find("li:eq(0)")
            : n.nextAll("li").size() > 0
            ? n.nextAll("li:eq(0)")
            : n
                .parents("li")
                .next("li")
                .eq(0);
        },
        prev: function(n, t) {
          if (((n = this.get_node(n)), !n.size())) return !1;
          if (t) return n.prevAll("li").size() > 0 ? n.prevAll("li:eq(0)") : !1;
          if (n.prev("li").size()) {
            for (var n = n.prev("li").eq(0); n.hasClass("open"); )
              n = n.children("ul:eq(0)").children("li:last");
            return n;
          }
          return n.parents("li:eq(0)").size() ? n.parents("li:eq(0)") : !1;
        },
        parent: function(n) {
          return ((n = this.get_node(n)), !n.size())
            ? !1
            : n.parents("li:eq(0)").size()
            ? n.parents("li:eq(0)")
            : -1;
        },
        children: function(n) {
          return n === -1
            ? this.container.children("ul:eq(0)").children("li")
            : ((n = this.get_node(n)), !n.size())
            ? !1
            : n.children("ul:eq(0)").children("li");
        },
        toggle_dots: function() {
          this.settings.ui.dots
            ? ((this.settings.ui.dots = !1),
              this.container.children("ul:eq(0)").addClass("no_dots"))
            : ((this.settings.ui.dots = !0),
              this.container.children("ul:eq(0)").removeClass("no_dots"));
        },
        callback: function(t, i) {
          var r = !1,
            u = null,
            f;
          for (f in this.settings.plugins)
            if (
              typeof n.tree.plugins[f] == "object" &&
              ((r = n.tree.plugins[f]),
              r.callbacks &&
                typeof r.callbacks[t] == "function" &&
                (u = r.callbacks[t].apply(this, i)),
              typeof u != "undefined" && u !== null)
            )
              if (t == "ondata" || t == "onparse") i[0] = u;
              else return u;
          return (
            (r = this.settings.callback[t]),
            typeof r == "function" ? r.apply(null, i) : void 0
          );
        },
        get_rollback: function() {
          var n = {};
          return (
            (n.html = this.container.html()),
            (n.selected = this.selected ? this.selected.attr("id") : !1),
            n
          );
        },
        moved: function(i, r, u, f, e, o) {
          var i = n(i),
            y = n(i).parents("ul:eq(0)"),
            s = n(r),
            o,
            c,
            h,
            a,
            p,
            w,
            l,
            v;
          if (
            (s.is("ins") && (s = s.parent()),
            o ||
              ((o = {}),
              (o[this.container.attr("id")] = this.get_rollback()),
              f ||
                ((h =
                  i.size() > 1
                    ? i.eq(0).parents(".tree:eq(0)")
                    : i.parents(".tree:eq(0)")),
                h.get(0) != this.container.get(0) &&
                  ((h = t.inst[h.attr("id")]),
                  (o[h.container.attr("id")] = h.get_rollback())),
                delete h)),
            u == "inside" && this.settings.data.async)
          ) {
            if (((c = this), this.get_node(s).hasClass("closed")))
              return this.open_branch(this.get_node(s), !0, function() {
                c.moved.apply(c, [i, r, u, f, e, o]);
              });
            if (
              this.get_node(s)
                .find("> ul > li > a.loading")
                .size() == 1
            ) {
              setTimeout(function() {
                c.moved.apply(c, [i, r, u, f, e]);
              }, 200);
              return;
            }
          }
          if (i.size() > 1)
            return (
              (c = this),
              (h = this.moved(i.eq(0), r, u, !1, e, o)),
              i.each(function(n) {
                n != 0 &&
                  h &&
                  (h = c.moved(this, h.children("a:eq(0)"), "after", !1, e, o));
              }),
              i
            );
          if (
            (e
              ? ((_what = i.clone()),
                _what.each(function() {
                  this.id = this.id + "_copy";
                  n(this)
                    .find("li")
                    .each(function() {
                      this.id = this.id + "_copy";
                    });
                  n(this)
                    .removeClass("dragged")
                    .find("a.clicked")
                    .removeClass("clicked")
                    .end()
                    .find("li.dragged")
                    .removeClass("dragged");
                }))
              : (_what = i),
            f)
          ) {
            if (
              !this.callback("beforecreate", [
                this.get_node(i).get(0),
                this.get_node(r).get(0),
                u,
                this
              ])
            )
              return !1;
          } else if (
            !this.callback("beforemove", [
              this.get_node(i).get(0),
              this.get_node(r).get(0),
              u,
              this
            ])
          )
            return !1;
          if (
            !f &&
            ((h = i.parents(".tree:eq(0)")), h.get(0) != this.container.get(0))
          ) {
            if (((h = t.inst[h.attr("id")]), h.settings.languages.length)) {
              if (((a = []), this.settings.languages.length == 0))
                a.push("." + h.current_lang);
              else
                for (p in this.settings.languages)
                  if (this.settings.languages.hasOwnProperty(p))
                    for (w in h.settings.languages)
                      h.settings.languages.hasOwnProperty(w) &&
                        this.settings.languages[p] == h.settings.languages[w] &&
                        a.push("." + this.settings.languages[p]);
              if (a.length == 0) return this.error("MOVE: NO COMMON LANGUAGES");
              _what
                .find("a")
                .not(a.join(","))
                .remove();
            }
            _what.find("a.clicked").removeClass("clicked");
          }
          i = _what;
          switch (u) {
            case "before":
              s.parents("ul:eq(0)")
                .children("li.last")
                .removeClass("last");
              s.parent().before(i.removeClass("last"));
              s.parents("ul:eq(0)")
                .children("li:last")
                .addClass("last");
              break;
            case "after":
              s.parents("ul:eq(0)")
                .children("li.last")
                .removeClass("last");
              s.parent().after(i.removeClass("last"));
              s.parents("ul:eq(0)")
                .children("li:last")
                .addClass("last");
              break;
            case "inside":
              s
                .parent()
                .children("ul:first")
                .size()
                ? this.settings.rules.createat == "top"
                  ? (s
                      .parent()
                      .children("ul:first")
                      .prepend(i.removeClass("last"))
                      .children("li:last")
                      .addClass("last"),
                    (l = s
                      .parent()
                      .children("ul:first")
                      .children("li:first")),
                    l.size() && ((u = "before"), (r = l)))
                  : ((l = s
                      .parent()
                      .children("ul:first")
                      .children(".last")),
                    l.size() && ((u = "after"), (r = l)),
                    s
                      .parent()
                      .children("ul:first")
                      .children(".last")
                      .removeClass("last")
                      .end()
                      .append(i.removeClass("last"))
                      .children("li:last")
                      .addClass("last"))
                : (i.addClass("last"),
                  s
                    .parent()
                    .removeClass("leaf")
                    .append("<ul/>"),
                  s.parent().hasClass("open") || s.parent().addClass("closed"),
                  s
                    .parent()
                    .children("ul:first")
                    .prepend(i));
              s.parent().hasClass("closed") && this.open_branch(s);
          }
          return (
            y.find("li").size() == 0
              ? ((v = y.parent()),
                v
                  .removeClass("open")
                  .removeClass("closed")
                  .addClass("leaf"),
                v.is(".tree") || v.children("ul").remove(),
                v
                  .parents("ul:eq(0)")
                  .children("li.last")
                  .removeClass("last")
                  .end()
                  .children("li:last")
                  .addClass("last"))
              : (y.children("li.last").removeClass("last"),
                y.children("li:last").addClass("last")),
            e
              ? this.callback("oncopy", [
                  this.get_node(i).get(0),
                  this.get_node(r).get(0),
                  u,
                  this,
                  o
                ])
              : f
              ? this.callback("oncreate", [
                  this.get_node(i).get(0),
                  s.is("ul") ? -1 : this.get_node(r).get(0),
                  u,
                  this,
                  o
                ])
              : this.callback("onmove", [
                  this.get_node(i).get(0),
                  this.get_node(r).get(0),
                  u,
                  this,
                  o
                ]),
            i
          );
        },
        error: function(n) {
          return this.callback("error", [n, this]), !1;
        },
        lock: function(n) {
          this.locked = n;
          this.locked
            ? this.container.children("ul:eq(0)").addClass("locked")
            : this.container.children("ul:eq(0)").removeClass("locked");
        },
        cut: function(n) {
          if (this.locked) return this.error("LOCKED");
          if (
            ((n = n
              ? this.get_node(n)
              : this.container
                  .find("a.clicked")
                  .filter(":first-child")
                  .parent()),
            !n || !n.size())
          )
            return this.error("CUT: NO NODE SELECTED");
          t.cut_copy.copy_nodes = !1;
          t.cut_copy.cut_nodes = n;
        },
        copy: function(n) {
          if (this.locked) return this.error("LOCKED");
          if (
            ((n = n
              ? this.get_node(n)
              : this.container
                  .find("a.clicked")
                  .filter(":first-child")
                  .parent()),
            !n || !n.size())
          )
            return this.error("COPY: NO NODE SELECTED");
          t.cut_copy.copy_nodes = n;
          t.cut_copy.cut_nodes = !1;
        },
        paste: function(n, i) {
          var u, o, f, e, r;
          if (this.locked) return this.error("LOCKED");
          if (
            ((u = !1),
            n == -1
              ? ((u = !0), (n = this.container))
              : (n = n ? this.get_node(n) : this.selected),
            !u && (!n || !n.size()))
          )
            return this.error("PASTE: NO NODE SELECTED");
          if (!t.cut_copy.copy_nodes && !t.cut_copy.cut_nodes)
            return this.error("PASTE: NOTHING TO DO");
          if (
            ((o = this),
            (f = i),
            i == "before"
              ? ((i = n
                  .parent()
                  .children()
                  .index(n)),
                (n = n.parents("li:eq(0)")))
              : i == "after"
              ? ((i =
                  n
                    .parent()
                    .children()
                    .index(n) + 1),
                (n = n.parents("li:eq(0)")))
              : ((typeof i).toLowerCase() == "undefined" || i == "inside") &&
                (i =
                  this.settings.rules.createat == "top"
                    ? 0
                    : n
                        .children("ul:eq(0)")
                        .children("li")
                        .size()),
            u || n.size() != 0 || ((u = !0), (n = this.container)),
            t.cut_copy.copy_nodes && t.cut_copy.copy_nodes.size())
          ) {
            if (
              ((e = !0),
              !u &&
                !this.check_move(
                  t.cut_copy.copy_nodes,
                  n.children("a:eq(0)"),
                  "inside"
                ))
            )
              return !1;
            r =
              n.children("ul").size() == 0 ||
              (u == !0 &&
                n
                  .children("ul")
                  .children("li")
                  .size() == 0)
                ? u
                  ? this.moved(
                      t.cut_copy.copy_nodes,
                      this.container.children("ul:eq(0)"),
                      "inside",
                      !1,
                      !0
                    )
                  : this.moved(
                      t.cut_copy.copy_nodes,
                      n.children("a:eq(0)"),
                      "inside",
                      !1,
                      !0
                    )
                : f == "before" &&
                  n
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + (i + 1) + ")")
                    .size()
                ? this.moved(
                    t.cut_copy.copy_nodes,
                    n
                      .children("ul:eq(0)")
                      .children("li:nth-child(" + (i + 1) + ")")
                      .children("a:eq(0)"),
                    "before",
                    !1,
                    !0
                  )
                : f == "after" &&
                  n
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + i + ")")
                    .size()
                ? this.moved(
                    t.cut_copy.copy_nodes,
                    n
                      .children("ul:eq(0)")
                      .children("li:nth-child(" + i + ")")
                      .children("a:eq(0)"),
                    "after",
                    !1,
                    !0
                  )
                : n
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + (i + 1) + ")")
                    .size()
                ? this.moved(
                    t.cut_copy.copy_nodes,
                    n
                      .children("ul:eq(0)")
                      .children("li:nth-child(" + (i + 1) + ")")
                      .children("a:eq(0)"),
                    "before",
                    !1,
                    !0
                  )
                : this.moved(
                    t.cut_copy.copy_nodes,
                    n
                      .children("ul:eq(0)")
                      .children("li:last")
                      .children("a:eq(0)"),
                    "after",
                    !1,
                    !0
                  );
            t.cut_copy.copy_nodes = !1;
          }
          if (t.cut_copy.cut_nodes && t.cut_copy.cut_nodes.size()) {
            if (
              ((e = !0),
              n
                .parents()
                .andSelf()
                .each(function() {
                  if (t.cut_copy.cut_nodes.index(this) != -1)
                    return (e = !1), !1;
                }),
              !e)
            )
              return this.error("Invalid paste");
            if (
              !u &&
              !this.check_move(
                t.cut_copy.cut_nodes,
                n.children("a:eq(0)"),
                "inside"
              )
            )
              return !1;
            r =
              n.children("ul").size() == 0 ||
              (u == !0 &&
                n
                  .children("ul")
                  .children("li")
                  .size() == 0)
                ? u
                  ? this.moved(
                      t.cut_copy.cut_nodes,
                      this.container.children("ul:eq(0)"),
                      "inside"
                    )
                  : this.moved(
                      t.cut_copy.cut_nodes,
                      n.children("a:eq(0)"),
                      "inside"
                    )
                : f == "before" &&
                  n
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + (i + 1) + ")")
                    .size()
                ? this.moved(
                    t.cut_copy.cut_nodes,
                    n
                      .children("ul:eq(0)")
                      .children("li:nth-child(" + (i + 1) + ")")
                      .children("a:eq(0)"),
                    "before"
                  )
                : f == "after" &&
                  n
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + i + ")")
                    .size()
                ? this.moved(
                    t.cut_copy.cut_nodes,
                    n
                      .children("ul:eq(0)")
                      .children("li:nth-child(" + i + ")")
                      .children("a:eq(0)"),
                    "after"
                  )
                : n
                    .children("ul:eq(0)")
                    .children("li:nth-child(" + (i + 1) + ")")
                    .size()
                ? this.moved(
                    t.cut_copy.cut_nodes,
                    n
                      .children("ul:eq(0)")
                      .children("li:nth-child(" + (i + 1) + ")")
                      .children("a:eq(0)"),
                    "before"
                  )
                : this.moved(
                    t.cut_copy.cut_nodes,
                    n
                      .children("ul:eq(0)")
                      .children("li:last")
                      .children("a:eq(0)"),
                    "after"
                  );
            t.cut_copy.cut_nodes = !1;
          }
        },
        search: function(t, i) {
          var r = this,
            s,
            e,
            f,
            h,
            u,
            o;
          if (
            ((!t || (this.srch && t != this.srch)) &&
              ((this.srch = ""),
              (this.srch_opn = !1),
              this.container.find("a.search").removeClass("search")),
            (this.srch = t),
            t)
          )
            if ((i || (i = "contains"), this.settings.data.async))
              if (this.srch_opn)
                if (this.srch_opn.length) {
                  if (this.srch_opn && this.srch_opn.length) {
                    for (e = !1, f = 0; f < this.srch_opn.length; f++)
                      this.get_node("#" + this.srch_opn[f]).size() > 0 &&
                        ((e = !0),
                        (h = "#" + this.srch_opn[f]),
                        delete this.srch_opn[f],
                        this.open_branch(h, !0, function() {
                          r.search.apply(r, [t, i]);
                        }));
                    e || ((this.srch_opn = []), r.search.apply(r, [t, i]));
                  }
                } else
                  (this.srch_opn = !1),
                    (u = "a"),
                    this.settings.languages.length &&
                      (u += "." + this.current_lang),
                    this.callback("onsearch", [
                      this.container.find(u + ":" + i + "('" + t + "')"),
                      this
                    ]);
              else
                (s = n.extend(
                  { search: t },
                  this.callback("beforedata", [!1, this])
                )),
                  n.ajax({
                    type: this.settings.data.opts.method,
                    url: this.settings.data.opts.url,
                    data: s,
                    dataType: "text",
                    success: function(u) {
                      r.srch_opn = n.unique(u.split(","));
                      r.search.apply(r, [t, i]);
                    }
                  });
            else
              (u = "a"),
                this.settings.languages.length &&
                  (u += "." + this.current_lang),
                (o = this.container.find(u + ":" + i + "('" + t + "')")),
                o.parents("li.closed").each(function() {
                  r.open_branch(this, !0);
                }),
                this.callback("onsearch", [o, this]);
        },
        add_sheet: t.add_sheet,
        destroy: function() {
          if (
            (this.callback("ondestroy", [this]),
            this.container.unbind(".jstree"),
            n("#" + this.container.attr("id"))
              .die("click.jstree")
              .die("dblclick.jstree")
              .die("mouseover.jstree")
              .die("mouseout.jstree")
              .die("mousedown.jstree"),
            this.container
              .removeClass(
                "tree ui-widget ui-widget-content tree-default tree-" +
                  this.settings.ui.theme_name
              )
              .children("ul")
              .removeClass("no_dots ltr locked")
              .find("li")
              .removeClass("leaf")
              .removeClass("open")
              .removeClass("closed")
              .removeClass("last")
              .children("a")
              .removeClass("clicked hover search"),
            this.cntr == t.focused)
          )
            for (var i in t.inst)
              if (i != this.cntr && i != this.container.attr("id")) {
                t.inst[i].focus();
                break;
              }
          t.inst[this.cntr] = !1;
          t.inst[this.container.attr("id")] = !1;
          delete t.inst[this.cntr];
          delete t.inst[this.container.attr("id")];
          t.cntr--;
        }
      };
    }
    n.tree = {
      datastores: {},
      plugins: {},
      defaults: {
        data: { async: !1, type: "html", opts: { method: "GET", url: !1 } },
        selected: !1,
        opened: [],
        languages: [],
        ui: {
          dots: !0,
          animation: 0,
          scroll_spd: 4,
          theme_path: !1,
          theme_name: "default",
          selected_parent_close: "select_parent",
          selected_delete: "select_previous"
        },
        types: {
          default: {
            clickable: !0,
            renameable: !0,
            deletable: !0,
            creatable: !0,
            draggable: !0,
            max_children: -1,
            max_depth: -1,
            valid_children: "all",
            icon: { image: !1, position: !1 }
          }
        },
        rules: {
          multiple: !1,
          multitree: "none",
          type_attr: "rel",
          createat: "bottom",
          drag_copy: "ctrl",
          drag_button: "left",
          use_max_children: !0,
          use_max_depth: !0,
          max_children: -1,
          max_depth: -1,
          valid_children: "all"
        },
        lang: { new_node: "New folder", loading: "Loading ..." },
        callback: {
          beforechange: function() {
            return !0;
          },
          beforeopen: function() {
            return !0;
          },
          beforeclose: function() {
            return !0;
          },
          beforemove: function() {
            return !0;
          },
          beforecreate: function() {
            return !0;
          },
          beforerename: function() {
            return !0;
          },
          beforedelete: function() {
            return !0;
          },
          beforedata: function(t) {
            return { id: n(t).attr("id") || 0 };
          },
          ondata: function(n) {
            return n;
          },
          onparse: function(n) {
            return n;
          },
          onhover: function() {},
          onselect: function() {},
          ondeselect: function() {},
          onchange: function() {},
          onrename: function() {},
          onmove: function() {},
          oncopy: function() {},
          oncreate: function() {},
          ondelete: function() {},
          onopen: function() {},
          onopen_all: function() {},
          onclose_all: function() {},
          onclose: function() {},
          error: function() {},
          ondblclk: function(n, t) {
            t.toggle_branch.call(t, n);
            t.select_branch.call(t, n);
          },
          onrgtclk: function() {},
          onload: function() {},
          oninit: function() {},
          onfocus: function() {},
          ondestroy: function() {},
          onsearch: function(n) {
            n.addClass("search");
          },
          ondrop: function() {},
          check: function(n, t, i) {
            return i;
          },
          check_move: function() {
            return !0;
          }
        },
        plugins: {}
      },
      create: function() {
        return new t();
      },
      focused: function() {
        return t.inst[t.focused];
      },
      reference: function(i) {
        var r = n(i);
        return (r.size() || (r = n("#" + i)), !r.size())
          ? null
          : ((r = r.is(".tree")
              ? r.attr("id")
              : r.parents(".tree:eq(0)").attr("id")),
            t.inst[r] || null);
      },
      rollback: function(i) {
        var u, r, f;
        for (u in i)
          i.hasOwnProperty(u) &&
            ((r = t.inst[u]),
            (f = !r.locked),
            f && r.lock(!0),
            (r.inp = !1),
            r.container
              .html(i[u].html)
              .find(".dragged")
              .removeClass("dragged")
              .end()
              .find(".hover")
              .removeClass("hover"),
            i[u].selected &&
              ((r.selected = n("#" + i[u].selected)),
              (r.selected_arr = []),
              r.container.find("a.clicked").each(function() {
                r.selected_arr.push(r.get_node(this));
              })),
            f && r.lock(!1),
            delete f,
            delete r);
      },
      drop_mode: function(i) {
        i = n.extend(i, { show: !1, type: "default", str: "Foreign node" });
        t.drag_drop.foreign = !0;
        t.drag_drop.isdown = !0;
        t.drag_drop.moving = !0;
        t.drag_drop.appended = !1;
        t.drag_drop.f_type = i.type;
        t.drag_drop.f_data = i;
        i.show
          ? ((t.drag_drop.drag_help = n(
              "<div id='jstree-dragged' class='tree tree-default'><ul><li class='last dragged foreign'><a href='#'><ins>&nbsp;</ins>" +
                i.str +
                "</a></li></ul></div>"
            )),
            (t.drag_drop.drag_node = t.drag_drop.drag_help.find("li:eq(0)")))
          : ((t.drag_drop.drag_help = !1), (t.drag_drop.drag_node = !1));
        n.tree.drag_start !== !1 && n.tree.drag_start.call(null, !1);
      },
      drag_start: !1,
      drag: !1,
      drag_end: !1
    };
    n.fn.tree = function(i) {
      return this.each(function() {
        var r = n.extend({}, i);
        t.inst &&
          t.inst[n(this).attr("id")] &&
          t.inst[n(this).attr("id")].destroy();
        r !== !1 && new t().init(this, r);
      });
    };
    t.cntr = 0;
    t.inst = {};
    t.themes = [];
    t.drag_drop = {
      isdown: !1,
      drag_node: !1,
      drag_help: !1,
      dragged: !1,
      init_x: !1,
      init_y: !1,
      moving: !1,
      origin_tree: !1,
      marker: !1,
      move_type: !1,
      ref_node: !1,
      appended: !1,
      foreign: !1,
      droppable: [],
      open_time: !1,
      scroll_time: !1
    };
    t.mouseup = function(i) {
      var r = t.drag_drop,
        u;
      return (
        r.open_time && clearTimeout(r.open_time),
        r.scroll_time && clearTimeout(r.scroll_time),
        r.moving && n.tree.drag_end !== !1 && n.tree.drag_end.call(null, i, r),
        r.foreign === !1 &&
          r.drag_node &&
          r.drag_node.size() &&
          (r.drag_help.remove(),
          r.move_type &&
            ((u = t.inst[r.ref_node.parents(".tree:eq(0)").attr("id")]),
            u &&
              u.moved(
                r.dragged,
                r.ref_node,
                r.move_type,
                !1,
                r.origin_tree.settings.rules.drag_copy == "on" ||
                  (r.origin_tree.settings.rules.drag_copy == "ctrl" &&
                    i.ctrlKey)
              )),
          (r.move_type = !1),
          (r.ref_node = !1)),
        r.foreign !== !1 &&
          (r.drag_help && r.drag_help.remove(),
          r.move_type &&
            ((u = t.inst[r.ref_node.parents(".tree:eq(0)").attr("id")]),
            u &&
              u.callback("ondrop", [
                r.f_data,
                u.get_node(r.ref_node).get(0),
                r.move_type,
                u
              ])),
          (r.foreign = !1),
          (r.move_type = !1),
          (r.ref_node = !1)),
        t.drag_drop.marker && t.drag_drop.marker.hide(),
        r.dragged && r.dragged.size() && r.dragged.removeClass("dragged"),
        (r.dragged = !1),
        (r.drag_help = !1),
        (r.drag_node = !1),
        (r.f_type = !1),
        (r.f_data = !1),
        (r.init_x = !1),
        (r.init_y = !1),
        (r.moving = !1),
        (r.appended = !1),
        (r.origin_tree = !1),
        r.isdown
          ? ((r.isdown = !1), i.preventDefault(), i.stopPropagation(), !1)
          : void 0
      );
    };
    t.mousemove = function(i) {
      var r = t.drag_drop,
        l = !1,
        u,
        s,
        f,
        h,
        y,
        c,
        v,
        e;
      if (r.isdown) {
        if (
          !r.moving &&
          Math.abs(r.init_x - i.pageX) < 5 &&
          Math.abs(r.init_y - i.pageY) < 5
        )
          return i.preventDefault(), i.stopPropagation(), !1;
        if (
          (r.moving || ((t.drag_drop.moving = !0), (l = !0)),
          r.open_time && clearTimeout(r.open_time),
          r.drag_help !== !1 &&
            (r.appended ||
              (r.foreign !== !1 && (r.origin_tree = n.tree.focused()),
              n("body").append(r.drag_help),
              (r.w = r.drag_help.width()),
              (r.appended = !0)),
            r.drag_help.css({ left: i.pageX + 5, top: i.pageY + 15 })),
          l && n.tree.drag_start !== !1 && n.tree.drag_start.call(null, i, r),
          n.tree.drag !== !1 && n.tree.drag.call(null, i, r),
          i.target.tagName == "DIV" && i.target.id == "jstree-marker")
        )
          return !1;
        if (
          ((u = n(i.target)),
          u.is("ins") && (u = u.parent()),
          (s = u.is(".tree") ? u : u.parents(".tree:eq(0)")),
          s.size() == 0 || !t.inst[s.attr("id")])
        )
          return (
            r.scroll_time && clearTimeout(r.scroll_time),
            r.drag_help !== !1 &&
              r.drag_help.find("li:eq(0) ins").addClass("forbidden"),
            (r.move_type = !1),
            (r.ref_node = !1),
            t.drag_drop.marker.hide(),
            !1
          );
        if (
          ((f = t.inst[s.attr("id")]),
          f.off_height(),
          r.scroll_time && clearTimeout(r.scroll_time),
          (r.scroll_time = setTimeout(function() {
            f.scroll_check(i.pageX, i.pageY);
          }, 50)),
          (h = !1),
          (y = s.scrollTop()),
          i.target.tagName == "A" || i.target.tagName == "INS")
        ) {
          if (u.is("#jstree-dragged")) return !1;
          f.get_node(i.target).hasClass("closed") &&
            (r.open_time = setTimeout(function() {
              f.open_branch(u);
            }, 500));
          var e = u.offset(),
            o = { x: e.left - 1, y: i.pageY - e.top },
            a = [];
          if (
            ((a =
              o.y < f.li_height / 3 + 1
                ? ["before", "inside", "after"]
                : o.y > (f.li_height * 2) / 3 - 1
                ? ["after", "inside", "before"]
                : o.y < f.li_height / 2
                ? ["inside", "before", "after"]
                : ["inside", "after", "before"]),
            (c = !1),
            (v =
              r.foreign == !1
                ? r.origin_tree.container.find("li.dragged")
                : r.f_type),
            n.each(a, function(n, t) {
              if (f.check_move(v, u, t)) return (h = t), (c = !0), !1;
            }),
            c)
          ) {
            switch (h) {
              case "before":
                o.y = e.top - 2;
                t.drag_drop.marker.attr("class", "marker");
                break;
              case "after":
                o.y = e.top - 2 + f.li_height;
                t.drag_drop.marker.attr("class", "marker");
                break;
              case "inside":
                o.x -= 2;
                o.y = e.top - 2 + f.li_height / 2;
                t.drag_drop.marker.attr("class", "marker_plus");
            }
            r.move_type = h;
            r.ref_node = n(i.target);
            r.drag_help !== !1 &&
              r.drag_help.find(".forbidden").removeClass("forbidden");
            t.drag_drop.marker.css({ left: o.x, top: o.y }).show();
          }
        }
        return (
          (u.is(".tree") || u.is("ul")) && u.find("li:eq(0)").size() == 0
            ? ((e = u.offset()),
              (r.move_type = "inside"),
              (r.ref_node = s.children("ul:eq(0)")),
              r.drag_help !== !1 &&
                r.drag_help.find(".forbidden").removeClass("forbidden"),
              t.drag_drop.marker.attr("class", "marker_plus"),
              t.drag_drop.marker
                .css({ left: e.left + 10, top: e.top + 15 })
                .show())
            : ((i.target.tagName == "A" || i.target.tagName == "INS") && c) ||
              (r.drag_help !== !1 &&
                r.drag_help.find("li:eq(0) ins").addClass("forbidden"),
              (r.move_type = !1),
              (r.ref_node = !1),
              t.drag_drop.marker.hide()),
          i.preventDefault(),
          i.stopPropagation(),
          !1
        );
      }
      return !0;
    };
    n(function() {
      n(document).bind("mousemove.jstree", t.mousemove);
      n(document).bind("mouseup.jstree", t.mouseup);
    });
    t.cut_copy = { copy_nodes: !1, cut_nodes: !1 };
    t.css = !1;
    t.get_css = function(n, r) {
      n = n.toLowerCase();
      var f = t.css.cssRules || t.css.rules,
        u = 0;
      do {
        if (f.length && u > f.length + 5) return !1;
        if (f[u].selectorText && f[u].selectorText.toLowerCase() == n)
          return r == !0
            ? (t.css.removeRule && document.styleSheets[i].removeRule(u),
              t.css.deleteRule && document.styleSheets[i].deleteRule(u),
              !0)
            : f[u];
      } while (f[++u]);
      return !1;
    };
    t.add_css = function(n) {
      return t.get_css(n)
        ? !1
        : (t.css.insertRule
            ? t.css.insertRule(n + " { }", 0)
            : t.css.addRule(n, null, 0),
          t.get_css(n));
    };
    t.remove_css = function(n) {
      return t.get_css(n, !0);
    };
    t.add_sheet = function(n) {
      var t, i;
      if (n.str)
        return (
          (t = document.createElement("style")),
          t.setAttribute("type", "text/css"),
          t.styleSheet
            ? (document.getElementsByTagName("head")[0].appendChild(t),
              (t.styleSheet.cssText = n.str))
            : (t.appendChild(document.createTextNode(n.str)),
              document.getElementsByTagName("head")[0].appendChild(t)),
          t.sheet || t.styleSheet
        );
      if (n.url)
        if (document.createStyleSheet)
          try {
            document.createStyleSheet(n.url);
          } catch (r) {}
        else
          return (
            (i = document.createElement("link")),
            (i.rel = "stylesheet"),
            (i.type = "text/css"),
            (i.media = "all"),
            (i.href = n.url),
            document.getElementsByTagName("head")[0].appendChild(i),
            i.styleSheet
          );
    };
    n(function() {
      var r = navigator.userAgent.toLowerCase(),
        u = (r.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/) || [0, "0"])[1],
        i =
          '/* TREE LAYOUT */ .tree ul { margin:0 0 0 5px; padding:0 0 0 0; list-style-type:none; } .tree li { display:block; min-height:18px; line-height:18px; padding:0 0 0 15px; margin:0 0 0 0; /* Background fix */ clear:both; } .tree li ul { display:none; } .tree li a, .tree li span { display:inline-block;line-height:16px;height:16px;color:black;white-space:nowrap;text-decoration:none;padding:1px 4px 1px 4px;margin:0; } .tree li a:focus { outline: none; } .tree li a input, .tree li span input { margin:0;padding:0 0;display:inline-block;height:12px !important;border:1px solid white;background:white;font-size:10px;font-family:Verdana; } .tree li a input:not([class="xxx"]), .tree li span input:not([class="xxx"]) { padding:1px 0; } /* FOR DOTS */ .tree .ltr li.last { float:left; } .tree > ul li.last { overflow:visible; } /* OPEN OR CLOSE */ .tree li.open ul { display:block; } .tree li.closed ul { display:none !important; } /* FOR DRAGGING */ #jstree-dragged { position:absolute; top:-10px; left:-10px; margin:0; padding:0; } #jstree-dragged ul ul ul { display:none; } #jstree-marker { padding:0; margin:0; line-height:5px; font-size:1px; overflow:hidden; height:5px; position:absolute; left:-45px; top:-30px; z-index:1000; background-color:transparent; background-repeat:no-repeat; display:none; } #jstree-marker.marker { width:45px; background-position:-32px top; } #jstree-marker.marker_plus { width:5px; background-position:right top; } /* BACKGROUND DOTS */ .tree li li { overflow:hidden; } .tree > .ltr > li { display:table; } /* ICONS */ .tree ul ins { display:inline-block; text-decoration:none; width:16px; height:16px; } .tree .ltr ins { margin:0 8px 0 0px; } ';
      n.browser.msie &&
        (n.browser.version == 6 &&
          (i +=
            '.tree li { height:18px; zoom:1; } .tree li li { overflow:visible; } .tree .ltr li.last { margin-top: expression( (this.previousSibling && /open/.test(this.previousSibling.className) ) ? "-2px" : "0"); } .marker { width:45px; background-position:-32px top; } .marker_plus { width:5px; background-position:right top; }'),
        n.browser.version == 7 &&
          (i +=
            '.tree li li { overflow:visible; } .tree .ltr li.last { margin-top: expression( (this.previousSibling && /open/.test(this.previousSibling.className) ) ? "-2px" : "0"); }'));
      n.browser.opera &&
        (i +=
          '.tree > ul > li.last:after { content:"."; display: block; height:1px; clear:both; visibility:hidden; }');
      n.browser.mozilla &&
        n.browser.version.indexOf("1.8") == 0 &&
        (i +=
          ".tree .ltr li a { display:inline; float:left; } .tree li ul { clear:both; }");
      t.css = t.add_sheet({ str: i });
    });
  })(jQuery),
  (function(n) {
    n.extend(n.tree.datastores, {
      html: function() {
        return {
          get: function(t, i) {
            return t && n(t).size()
              ? n("<div>")
                  .append(i.get_node(t).clone())
                  .html()
              : i.container.children("ul:eq(0)").html();
          },
          parse: function(n, t, i, r) {
            return r && r.call(null, n), n;
          },
          load: function(t, i, r, u) {
            r.url
              ? n.ajax({
                  type: r.method,
                  url: r.url,
                  data: t,
                  dataType: "html",
                  success: function(n) {
                    u.call(null, n);
                  },
                  error: function(n, t, r) {
                    u.call(null, !1);
                    i.error(r + " " + t);
                  }
                })
              : u.call(
                  null,
                  r.static || i.container.children("ul:eq(0)").html()
                );
          }
        };
      },
      json: function() {
        return {
          get: function(t, i, r) {
            var c = this,
              h,
              u,
              f,
              o,
              s,
              e;
            if (
              ((t =
                t && n(t).size() != 0
                  ? n(t)
                  : i.container.children("ul").children("li")),
              r || (r = {}),
              r.outer_attrib || (r.outer_attrib = ["id", "rel", "class"]),
              r.inner_attrib || (r.inner_attrib = []),
              t.size() > 1)
            )
              return (
                (h = []),
                t.each(function() {
                  h.push(c.get(this, i, r));
                }),
                h
              );
            if (t.size() == 0) return [];
            u = { attributes: {}, data: {} };
            t.hasClass("open") && (u.data.state = "open");
            t.hasClass("closed") && (u.data.state = "closed");
            for (f in r.outer_attrib)
              r.outer_attrib.hasOwnProperty(f) &&
                ((e =
                  r.outer_attrib[f] == "class"
                    ? t
                        .attr(r.outer_attrib[f])
                        .replace(/(^| )last( |$)/gi, " ")
                        .replace(/(^| )(leaf|closed|open)( |$)/gi, " ")
                    : t.attr(r.outer_attrib[f])),
                typeof e != "undefined" &&
                  e.toString().replace(" ", "").length > 0 &&
                  (u.attributes[r.outer_attrib[f]] = e),
                delete e);
            if (i.settings.languages.length) {
              for (f in i.settings.languages)
                if (i.settings.languages.hasOwnProperty(f))
                  if (
                    ((o = t.children("a." + i.settings.languages[f])),
                    r.force ||
                      r.inner_attrib.length ||
                      o
                        .children("ins")
                        .get(0)
                        .style.backgroundImage.toString().length ||
                      o.children("ins").get(0).className.length)
                  ) {
                    if (
                      ((u.data[i.settings.languages[f]] = {}),
                      (u.data[i.settings.languages[f]].title = i.get_text(
                        t,
                        i.settings.languages[f]
                      )),
                      o.children("ins").get(0).style.className.length &&
                        (u.data[i.settings.languages[f]].icon = o
                          .children("ins")
                          .get(0).style.className),
                      o.children("ins").get(0).style.backgroundImage.length &&
                        (u.data[i.settings.languages[f]].icon = o
                          .children("ins")
                          .get(0)
                          .style.backgroundImage.replace("url(", "")
                          .replace(")", "")),
                      r.inner_attrib.length)
                    ) {
                      u.data[i.settings.languages[f]].attributes = {};
                      for (s in r.inner_attrib)
                        r.inner_attrib.hasOwnProperty(s) &&
                          ((e = o.attr(r.inner_attrib[s])),
                          typeof e != "undefined" &&
                            e.toString().replace(" ", "").length > 0 &&
                            (u.data[i.settings.languages[f]].attributes[
                              r.inner_attrib[s]
                            ] = e),
                          delete e);
                    }
                  } else
                    u.data[i.settings.languages[f]] = i.get_text(
                      t,
                      i.settings.languages[f]
                    );
            } else if (
              ((o = t.children("a")),
              (u.data.title = i.get_text(t)),
              o.children("ins").size() &&
                o.children("ins").get(0).className.length &&
                (u.data.icon = o.children("ins").get(0).className),
              o.children("ins").size() &&
                o.children("ins").get(0).style.backgroundImage.length &&
                (u.data.icon = o
                  .children("ins")
                  .get(0)
                  .style.backgroundImage.replace("url(", "")
                  .replace(")", "")),
              r.inner_attrib.length)
            ) {
              u.data.attributes = {};
              for (s in r.inner_attrib)
                r.inner_attrib.hasOwnProperty(s) &&
                  ((e = o.attr(r.inner_attrib[s])),
                  typeof e != "undefined" &&
                    e.toString().replace(" ", "").length > 0 &&
                    (u.data.attributes[r.inner_attrib[s]] = e),
                  delete e);
            }
            return (
              t.children("ul").size() > 0 &&
                ((u.children = []),
                t
                  .children("ul")
                  .children("li")
                  .each(function() {
                    u.children.push(c.get(this, i, r));
                  })),
              u
            );
          },
          parse: function(n, t, i, r) {
            var f, s, o, e, u;
            if (Object.prototype.toString.apply(n) === "[object Array]") {
              for (f = "", u = 0; u < n.length; u++)
                typeof n[u] != "function" && (f += this.parse(n[u], t, i));
              return r && r.call(null, f), f;
            }
            if (!n || !n.data) return r && r.call(null, !1), "";
            if (((f = ""), (f += "<li "), (s = !1), n.attributes))
              for (u in n.attributes)
                n.attributes.hasOwnProperty(u) &&
                  (u == "class"
                    ? ((f += " class='" + n.attributes[u] + " "),
                      (n.state == "closed" || n.state == "open") &&
                        (f += " " + n.state + " "),
                      (f += "' "),
                      (s = !0))
                    : (f += " " + u + "='" + n.attributes[u] + "' "));
            if (
              (s ||
                (n.state != "closed" && n.state != "open") ||
                (f += " class='" + n.state + "' "),
              (f += ">"),
              t.settings.languages.length)
            )
              for (u = 0; u < t.settings.languages.length; u++) {
                if (
                  ((e = {}),
                  (e.href = ""),
                  (e.style = ""),
                  (e["class"] = t.settings.languages[u]),
                  n.data[t.settings.languages[u]] &&
                    (typeof n.data[t.settings.languages[u]]
                      .attributes).toLowerCase() != "undefined")
                )
                  for (o in n.data[t.settings.languages[u]].attributes)
                    n.data[t.settings.languages[u]].attributes.hasOwnProperty(
                      o
                    ) &&
                      (o == "style" || o == "class"
                        ? (e[o] +=
                            " " + n.data[t.settings.languages[u]].attributes[o])
                        : (e[o] =
                            n.data[t.settings.languages[u]].attributes[o]));
                f += "<a";
                for (o in e)
                  e.hasOwnProperty(o) && (f += " " + o + '="' + e[o] + '" ');
                f += ">";
                f +=
                  n.data[t.settings.languages[u]] &&
                  n.data[t.settings.languages[u]].icon
                    ? "<ins " +
                      (n.data[t.settings.languages[u]].icon.indexOf("/") == -1
                        ? " class='" +
                          n.data[t.settings.languages[u]].icon +
                          "' "
                        : " style='background-image:url(\"" +
                          n.data[t.settings.languages[u]].icon +
                          "\");' ") +
                      ">&nbsp;</ins>"
                    : "<ins>&nbsp;</ins>";
                f +=
                  ((typeof n.data[t.settings.languages[u]]
                    .title).toLowerCase() != "undefined"
                    ? n.data[t.settings.languages[u]].title
                    : n.data[t.settings.languages[u]]) + "</a>";
              }
            else {
              if (
                ((e = {}),
                (e.href = ""),
                (e.style = ""),
                (e["class"] = ""),
                (typeof n.data.attributes).toLowerCase() != "undefined")
              )
                for (u in n.data.attributes)
                  n.data.attributes.hasOwnProperty(u) &&
                    (u == "style" || u == "class"
                      ? (e[u] += " " + n.data.attributes[u])
                      : (e[u] = n.data.attributes[u]));
              f += "<a";
              for (u in e)
                e.hasOwnProperty(u) && (f += " " + u + '="' + e[u] + '" ');
              f += ">";
              f += n.data.icon
                ? "<ins " +
                  (n.data.icon.indexOf("/") == -1
                    ? " class='" + n.data.icon + "' "
                    : " style='background-image:url(\"" +
                      n.data.icon +
                      "\");' ") +
                  ">&nbsp;</ins>"
                : "<ins>&nbsp;</ins>";
              f +=
                ((typeof n.data.title).toLowerCase() != "undefined"
                  ? n.data.title
                  : n.data) + "</a>";
            }
            if (n.children && n.children.length) {
              for (f += "<ul>", u = 0; u < n.children.length; u++)
                f += this.parse(n.children[u], t, i);
              f += "</ul>";
            }
            return (f += "</li>"), r && r.call(null, f), f;
          },
          load: function(t, i, r, u) {
            r.static
              ? u.call(null, r.static)
              : n.ajax({
                  type: r.method,
                  url: r.url,
                  data: t,
                  dataType: "json",
                  success: function(n) {
                    u.call(null, n);
                  },
                  error: function(n, t, r) {
                    u.call(null, !1);
                    i.error(r + " " + t);
                  }
                });
          }
        };
      }
    });
  })(jQuery);
(config = { mouseDownOnSelect: !1 }),
  (function(n) {
    n.fn.extend({
      autocomplete: function(t, i) {
        var r = typeof t == "string";
        return (
          (i = n.extend(
            {},
            n.Autocompleter.defaults,
            {
              url: r ? t : null,
              data: r ? null : t,
              delay: r ? n.Autocompleter.defaults.delay : 10,
              max: i && !i.scroll ? 10 : 150
            },
            i
          )),
          (i.highlight =
            i.highlight ||
            function(n) {
              return n;
            }),
          (i.formatMatch = i.formatMatch || i.formatItem),
          this.each(function() {
            new n.Autocompleter(this, i);
          })
        );
      },
      result: function(n) {
        return this.bind("result", n);
      },
      search: function(n) {
        return this.trigger("search", [n]);
      },
      flushCache: function() {
        return this.trigger("flushCache");
      },
      setOptions: function(n) {
        return this.trigger("setOptions", [n]);
      },
      unautocomplete: function() {
        return this.trigger("unautocomplete");
      }
    });
    n.Autocompleter = function(t, i) {
      function b() {
        var t = r.selected(),
          f,
          o,
          s;
        return t
          ? ((f = t.result),
            (e = ""),
            i.multiple &&
              ((o = l(u.val())),
              o.length > 1 &&
                (f =
                  o.slice(0, o.length - 1).join(i.multipleSeparator) +
                  i.multipleSeparator +
                  f),
              (f += i.multipleSeparator)),
            u.val(f),
            v(),
            (s = n.isFunction(i.formatLabel) ? i.formatLabel(t) : t.value),
            u.trigger("result", [t.data, s]),
            !0)
          : !1;
      }
      function o(t, o) {
        var s, h;
        if (p == f.DEL) {
          r.hide();
          return;
        }
        ((s = u.val()), o || s != e) &&
          ((e = s),
          s.indexOf(",") > -1
            ? ((h = ""),
              n.each(s.split(","), function(t, i) {
                h += n.trim(i) + ",";
              }),
              h.length > 0 && (s = h.substring(0, h.length - 1)))
            : (s = a(s)),
          s.length >= i.minChars
            ? (u.addClass(i.loadingClass),
              i.matchCase || (s = s.toLowerCase()),
              k(s, nt, v))
            : (y(), r.hide()));
      }
      function l(t) {
        if (!t) return [""];
        var u = t.split(i.multipleSeparator),
          r = [];
        return (
          n.each(u, function(t, i) {
            n.trim(i) && (r[t] = n.trim(i));
          }),
          r
        );
      }
      function a(n) {
        if (!i.multiple) return n;
        var t = l(n);
        return t[t.length - 1];
      }
      function d(r, o) {
        i.autoFill &&
          a(u.val()).toLowerCase() == r.toLowerCase() &&
          p != f.BACKSPACE &&
          (u.val(u.val() + o.substring(a(e).length)),
          n.Autocompleter.Selection(t, e.length, e.length + o.length));
      }
      function g() {
        clearTimeout(s);
        s = setTimeout(v, 200);
      }
      function v() {
        n(t).removeClass("ac_show");
        var f = r.visible();
        r.hide();
        clearTimeout(s);
        y();
        i.mustMatch &&
          u.search(function(n) {
            if (!n)
              if (i.multiple) {
                var t = l(u.val()).slice(0, -1);
                u.val(
                  t.join(i.multipleSeparator) +
                    (t.length ? i.multipleSeparator : "")
                );
              } else u.val("");
          });
        f && n.Autocompleter.Selection(t, t.value.length, t.value.length);
      }
      function nt(n, t) {
        var o, s, f, e;
        if (t && t.length && c)
          if ((y(), (o = n.split(",")), o.length > 1))
            for (s = 0; s < o.length; s++) {
              if (t && t.length)
                for (e = 0; e < t.length; e++)
                  if (String(t[e].result).toLowerCase() == o[s].toLowerCase()) {
                    f = t[e];
                    break;
                  }
              typeof fn == "function"
                ? fn(f)
                : u.trigger("result", f && [f.data, f.value]);
            }
          else r.display(t, n), d(n, t[0].value), r.show();
        else
          i.noResultsMessage.length > 0
            ? (y(), r.message(i.noResultsMessage), r.show())
            : v();
      }
      function k(u, f, e) {
        var o, c, l, s;
        i.matchCase || (u = u.toLowerCase());
        o = h.load(u);
        o && o.length
          ? f(u, o)
          : typeof i.url == "string" && i.url.length > 0
          ? ((c = { timestamp: +new Date() }),
            n.each(i.extraParams, function(n, t) {
              c[n] = typeof t == "function" ? t() : t;
            }),
            (l = null),
            i.FormData != null && (l = i.FormData()),
            (s = n.extend(
              {
                query: {
                  q: a(u),
                  limit: i.max,
                  FormData: l,
                  ExtraData: i.extraData
                }
              },
              c
            )),
            i.contentType.indexOf("application/json") > -1 &&
              (s = JSON.stringify(s)),
            n.ajax({
              mode: "abort",
              port: "autocomplete" + t.name,
              type: i.ajaxType,
              dataType: i.dataType,
              contentType: i.contentType,
              url: i.url,
              data: s,
              success: function(n) {
                var t = (i.parse && i.parse(n)) || tt(n);
                h.add(u, t);
                f(u, t);
              }
            }))
          : (r.emptyList(), e(u));
      }
      function tt(t) {
        for (var f = [], e = t.split("\n"), r, u = 0; u < e.length; u++)
          (r = n.trim(e[u])),
            r &&
              ((r = r.split("|")),
              (f[f.length] = {
                data: r,
                value: r[0],
                result: (i.formatResult && i.formatResult(r, r[0])) || r[0]
              }));
        return f;
      }
      function y() {
        u.removeClass(i.loadingClass);
      }
      var f = {
          UP: 38,
          DOWN: 40,
          DEL: 46,
          TAB: 9,
          RETURN: 13,
          CONTROL: 17,
          ESC: 27,
          COMMA: 188,
          PAGEUP: 33,
          PAGEDOWN: 34,
          BACKSPACE: 8
        },
        u = n(t)
          .attr("autocomplete", "off")
          .addClass(i.inputClass),
        s,
        e = "",
        h = n.Autocompleter.Cache(i),
        c = 0,
        p,
        r = n.Autocompleter.Select(i, t, b, config),
        w;
      n.browser.opera &&
        n(t.form).bind("submit.autocomplete", function() {
          if (w) return (w = !1), !1;
        });
      u.bind(
        (n.browser.opera ? "keypress" : "keydown") + ".autocomplete",
        function(t) {
          p = t.keyCode;
          switch (t.keyCode) {
            case f.UP:
              t.preventDefault();
              r.visible() ? r.prev() : o(0, !0);
              break;
            case f.DOWN:
              t.preventDefault();
              r.visible() ? r.next() : o(0, !0);
              break;
            case f.PAGEUP:
              t.preventDefault();
              r.visible() ? r.pageUp() : o(0, !0);
              break;
            case f.PAGEDOWN:
              t.preventDefault();
              r.visible() ? r.pageDown() : o(0, !0);
              break;
            case i.multiple && n.trim(i.multipleSeparator) == "," && f.COMMA:
            case f.TAB:
            case f.RETURN:
              if (b())
                return (
                  t.preventDefault(),
                  (w = !0),
                  n.isFunction(i.processEnd) && i.processEnd(),
                  !1
                );
              break;
            case f.ESC:
              r.hide();
              n.isFunction(i.processEnd) && i.processEnd();
              break;
            default:
              clearTimeout(s);
              r.visible() && r.hide();
              s = setTimeout(o, i.delay);
          }
        }
      )
        .focus(function() {
          c++;
        })
        .blur(function() {
          c = 0;
          config.mouseDownOnSelect || g();
        })
        .click(function() {
          c++ > 1 && !r.visible() && o(0, !0);
        })
        .bind("search", function() {
          function i(n, i) {
            for (var o = n.split(","), r, f, e = 0; e < o.length; e++) {
              if (i && i.length)
                for (f = 0; f < i.length; f++)
                  if (String(i[f].result).toLowerCase() == o[e].toLowerCase()) {
                    r = i[f];
                    break;
                  }
              typeof t == "function"
                ? t(r, i)
                : u.trigger("result", r && [r.data, r.value]);
            }
          }
          var t = arguments.length > 1 ? arguments[1] : null;
          n.each(l(u.val()), function(n, t) {
            k(t, i, i);
          });
        })
        .bind("flushCache", function() {
          h.flush();
        })
        .bind("setOptions", function() {
          n.extend(i, arguments[1]);
          "data" in arguments[1] && h.populate();
        })
        .bind("unautocomplete", function() {
          r.unbind();
          u.unbind();
          n(t.form).unbind(".autocomplete");
        });
    };
    n.Autocompleter.defaults = {
      inputClass: "ac_input",
      resultsClass: "ac_results",
      loadingClass: "ac_loading",
      minChars: 0,
      delay: 400,
      matchCase: !1,
      matchSubset: !0,
      matchContains: !1,
      cacheLength: 10,
      max: 100,
      mustMatch: !1,
      extraParams: {},
      FormData: null,
      selectFirst: !0,
      formatItem: function(n) {
        return n[0];
      },
      formatMatch: null,
      formatLabel: null,
      autoFill: !1,
      width: 0,
      multiple: !1,
      multipleSeparator: ", ",
      highlight: function(n, t) {
        return n.replace(
          new RegExp(
            "(?![^&;]+;)(?!<[^<>]*)(" +
              t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi, "\\$1") +
              ")(?![^<>]*>)(?![^&;]+;)",
            "gi"
          ),
          "<strong>$1</strong>"
        );
      },
      scroll: !0,
      scrollHeight: 180,
      autoPosition: !0,
      attachTo: "body",
      ajaxType: "POST",
      dataType: "json",
      contentType: "application/json; charset=utf-8;",
      noResultsMessage: ""
    };
    n.Autocompleter.Cache = function(t) {
      function r(n, i) {
        t.matchCase || (n = n.toLowerCase());
        var r = n.indexOf(i);
        return (t.matchContains == "word" &&
          (r = n.toLowerCase().search("\\b" + i.toLowerCase())),
        r == -1)
          ? !1
          : r == 0 || t.matchContains;
      }
      function f(n, r) {
        u > t.cacheLength && o();
        i[n] || u++;
        i[n] = r;
      }
      function e() {
        var r, h, u, c, i, e, o, s;
        if (!t.data) return !1;
        for (
          r = {},
            h = 0,
            t.url || (t.cacheLength = 1),
            r[""] = [],
            u = 0,
            c = t.data.length;
          u < c;
          u++
        )
          ((i = t.data[u]),
          (i = typeof i == "string" ? [i] : i),
          (e = t.formatMatch(i, u + 1, t.data.length)),
          e !== !1) &&
            ((o = e.charAt(0).toLowerCase()),
            r[o] || (r[o] = []),
            (s = {
              value: e,
              data: i,
              result: (t.formatResult && t.formatResult(i)) || e
            }),
            r[o].push(s),
            h++ < t.max && r[""].push(s));
        n.each(r, function(n, i) {
          t.cacheLength++;
          f(n, i);
        });
      }
      function o() {
        i = {};
        u = 0;
      }
      var i = {},
        u = 0;
      return (
        setTimeout(e, 25),
        {
          flush: o,
          add: f,
          populate: e,
          load: function(f) {
            var h, c, a, l, o, s, e;
            if (!t.cacheLength || !u) return null;
            if (
              ((h = null),
              t.FormData != null && (h = t.FormData()),
              h != null && (h = h[0].Value),
              t.url || t.matchContains != "ordered")
            ) {
              if (!t.url && t.matchContains) {
                e = [];
                for (l in i)
                  l.length > 0 &&
                    ((s = i[l]),
                    n.each(s, function(n, t) {
                      r(t.value, f) && e.push(t);
                    }));
                return e;
              }
              if (i[f]) return i[f];
              if (t.matchSubset)
                for (o = f.length - 1; o >= t.minChars; o--)
                  if (((s = i[f.substr(0, o)]), s))
                    return (
                      (e = []),
                      n.each(s, function(n, t) {
                        r(t.value, f) && (e[e.length] = t);
                      }),
                      e
                    );
            } else {
              e = [];
              c = [];
              for (l in i)
                l.length > 0 &&
                  ((s = i[l]),
                  n.each(s, function(n, t) {
                    var i = t.value.split(" - "),
                      u,
                      r;
                    if (i.length > 1) {
                      if (((u = !1), h != null))
                        for (r = 0; r < h.length; r++)
                          if (i[0] == h[r].Data) {
                            u = !0;
                            break;
                          }
                      u ||
                        (i[0].toLowerCase() == f
                          ? e.splice(0, 0, t)
                          : i[0].toLowerCase().indexOf(f) == 0
                          ? e.push(t)
                          : ((t.Data = i[0]), (t.Desc = i[1]), c.push(t)));
                    } else (t.Data = t.value), (t.Desc = t.value), c.push(t);
                  }));
              for (o = c.length - 1; o >= 0; o--)
                (t.matchContains = !1),
                  (a = c[o]),
                  (r(a.Data, f) || r(a.Desc, f)) && (e.push(a), c.splice(o, 1)),
                  (t.matchContains = "ordered");
              return (
                n.each(c, function(n, t) {
                  r(t.value, f) && e.push(t);
                }),
                e
              );
            }
            return null;
          }
        }
      );
    };
    n.Autocompleter.Select = function(t, i, r, u) {
      function w() {
        if (!p) {
          y.html("");
          o.empty();
          return;
        }
        s = n("<div/>")
          .hide()
          .addClass(t.resultsClass)
          .css("position", "absolute")
          .appendTo(document.body);
        o = n("<ul/>")
          .appendTo(s)
          .mouseover(function(t) {
            a(t).nodeName &&
              a(t).nodeName.toUpperCase() == "LI" &&
              ((e = n("li", o)
                .removeClass(h.ACTIVE)
                .index(a(t))),
              n(a(t)).addClass(h.ACTIVE));
          })
          .click(function(u) {
            return (
              n(a(u)).addClass(h.ACTIVE),
              r(),
              i.focus(),
              n.isFunction(t.processEnd) && t.processEnd(),
              !1
            );
          })
          .mousedown(function() {
            u.mouseDownOnSelect = !0;
          })
          .mouseup(function() {
            u.mouseDownOnSelect = !1;
          });
        y = n("<span/>").appendTo(s);
        t.width > 0 && s.css("width", t.width);
        p = !1;
      }
      function a(n) {
        for (var t = n.target; t && t.tagName != "LI"; ) t = t.parentNode;
        return t ? t : [];
      }
      function l(n) {
        var r, i;
        f.slice(e, e + 1).removeClass(h.ACTIVE);
        b(n);
        r = f.slice(e, e + 1).addClass(h.ACTIVE);
        t.scroll &&
          ((i = 0),
          f.slice(0, e).each(function() {
            i += this.offsetHeight;
          }),
          i + r[0].offsetHeight - o.scrollTop() > o[0].clientHeight
            ? o.scrollTop(i + r[0].offsetHeight - o.innerHeight())
            : i < o.scrollTop() && o.scrollTop(i));
      }
      function b(n) {
        e += n;
        e < 0 ? (e = f.size() - 1) : e >= f.size() && (e = 0);
      }
      function k(n) {
        return t.max && t.max < n ? t.max : n;
      }
      function d() {
        for (var u = k(c.length), r, s, i = 0; i < u; i++)
          c[i] &&
            ((r = t.formatItem(c[i].data, i + 1, u, c[i].value, v)),
            r !== !1) &&
            ((s = n("<li/>")
              .html(t.highlight(r, v))
              .addClass(i % 2 == 0 ? "ac_even" : "ac_odd")
              .appendTo(o)[0]),
            n.data(s, "ac_data", c[i]));
        f = o.find("li");
        t.selectFirst && (f.slice(0, 1).addClass(h.ACTIVE), (e = 0));
        n.fn.bgiframe && o.bgiframe();
      }
      var h = { ACTIVE: "ac_over" },
        f,
        e = -1,
        c,
        v = "",
        p = !0,
        s,
        o,
        y;
      return {
        display: function(n, t) {
          w();
          c = n;
          v = t;
          d();
        },
        next: function() {
          l(1);
        },
        prev: function() {
          l(-1);
        },
        pageUp: function() {
          e != 0 && e - 8 < 0 ? l(-e) : l(-8);
        },
        pageDown: function() {
          e != f.size() - 1 && e + 8 > f.size() ? l(f.size() - 1 - e) : l(8);
        },
        hide: function() {
          s && s.hide();
          f && f.removeClass(h.ACTIVE);
          e = -1;
        },
        visible: function() {
          return s && s.is(":visible");
        },
        current: function() {
          return (
            this.visible() &&
            (f.filter("." + h.ACTIVE)[0] || (t.selectFirst && f[0]))
          );
        },
        show: function() {
          var e, r, l, u, h, c;
          n(i).addClass("ac_show");
          e = n(i).offset();
          r = e.top + i.offsetHeight;
          s.css({
            width:
              typeof t.width == "string" || t.width > 0
                ? t.width
                : n(i).width(),
            top: r,
            left: e.left
          }).show();
          t.autoPosition &&
            ((l = r + s.height()),
            (u = s.height()),
            (u = u > t.scrollHeight ? t.scrollHeight : u),
            l > n(window).height() && ((r = e.top - u), s.css("top", r)));
          t.scroll &&
            (o.scrollTop(0),
            o.css({ maxHeight: t.scrollHeight, overflow: "auto" }),
            n.browser.msie &&
              typeof document.body.style.maxHeight == "undefined" &&
              ((h = 0),
              f.each(function() {
                h += this.offsetHeight;
              }),
              (c = h > t.scrollHeight),
              o.css("height", c ? t.scrollHeight : h),
              c ||
                f.width(
                  o.width() -
                    parseInt(f.css("padding-left")) -
                    parseInt(f.css("padding-right"))
                )));
        },
        selected: function() {
          var t = f && f.filter("." + h.ACTIVE).removeClass(h.ACTIVE);
          return t && t.length && n.data(t[0], "ac_data");
        },
        emptyList: function() {
          o && o.empty();
        },
        unbind: function() {
          s && s.remove();
        },
        message: function(t) {
          w();
          y.html(t);
          n.fn.bgiframe && o.bgiframe();
        }
      };
    };
    n.Autocompleter.Selection = function(n, t, i) {
      if (n.createTextRange) {
        var r = n.createTextRange();
        r.collapse(!0);
        r.moveStart("character", t);
        r.moveEnd("character", i);
        r.select();
      } else
        n.setSelectionRange
          ? n.setSelectionRange(t, i)
          : n.selectionStart && ((n.selectionStart = t), (n.selectionEnd = i));
    };
  })(jQuery);
(jQuery.fn.autoCompletefb = function(n) {
  function w() {
    !e && $.isFunction(t.processBegin) && ((e = !0), t.processBegin(i));
  }
  function s() {
    e && $.isFunction(t.processEnd) && ((e = !1), t.processEnd(i));
  }
  function a() {
    var n = $(t.inputClass, i).val();
    n.length > 0
      ? $(t.inputClass, i).trigger("search", function(n) {
          n != null && f($(t.inputClass, i), n.data);
          s();
        })
      : s();
    o || $(t.inputClass, i).val("");
    o = !1;
  }
  function f(n, u, f, e) {
    var d, nt, h;
    n.hasClass("acfb-watermark") &&
      (n.removeClass("acfb-watermark"), n.siblings(".acfb-watermark").remove());
    var rt = !1,
      ut = $("input[type=hidden]", i).val(),
      s = ut.length > 0 ? JSON.parse(ut) : [],
      k = "Data";
    n.attr("data") != null && (k = n.attr("data"));
    d = "Description";
    n.attr("desc") != null && (d = n.attr("desc"));
    var a = k.length == 0,
      v = a ? u : u.ID,
      et = a ? u : u[k],
      g = a ? u : u[d],
      ft = !a && u.hasOwnProperty("Required") ? u.Required : !1;
    if (
      ($.each(s, function(n, i) {
        var u = a ? i : i.ID;
        t.multiple === !1 ? r.removeValue(u, !1) : u == v && (rt = !0);
      }),
      t.multiple === !1 && (s = []),
      !rt)
    ) {
      if (
        ($.each(t.mutexControls, function(n, t) {
          if (t != $("input[type=text]", i).attr("id")) {
            var r = $("#" + t),
              u = r.parent().parent()[0].acfb;
            u != null &&
              ($("input.acfb-value", r.parent()).attr(
                "data-suppress-autocount",
                "true"
              ),
              u.removeValue(v),
              $("input.acfb-value", r.parent()).removeAttr(
                "data-suppress-autocount"
              ));
          }
        }),
        s.push(u),
        (f = et),
        a && typeof v == "string")
      ) {
        var y = [],
          w = [],
          b = [];
        for (
          t.allowCommas
            ? (y.push(f), w.push(v), b.push(g))
            : ((y = f.split(",")), (w = v.split(",")), (b = g.split(","))),
            nt = !1,
            h = 0;
          h < y.length;
          h++
        ) {
          var c = "",
            tt = "",
            it = "";
          n.hasClass("f-form-integer-multiple")
            ? ((c = l(y[h])), (tt = l(w[h])), (it = l(b[h])))
            : ((c = y[h]), (tt = w[h]), (it = b[h]));
          s[s.length - 1].indexOf(",") > -1
            ? (s[s.length - 1] = c)
            : s[s.length - 1] != c && (s[s.length] = c);
          c.length > 0 && (p(c, s, tt, it, !1, ft), (nt = !0));
        }
        nt && e !== !1 && $("input[type = hidden]", i).trigger("change");
      } else o || p(f, s, v, g, e, ft);
      $.browser.msie &&
        t.mutexControls.length > 0 &&
        setTimeout("$('#" + n.attr("id") + "').focus();", 100);
    }
  }
  function l(n) {
    for (var i = n.split(""), r = "", t = 0; t < i.length; t++)
      /[0-9]/.test(i[t]) && (r += i[t]);
    return r.substring(0, 10);
  }
  function p(n, u, f, e, s, h) {
    var a, c;
    typeof h == "undefined" && (h = !1);
    e = e == null ? n : e;
    var v = { data: { Data: n, Description: e } },
      y = $.isFunction(t.acOptions.formatLabel)
        ? t.acOptions.formatLabel(v)
        : t.nameDescLabel && n != e
        ? n + " - " + e
        : n,
      l = $("<li/>")
        .addClass(t.safeFoundClass)
        .append(
          $("<span></span>")
            .attr("title", e)
            .text(y)
        );
    h ||
      $("<img/>")
        .addClass("p")
        .attr("rel", f)
        .attr("src", t.deleteImg)
        .attr("title", "Remove")
        .appendTo(l);
    $("input[type = hidden]", i).val(JSON.stringify(u));
    s !== !1 && $("input[type = hidden]", i).trigger("change");
    a = $(t.inputClass, i).before(l);
    c = $(a).prev("li:last");
    $(c).hover(r.dataHover, r.dataDeHover);
    $(c).bind("select", r.dataSelect);
    $(c).bind("deSelect", r.dataDeSelect);
    i.find("input.acfb-allow-edit").length > 0 &&
      $(c).dblclick(function() {
        o = !0;
        var n = $(this).context.innerText,
          u = r.getValues();
        $.each(u, function(t, i) {
          var u = i.ID;
          u == n && r.removeValue(u, !1);
        });
        $(t.inputClass, i).val(n);
      });
    $(".p", c).click(function() {
      return r.removeFind(this), !1;
    });
  }
  var i = this,
    u = {
      BACKSPACE: 8,
      TAB: 9,
      RETURN: 13,
      ESC: 27,
      LEFT: 37,
      UP: 38,
      RIGHT: 39,
      DOWN: 40,
      COMMA: 188,
      SPACE: 49,
      DELETE: 46
    },
    t = {
      ul: i,
      urlLookup: "",
      foundClass: ".acfb-data",
      foundHoverClass: ".acfb-data-hover",
      foundSelectedClass: ".acfb-data-selected",
      inputClass: ".acfb-input",
      inputHiddenClass: ".acfb-input-hidden",
      requiredClass: "acfb-required",
      allowEditClass: "acfb-allow-edit",
      deleteImg: "delete.gif",
      mutexControls: [],
      multiple: !0,
      nameDescLabel: !1,
      acOptions: {},
      allowCommas: !1,
      processBegin: function() {},
      processEnd: function() {}
    },
    e,
    o,
    r,
    h,
    v,
    y,
    c;
  return (
    n &&
      (jQuery.extend(t, n),
      (t.multiple = t.acOptions.multiple !== !1),
      (t.safeInputClass = t.inputClass.replace(/\./, "")),
      (t.safeInputHiddenClass = t.inputHiddenClass.replace(/\./, "")),
      (t.safeFoundClass = t.foundClass.replace(/\./, "")),
      (t.safeFoundHoverClass = t.foundHoverClass.replace(/\./, "")),
      (t.safeFoundSelectedClass = t.foundSelectedClass.replace(/\./, ""))),
    (e = !1),
    (o = !1),
    (r = {
      lastKey: 0,
      params: t,
      disableInput: function() {
        $(t.inputClass, i).attr("disabled", "disabled");
      },
      enableInput: function() {
        $(t.inputClass, i).removeAttr("disabled");
      },
      getData: function() {
        var n = "";
        return (
          $(t.foundClass, i).each(function(t) {
            t > 0 && (n += ",");
            n += $("span", this).html();
          }),
          n
        );
      },
      getValues: function() {
        var n = $("input[type=hidden]", i).val();
        return n.length > 0 ? JSON.parse(n) : [];
      },
      clearData: function() {
        return (
          $(t.foundClass, i).remove(),
          isTabletDevice() || $(t.inputClass, i).focus(),
          i.acfb
        );
      },
      setExtraParams: function(n) {
        t.acOptions = $.extend(t.acOptions, { extraParams: n });
        $(t.inputClass, i).setOptions(t.acOptions);
      },
      setLookupUrl: function(r) {
        var u = typeof r == "string";
        n = $.extend(
          {},
          $.Autocompleter.defaults,
          {
            url: u ? r : null,
            data: u ? null : r,
            delay: u ? $.Autocompleter.defaults.delay : 10,
            max: n && !n.scroll ? 10 : 150
          },
          t.acOptions
        );
        $(t.inputClass, i).setOptions(n);
      },
      dataHover: function() {
        $(this).addClass(t.safeFoundHoverClass);
      },
      dataDeHover: function() {
        $(this).removeClass(t.safeFoundHoverClass);
      },
      dataSelect: function() {
        $(this).addClass(t.safeFoundSelectedClass);
      },
      dataDeSelect: function() {
        $(this).removeClass(t.safeFoundSelectedClass);
      },
      handleDelete: function(n, u) {
        var e = !1,
          o = null,
          h = null,
          f;
        $(t.foundSelectedClass).length > 0
          ? ((e = !0),
            (f = $(t.foundSelectedClass)),
            (o = f.next(t.foundClass)),
            (h = f.prev(t.foundClass)),
            r.removeFind($("img.p", f)))
          : r.getValues().length > 0 &&
            $("input[type=text]", i).val().length == 0 &&
            ((e = !0),
            (o = n.next(t.foundClass)),
            (h = n.prev(t.foundClass)),
            r.removeFind($("img.p", n)));
        e &&
          (u === !0
            ? h.addClass(t.safeFoundSelectedClass)
            : o.addClass(t.safeFoundSelectedClass));
        s();
      },
      getIndexOf: function(n, t) {
        var i = -1;
        return (
          t.hasOwnProperty("ID") && (t = t.ID),
          $.each(n, function(n, r) {
            if (r != null)
              if (r.hasOwnProperty("ID")) {
                if (r.ID == t) return (i = n), !1;
              } else if (r == t) return (i = n), !1;
          }),
          i
        );
      },
      mergeResults: function(n) {
        var t = $("input[type=hidden]", i),
          s = t.val(),
          u = s.length > 0 ? JSON.parse(s) : [],
          e = [],
          o = !1,
          h;
        $.each(u, function(t, i) {
          var f = r.getIndexOf(n, i);
          f !== -1 || (i.hasOwnProperty("ID") && i.ID == "-1")
            ? e.push(u[t])
            : (o = !0);
        });
        $.each(n, function(t, i) {
          var f = r.getIndexOf(u, i);
          f === -1 && (e.push(n[t]), (o = !0));
        });
        o &&
          ((h = $("input[type=text]", i)),
          t.val(""),
          $("li.acfb-data", i).remove(),
          $.each(e, function(n, t) {
            f(h, t, null, !1);
          }),
          t.trigger("change"));
      },
      removeFind: function(n, r, u) {
        var e = $("input[type=hidden]", i),
          h = e.val(),
          f = h.length > 0 ? JSON.parse(h) : [],
          o = !1,
          s;
        return (
          $.each(f, function(t, i) {
            i != null &&
              (i.hasOwnProperty("ID")
                ? i.ID == $(n).attr("rel") &&
                  (f.splice(t, 1),
                  (o = !0),
                  e[0].id.indexOf("hdnf_518") >= 0 &&
                    $.focusFx.$mapTab &&
                    $.focusFx.$mapTab.length > 0 &&
                    !$.focusFx.isSrcEmpty($.focusFx.$mapTab) &&
                    $.focusFx.$mapTab[0].contentWindow.$.bkfsMap.deleteShape(
                      i.Value.id,
                      !0
                    ))
                : i == $(n).attr("rel") && (f.splice(t, 1), (o = !0)));
          }),
          o
            ? (e.val(f.length == 0 ? "" : JSON.stringify(f)),
              $(n)
                .unbind("click")
                .parent()
                .remove(),
              r !== !1 && e.trigger("change"))
            : e[0].id.indexOf("hdnf_492") >= 0 &&
              ((s = ""),
              $.each(f, function(n, t) {
                var i = t.hasOwnProperty("Required") ? t.Required : !1;
                i == !0 && (s += "<br/>" + t.Data);
              }),
              $.jGrowl(
                "The Listing Visibility type below cannot be removed:<br/>" + s,
                { life: 5e3, header: "ALERT", group: "jgrowl-alert" }
              )),
          u || isTabletDevice() || $(t.inputClass, i).focus(),
          $(t.inputClass + "-hidden", i).length > 0 &&
            f.length == 0 &&
            $(t.inputClass, i).removeClass(t.safeInputHiddenClass),
          i.acfb
        );
      },
      removeValue: function(n, t, r) {
        var u = $("img.p[rel='" + n + "']", i).get(0);
        return this.removeFind(u, t, r);
      },
      findSingleValue: function(n, u) {
        function l(t, i) {
          var h = !1,
            o,
            s,
            r,
            a,
            l;
          if (i && i.length) {
            for (
              o = !1,
                s = "Data",
                c.attr("data") != null && (s = c.attr("data")),
                r = 0;
              r < i.length;
              r++
            )
              if (
                ((a = i[r].data),
                String(i[r].data[s]).toLowerCase() == n.toLowerCase() ||
                  String(i[r].data.Description).toLowerCase() ==
                    n.toLowerCase())
              ) {
                o = i[r];
                break;
              }
            o
              ? (e.val(""), f(e, o.data), (h = !0))
              : ((l = jQuery.Event("keydown", { which: 40 })),
                e.focus().trigger(l));
          }
          $.isFunction(u) && u(h);
        }
        var s = $("input[type=hidden]", i),
          o = s.val(),
          h = o.length > 0 ? JSON.parse(o) : [],
          e;
        $.each(h, function(n, t) {
          t != null && t.hasOwnProperty("ID") && r.removeValue(t.ID, !1, !0);
        });
        e = $(t.inputClass, i);
        e.val(n);
        e.trigger("search", [l]);
      }
    }),
    $(t.inputClass, i).bind(
      ($.browser.opera ? "keypress" : "keydown") + ".autocomplete",
      function(n) {
        var e = $(this),
          f;
        if (e.closest("ul").hasClass("acfb-no-input"))
          return n.preventDefault(), !1;
        w();
        switch (n.keyCode) {
          case u.LEFT:
            if (e.val() == "")
              return (
                (f = $(t.foundSelectedClass, i)),
                f.length == 0
                  ? $(t.foundClass + ":last", i).addClass(
                      t.safeFoundSelectedClass
                    )
                  : (f.removeClass(t.safeFoundSelectedClass),
                    f.prev(t.foundClass).addClass(t.safeFoundSelectedClass)),
                !1
              );
            break;
          case u.RIGHT:
            if (e.val() == "")
              return (
                (f = $(t.foundSelectedClass, i)),
                f.length == 0
                  ? $(t.foundClass + ":first", i).addClass(
                      t.safeFoundSelectedClass
                    )
                  : (f.removeClass(t.safeFoundSelectedClass),
                    f.next(t.foundClass).addClass(t.safeFoundSelectedClass)),
                !1
              );
            break;
          case u.BACKSPACE:
            if (e.val() == "")
              return (
                $(t.foundSelectedClass, i).length > 0
                  ? r.handleDelete($(t.foundSelectedClass, i), !0)
                  : $(t.foundClass + ":last", i).addClass(
                      t.safeFoundSelectedClass
                    ),
                !1
              );
            break;
          case u.DELETE:
            if (e.val() == "")
              return r.handleDelete($(t.foundSelectedClass, i), !1), !1;
            break;
          case u.COMMA:
            return t.allowCommas
              ? void 0
              : (t.urlLookup.length != 0 &&
                  t.multiple &&
                  !e.hasClass("ac_show") &&
                  a(),
                !1);
        }
      }
    ),
    $(this).click(function() {
      isTabletDevice() || $(t.inputClass, i).focus();
    }),
    $(t.inputClass, i).blur(function(n) {
      var r, n;
      if (config.mouseDownOnSelect) return !1;
      $(t.foundClass + ":last", i).after($(this));
      $(t.foundClass, i).trigger("deSelect");
      $(this).removeClass(t.safeInputHiddenClass);
      r = $(t.inputClass, i).attr("Data").length == 0;
      r
        ? ((n = jQuery.Event("keydown")),
          (n.keyCode = t.allowCommas ? u.RETURN : u.COMMA),
          $(t.inputClass, i).trigger(n),
          s())
        : window.setTimeout(function() {
            a();
          }, 100);
    }),
    t.urlLookup.length != 0
      ? ($.extend(t.acOptions, { processEnd: s }),
        $(t.inputClass, i).autocomplete(t.urlLookup, t.acOptions))
      : $(t.inputClass, i).keydown(function(r) {
          if (!t.allowCommas || r.keyCode != u.COMMA)
            switch (r.keyCode) {
              case u.RETURN:
              case u.COMMA:
                var e = $("input[type=hidden]", i).val(),
                  s = e.length > 0 ? JSON.parse(e) : [],
                  o = $("input[type=text]", i).val();
                return o.length > 0
                  ? (f($(this), o),
                    $(t.inputClass, i)
                      .val("")
                      .focus(),
                    $.isFunction(n.processEnd) && n.processEnd(),
                    !1)
                  : !0;
            }
        }),
    (h = $("input[type=hidden]", i)),
    h.length > 0 &&
      h.val().length > 0 &&
      ((v = h.val()),
      h.val(""),
      (y = JSON.parse(v)),
      (c = $("input[type=text]", i)),
      $.each(y, function(n, t) {
        f(c, t);
      })),
    $(t.inputClass, i).result(function(n, r, u) {
      f($(this), r, u);
      $(t.inputClass, i)
        .val("")
        .focus();
      n.stopImmediatePropagation();
    }),
    this.each(function() {
      this.acfb = r;
    }),
    r
  );
}),
  (function(n) {
    n.dimensions = { version: "@VERSION" };
    n.each(["Height", "Width"], function(i, r) {
      n.fn["inner" + r] = function() {
        if (this[0]) {
          var n = r == "Height" ? "Top" : "Left",
            i = r == "Height" ? "Bottom" : "Right";
          return (
            this[r.toLowerCase()]() +
            t(this, "padding" + n) +
            t(this, "padding" + i)
          );
        }
      };
      n.fn["outer" + r] = function(i) {
        if (this[0]) {
          var u = r == "Height" ? "Top" : "Left",
            f = r == "Height" ? "Bottom" : "Right";
          return (
            (i = n.extend({ margin: !1 }, i || {})),
            this[r.toLowerCase()]() +
              t(this, "border" + u + "Width") +
              t(this, "border" + f + "Width") +
              t(this, "padding" + u) +
              t(this, "padding" + f) +
              (i.margin ? t(this, "margin" + u) + t(this, "margin" + f) : 0)
          );
        }
      };
    });
    n.each(["Left", "Top"], function(t, i) {
      n.fn["scroll" + i] = function(t) {
        if (this[0])
          return t != undefined
            ? this.each(function() {
                this == window || this == document
                  ? window.scrollTo(
                      i == "Left" ? t : n(window).scrollLeft(),
                      i == "Top" ? t : n(window).scrollTop()
                    )
                  : (this["scroll" + i] = t);
              })
            : this[0] == window || this[0] == document
            ? self[i == "Left" ? "pageXOffset" : "pageYOffset"] ||
              (n.boxModel && document.documentElement["scroll" + i]) ||
              document.body["scroll" + i]
            : this[0]["scroll" + i];
      };
    });
    var t = function(t, i) {
      return parseInt(n.css(t.jquery ? t[0] : t, i)) || 0;
    };
  })(jQuery);
!(function(n) {
  "function" == typeof define && define.amd
    ? define(["jquery"], n)
    : n("object" == typeof exports ? require("jquery") : jQuery);
})(function(n) {
  var i,
    t = navigator.userAgent,
    u = /iphone/i.test(t),
    f = /chrome/i.test(t),
    r = /android/i.test(t);
  n.mask = {
    definitions: {
      "9": "[0-9]",
      a: "[A-Za-z]",
      "*": "[A-Za-z0-9]",
      c: "[A-Z]"
    },
    autoclear: !0,
    dataName: "rawMaskFn",
    placeholder: "_"
  };
  n.fn.extend({
    caret: function(n, t) {
      var i;
      if (0 !== this.length && !this.is(":hidden"))
        return "number" == typeof n
          ? ((t = "number" == typeof t ? t : n),
            this.each(function() {
              this.setSelectionRange
                ? this.setSelectionRange(n, t)
                : this.createTextRange &&
                  ((i = this.createTextRange()),
                  i.collapse(!0),
                  i.moveEnd("character", t),
                  i.moveStart("character", n),
                  i.select());
            }))
          : (this[0].setSelectionRange
              ? ((n = this[0].selectionStart), (t = this[0].selectionEnd))
              : document.selection &&
                document.selection.createRange &&
                ((i = document.selection.createRange()),
                (n = 0 - i.duplicate().moveStart("character", -1e5)),
                (t = n + i.text.length)),
            { begin: n, end: t });
    },
    unmask: function() {
      return this.trigger("unmask");
    },
    mask: function(t, e) {
      var y, l, o, c, h, a, s, p, v;
      return !t && this.length > 0
        ? ((y = n(this[0])), (v = y.data(n.mask.dataName)), v ? v() : void 0)
        : ((e = n.extend(
            {
              autoclear: n.mask.autoclear,
              placeholder: n.mask.placeholder,
              completed: null
            },
            e
          )),
          (l = n.mask.definitions),
          (o = []),
          (c = s = t.length),
          (h = null),
          n.each(t.split(""), function(n, t) {
            "?" == t
              ? (s--, (c = n))
              : l[t]
              ? (o.push(new RegExp(l[t])),
                null === h && (h = o.length - 1),
                c > n && (a = o.length - 1))
              : o.push(null);
          }),
          this.trigger("unmask").each(function() {
            function nt() {
              if (e.completed) {
                for (var n = h; a >= n; n++) if (o[n] && y[n] === w(n)) return;
                e.completed.call(v);
              }
            }
            function w(n) {
              return e.placeholder.charAt(n < e.placeholder.length ? n : 0);
            }
            function b(n) {
              for (; ++n < s && !o[n]; );
              return n;
            }
            function ut(n) {
              for (; --n >= 0 && !o[n]; );
              return n;
            }
            function it(n, t) {
              var r, i;
              if (!(0 > n)) {
                for (r = n, i = b(t); s > r; r++)
                  if (o[r]) {
                    if (!(s > i && o[r].test(y[i]))) break;
                    y[r] = y[i];
                    y[i] = w(i);
                    i = b(i);
                  }
                d();
                v.caret(Math.max(h, n));
              }
            }
            function ft(n) {
              for (var r, u, t = n, i = w(n); s > t; t++)
                if (o[t]) {
                  if (
                    ((r = b(t)),
                    (u = y[t]),
                    (y[t] = i),
                    !(s > r && o[r].test(u)))
                  )
                    break;
                  i = u;
                }
            }
            function et() {
              var t = v.val(),
                n = v.caret();
              if (t.length < p.length) {
                for (k(!0); n.begin > 0 && !o[n.begin - 1]; ) n.begin--;
                if (0 === n.begin)
                  for (; n.begin < h && !o[n.begin]; ) n.begin++;
                v.caret(n.begin, n.begin);
              } else {
                for (k(!0); n.begin < s && !o[n.begin]; ) n.begin++;
                v.caret(n.begin, n.begin);
              }
              nt();
            }
            function rt() {
              k();
              v.val() != tt && v.change();
            }
            function ot(n) {
              if (!v.prop("readonly")) {
                var f,
                  i,
                  t,
                  r = n.which || n.keyCode;
                p = v.val();
                8 === r || 46 === r || (u && 127 === r)
                  ? ((f = v.caret()),
                    (i = f.begin),
                    (t = f.end),
                    t - i == 0 &&
                      ((i = 46 !== r ? ut(i) : (t = b(i - 1))),
                      (t = 46 === r ? b(t) : t)),
                    g(i, t),
                    it(i, t - 1),
                    n.preventDefault())
                  : 13 === r
                  ? rt.call(this, n)
                  : 27 === r &&
                    (v.val(tt), v.caret(0, k()), n.preventDefault());
              }
            }
            function st(t) {
              var u, e, h, f, i, c;
              v.prop("readonly") ||
                ((f = t.which || t.keyCode),
                (i = v.caret()),
                t.ctrlKey ||
                  t.altKey ||
                  t.metaKey ||
                  32 > f ||
                  !f ||
                  13 === f ||
                  ((i.end - i.begin != 0 &&
                    (g(i.begin, i.end), it(i.begin, i.end - 1)),
                  (u = b(i.begin - 1)),
                  s > u && ((e = String.fromCharCode(f)), o[u].test(e))) &&
                    ((ft(u), (y[u] = e), d(), (h = b(u)), r)
                      ? ((c = function() {
                          n.proxy(n.fn.caret, v, h)();
                        }),
                        setTimeout(c, 0))
                      : v.caret(h),
                    i.begin <= a && nt()),
                  t.preventDefault()));
            }
            function g(n, t) {
              for (var i = n; t > i && s > i; i++) o[i] && (y[i] = w(i));
            }
            function d() {
              v.val(y.join(""));
            }
            function k(n) {
              for (var f, r = v.val(), u = -1, t = 0, i = 0; s > t; t++)
                if (o[t]) {
                  for (y[t] = w(t); i++ < r.length; )
                    if (((f = r.charAt(i - 1)), o[t].test(f))) {
                      y[t] = f;
                      u = t;
                      break;
                    }
                  if (i > r.length) {
                    g(t + 1, s);
                    break;
                  }
                } else y[t] === r.charAt(i) && i++, c > t && (u = t);
              return (
                n
                  ? d()
                  : c > u + 1
                  ? e.autoclear || y.join("") === ht
                    ? (v.val() && v.val(""), g(0, s))
                    : d()
                  : (d(), v.val(v.val().substring(0, u + 1))),
                c ? t : h
              );
            }
            var v = n(this),
              y = n.map(t.split(""), function(n, t) {
                if ("?" != n) return l[n] ? w(t) : n;
              }),
              ht = y.join(""),
              tt = v.val();
            v.data(n.mask.dataName, function() {
              return n
                .map(y, function(n, t) {
                  return o[t] && n != w(t) ? n : null;
                })
                .join("");
            });
            v.one("unmask", function() {
              v.off(".mask").removeData(n.mask.dataName);
            })
              .on("focus.mask", function() {
                if (!v.prop("readonly")) {
                  clearTimeout(i);
                  var n;
                  tt = v.val();
                  n = k();
                  i = setTimeout(function() {
                    d();
                    n == t.replace("?", "").length ? v.caret(0, n) : v.caret(n);
                  }, 10);
                }
              })
              .on("blur.mask", rt)
              .on("keydown.mask", ot)
              .on("keypress.mask", st)
              .on("input.mask paste.mask", function() {
                v.prop("readonly") ||
                  setTimeout(function() {
                    var n = k(!0);
                    v.caret(n);
                    nt();
                  }, 0);
              });
            f && r && v.off("input.mask").on("input.mask", et);
            k();
          }));
    }
  });
}),
  (function(n) {
    n.fn.parentChildNav = function(t) {
      var i = n.extend({}, n.fn.parentChildNav.defaults, t),
        r = null;
      this.click(function() {
        if (((r = parent.$("li .clicked").attr("id")), !i.nextMenu)) return !1;
        var t = parent.$("li").find('a[text="' + i.nextMenu + '"]');
        if (
          ((t = parent.$("#" + i.nextMenu)),
          t.length < 1 &&
            (parent.$("a.ContactManagerMenuItem").each(function() {
              if (n(this).text() == i.nextMenu) return (t = this), !1;
            }),
            t.length < 1))
        )
          return !1;
        parent.$.tree.focused().select_branch(t);
      });
    };
    n.fn.parentChildNav.defaults = { nextMenu: null };
  })(jQuery),
  (function(n) {
    function r(r, u) {
      this.element = r;
      this.$element = n(r);
      this.options = n.extend({}, i, u);
      this._defaults = i;
      this._name = t;
      this.init();
    }
    var t = "watermark",
      i = {
        onClass: "watermarkOn",
        textAttribute: "watermarkValue",
        triggerName: "watermarkValidate"
      };
    r.prototype = {
      init: function() {
        this.$element
          .focus(function() {
            n(this)
              .removeClass("watermarkOn")
              .filter(function() {
                return n(this).val() == n(this).attr("watermarkValue");
              })
              .val("");
          })
          .blur(function() {
            n(this).val() == ""
              ? n(this)
                  .addClass("watermarkOn")
                  .val(n(this).attr("watermarkValue"))
              : n(this).trigger("watermarkValidate");
          })
          .change(function() {
            n(this).val().length > 0 &&
              n(this).val() != n(this).attr("watermarkValue") &&
              n(this).removeClass("watermarkOn");
          });
      }
    };
    n.fn[t] = function(i) {
      return this.each(function() {
        n.data(this, "plugin_" + t) ||
          n.data(this, "plugin_" + t, new r(this, i));
      });
    };
  })(jQuery, window, document),
  (function() {
    "use strict";
    function n(n) {
      function s(s, h) {
        var rt,
          ut,
          p = s == window,
          l = h && h.message !== undefined ? h.message : undefined,
          g,
          k,
          d,
          tt,
          nt,
          w,
          b,
          it,
          ft,
          et,
          at;
        if (
          ((h = n.extend({}, n.blockUI.defaults, h || {})),
          !h.ignoreIfBlocked || !n(s).data("blockUI.isBlocked"))
        ) {
          if (
            ((h.overlayCSS = n.extend(
              {},
              n.blockUI.defaults.overlayCSS,
              h.overlayCSS || {}
            )),
            (rt = n.extend({}, n.blockUI.defaults.css, h.css || {})),
            h.onOverlayClick && (h.overlayCSS.cursor = "pointer"),
            (ut = n.extend(
              {},
              n.blockUI.defaults.themedCSS,
              h.themedCSS || {}
            )),
            (l = l === undefined ? h.message : l),
            p && t && e(window, { fadeOut: 0 }),
            l &&
              typeof l != "string" &&
              (l.parentNode || l.jquery) &&
              ((g = l.jquery ? l[0] : l),
              (k = {}),
              n(s).data("blockUI.history", k),
              (k.el = g),
              (k.parent = g.parentNode),
              (k.display = g.style.display),
              (k.position = g.style.position),
              k.parent && k.parent.removeChild(g)),
            n(s).data("blockUI.onUnblock", h.onUnblock),
            (d = h.baseZ),
            (tt =
              f || h.forceIframe
                ? n(
                    '<iframe class="blockUI" style="z-index:' +
                      d++ +
                      ';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="' +
                      h.iframeSrc +
                      '"></iframe>'
                  )
                : n('<div class="blockUI" style="display:none"></div>')),
            (nt = h.theme
              ? n(
                  '<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:' +
                    d++ +
                    ';display:none"></div>'
                )
              : n(
                  '<div class="blockUI blockOverlay" style="z-index:' +
                    d++ +
                    ';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'
                )),
            h.theme && p
              ? ((b =
                  '<div class="blockUI ' +
                  h.blockMsgClass +
                  ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:' +
                  (d + 10) +
                  ';display:none;position:fixed">'),
                h.title &&
                  (b +=
                    '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' +
                    (h.title || "&nbsp;") +
                    "</div>"),
                (b +=
                  '<div class="ui-widget-content ui-dialog-content"></div>'),
                (b += "</div>"))
              : h.theme
              ? ((b =
                  '<div class="blockUI ' +
                  h.blockMsgClass +
                  ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:' +
                  (d + 10) +
                  ';display:none;position:absolute">'),
                h.title &&
                  (b +=
                    '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' +
                    (h.title || "&nbsp;") +
                    "</div>"),
                (b +=
                  '<div class="ui-widget-content ui-dialog-content"></div>'),
                (b += "</div>"))
              : (b = p
                  ? '<div class="blockUI ' +
                    h.blockMsgClass +
                    ' blockPage" style="z-index:' +
                    (d + 10) +
                    ';display:none;position:fixed"></div>'
                  : '<div class="blockUI ' +
                    h.blockMsgClass +
                    ' blockElement" style="z-index:' +
                    (d + 10) +
                    ';display:none;position:absolute"></div>'),
            (w = n(b)),
            l &&
              (h.theme
                ? (w.css(ut), w.addClass("ui-widget-content"))
                : w.css(rt)),
            h.theme || nt.css(h.overlayCSS),
            nt.css("position", p ? "fixed" : "absolute"),
            (f || h.forceIframe) && tt.css("opacity", 0),
            (it = [tt, nt, w]),
            (ft = p ? n("body") : n(s)),
            n.each(it, function() {
              this.appendTo(ft);
            }),
            h.theme &&
              h.draggable &&
              n.fn.draggable &&
              w.draggable({ handle: ".ui-dialog-titlebar", cancel: "li" }),
            (et =
              v &&
              (!n.support.boxModel ||
                n("object,embed", p ? null : s).length > 0)),
            o || et)
          ) {
            if (
              (p &&
                h.allowBodyStretch &&
                n.support.boxModel &&
                n("html,body").css("height", "100%"),
              (o || !n.support.boxModel) && !p)
            )
              var ot = r(s, "borderTopWidth"),
                st = r(s, "borderLeftWidth"),
                ht = ot ? "(0 - " + ot + ")" : 0,
                ct = st ? "(0 - " + st + ")" : 0;
            n.each(it, function(n, t) {
              var i = t[0].style,
                r,
                u;
              i.position = "absolute";
              n < 2
                ? (p
                    ? i.setExpression(
                        "height",
                        "Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:" +
                          h.quirksmodeOffsetHack +
                          ') + "px"'
                      )
                    : i.setExpression(
                        "height",
                        'this.parentNode.offsetHeight + "px"'
                      ),
                  p
                    ? i.setExpression(
                        "width",
                        'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'
                      )
                    : i.setExpression(
                        "width",
                        'this.parentNode.offsetWidth + "px"'
                      ),
                  ct && i.setExpression("left", ct),
                  ht && i.setExpression("top", ht))
                : h.centerY
                ? (p &&
                    i.setExpression(
                      "top",
                      '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'
                    ),
                  (i.marginTop = 0))
                : !h.centerY &&
                  p &&
                  ((r = h.css && h.css.top ? parseInt(h.css.top, 10) : 0),
                  (u =
                    "((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + " +
                    r +
                    ') + "px"'),
                  i.setExpression("top", u));
            });
          }
          if (
            (l &&
              (h.theme ? w.find(".ui-widget-content").append(l) : w.append(l),
              (l.jquery || l.nodeType) && n(l).show()),
            (f || h.forceIframe) && h.showOverlay && tt.show(),
            h.fadeIn)
          ) {
            var lt = h.onBlock ? h.onBlock : u,
              vt = h.showOverlay && !l ? lt : u,
              yt = l ? lt : u;
            h.showOverlay && nt._fadeIn(h.fadeIn, vt);
            l && w._fadeIn(h.fadeIn, yt);
          } else
            h.showOverlay && nt.show(),
              l && w.show(),
              h.onBlock && h.onBlock.bind(w)();
          c(1, s, h);
          p
            ? ((t = w[0]),
              (i = n(h.focusableElements, t)),
              h.focusInput && setTimeout(a, 20))
            : y(w[0], h.centerX, h.centerY);
          h.timeout &&
            ((at = setTimeout(function() {
              p ? n.unblockUI(h) : n(s).unblock(h);
            }, h.timeout)),
            n(s).data("blockUI.timeout", at));
        }
      }
      function e(r, u) {
        var o,
          s = r == window,
          e = n(r),
          l = e.data("blockUI.history"),
          a = e.data("blockUI.timeout"),
          f;
        a && (clearTimeout(a), e.removeData("blockUI.timeout"));
        u = n.extend({}, n.blockUI.defaults, u || {});
        c(0, r, u);
        u.onUnblock === null &&
          ((u.onUnblock = e.data("blockUI.onUnblock")),
          e.removeData("blockUI.onUnblock"));
        f = s
          ? n("body")
              .children()
              .filter(".blockUI")
              .add("body > .blockUI")
          : e.find(">.blockUI");
        u.cursorReset &&
          (f.length > 1 && (f[1].style.cursor = u.cursorReset),
          f.length > 2 && (f[2].style.cursor = u.cursorReset));
        s && (t = i = null);
        u.fadeOut
          ? ((o = f.length),
            f.stop().fadeOut(u.fadeOut, function() {
              --o == 0 && h(f, l, u, r);
            }))
          : h(f, l, u, r);
      }
      function h(t, i, r, u) {
        var f = n(u);
        if (!f.data("blockUI.isBlocked")) {
          if (
            (t.each(function() {
              this.parentNode && this.parentNode.removeChild(this);
            }),
            i &&
              i.el &&
              ((i.el.style.display = i.display),
              (i.el.style.position = i.position),
              (i.el.style.cursor = "default"),
              i.parent && i.parent.appendChild(i.el),
              f.removeData("blockUI.history")),
            f.data("blockUI.static") && f.css("position", "static"),
            typeof r.onUnblock == "function")
          )
            r.onUnblock(u, r);
          var e = n(document.body),
            o = e.width(),
            s = e[0].style.width;
          e.width(o - 1).width(o);
          e[0].style.width = s;
        }
      }
      function c(i, r, u) {
        var f = r == window,
          o = n(r),
          e;
        (i || ((!f || t) && (f || o.data("blockUI.isBlocked")))) &&
          (o.data("blockUI.isBlocked", i),
          f && u.bindEvents && (!i || u.showOverlay)) &&
          ((e =
            "mousedown mouseup keydown keypress keyup touchstart touchend touchmove"),
          i ? n(document).bind(e, u, l) : n(document).unbind(e, l));
      }
      function l(r) {
        var u, f;
        if (
          r.type === "keydown" &&
          r.keyCode &&
          r.keyCode == 9 &&
          t &&
          r.data.constrainTabKey
        ) {
          var e = i,
            s = !r.shiftKey && r.target === e[e.length - 1],
            o = r.shiftKey && r.target === e[0];
          if (s || o)
            return (
              setTimeout(function() {
                a(o);
              }, 10),
              !1
            );
        }
        if (
          ((u = r.data),
          (f = n(r.target)),
          f.hasClass("blockOverlay") && u.onOverlayClick)
        )
          u.onOverlayClick(r);
        return f.parents("div." + u.blockMsgClass).length > 0
          ? !0
          : f
              .parents()
              .children()
              .filter("div.blockUI").length === 0;
      }
      function a(n) {
        if (i) {
          var t = i[n === !0 ? i.length - 1 : 0];
          t && t.focus();
        }
      }
      function y(n, t, i) {
        var u = n.parentNode,
          f = n.style,
          e = (u.offsetWidth - n.offsetWidth) / 2 - r(u, "borderLeftWidth"),
          o = (u.offsetHeight - n.offsetHeight) / 2 - r(u, "borderTopWidth");
        t && (f.left = e > 0 ? e + "px" : "0");
        i && (f.top = o > 0 ? o + "px" : "0");
      }
      function r(t, i) {
        return parseInt(n.css(t, i), 10) || 0;
      }
      var t, i;
      n.fn._fadeIn = n.fn.fadeIn;
      var u = n.noop || function() {},
        f = /MSIE/.test(navigator.userAgent),
        o =
          /MSIE 6.0/.test(navigator.userAgent) &&
          !/MSIE 8.0/.test(navigator.userAgent),
        p = document.documentMode || 0,
        v = n.isFunction(document.createElement("div").style.setExpression);
      n.blockUI = function(n) {
        s(window, n);
      };
      n.unblockUI = function(n) {
        e(window, n);
      };
      n.growlUI = function(t, i, r, u) {
        var f = n('<div class="growlUI"></div>'),
          e,
          o;
        t && f.append("<h1>" + t + "</h1>");
        i && f.append("<h2>" + i + "</h2>");
        r === undefined && (r = 3e3);
        e = function(t) {
          t = t || {};
          n.blockUI({
            message: f,
            fadeIn: typeof t.fadeIn != "undefined" ? t.fadeIn : 700,
            fadeOut: typeof t.fadeOut != "undefined" ? t.fadeOut : 1e3,
            timeout: typeof t.timeout != "undefined" ? t.timeout : r,
            centerY: !1,
            showOverlay: !1,
            onUnblock: u,
            css: n.blockUI.defaults.growlCSS
          });
        };
        e();
        o = f.css("opacity");
        f.mouseover(function() {
          e({ fadeIn: 0, timeout: 3e4 });
          var t = n(".blockMsg");
          t.stop();
          t.fadeTo(300, 1);
        }).mouseout(function() {
          n(".blockMsg").fadeOut(1e3);
        });
      };
      n.fn.block = function(t) {
        if (this[0] === window) return n.blockUI(t), this;
        var i = n.extend({}, n.blockUI.defaults, t || {});
        return (
          this.each(function() {
            var t = n(this);
            (i.ignoreIfBlocked && t.data("blockUI.isBlocked")) ||
              t.unblock({ fadeOut: 0 });
          }),
          this.each(function() {
            n.css(this, "position") == "static" &&
              ((this.style.position = "relative"),
              n(this).data("blockUI.static", !0));
            this.style.zoom = 1;
            s(this, t);
          })
        );
      };
      n.fn.unblock = function(t) {
        return this[0] === window
          ? (n.unblockUI(t), this)
          : this.each(function() {
              e(this, t);
            });
      };
      n.blockUI.version = 2.7;
      n.blockUI.defaults = {
        message: "<h1>Please wait...</h1>",
        title: null,
        draggable: !0,
        theme: !1,
        css: {
          padding: 0,
          margin: 0,
          width: "30%",
          top: "40%",
          left: "35%",
          textAlign: "center",
          color: "#000",
          border: "3px solid #aaa",
          backgroundColor: "#fff",
          cursor: "wait"
        },
        themedCSS: { width: "30%", top: "40%", left: "35%" },
        overlayCSS: { backgroundColor: "#000", opacity: 0.6, cursor: "wait" },
        cursorReset: "default",
        growlCSS: {
          width: "350px",
          top: "10px",
          left: "",
          right: "10px",
          border: "none",
          padding: "5px",
          opacity: 0.6,
          cursor: "default",
          color: "#fff",
          backgroundColor: "#000",
          "-webkit-border-radius": "10px",
          "-moz-border-radius": "10px",
          "border-radius": "10px"
        },
        iframeSrc: /^https/i.test(window.location.href || "")
          ? "javascript:false"
          : "about:blank",
        forceIframe: !1,
        baseZ: 1e3,
        centerX: !0,
        centerY: !0,
        allowBodyStretch: !0,
        bindEvents: !0,
        constrainTabKey: !0,
        fadeIn: 200,
        fadeOut: 400,
        timeout: 0,
        showOverlay: !0,
        focusInput: !0,
        focusableElements: ":input:enabled:visible",
        onBlock: null,
        onUnblock: null,
        onOverlayClick: null,
        quirksmodeOffsetHack: 4,
        blockMsgClass: "blockMsg",
        ignoreIfBlocked: !1
      };
      t = null;
      i = [];
    }
    typeof define == "function" && define.amd && define.amd.jQuery
      ? define(["jquery"], n)
      : n(jQuery);
  })();
